"use strict";(self.webpackChunkangular_project=self.webpackChunkangular_project||[]).push([[179],{2011:(it,ye,x)=>{x.d(ye,{Dh:()=>se,cc:()=>we,hO:()=>xe,on:()=>P,xv:()=>ae});var o=x(4650),z=x(9260),V=x(2122);it=x.hmd(it);class Y{constructor(We){return We}}const se=new o.OlP("angularfire2.app.options"),ae=new o.OlP("angularfire2.app.name");function P(re,We,ct){const Te="object"==typeof ct&&ct||{};Te.name=Te.name||"string"==typeof ct&&ct||"[DEFAULT]";const Fe=z.Z.apps.filter(ke=>ke&&ke.name===Te.name)[0]||We.runOutsideAngular(()=>z.Z.initializeApp(re,Te));try{JSON.stringify(re)!==JSON.stringify(Fe.options)&&L("error",`${Fe.name} Firebase App already initialized with different options${it.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Y(Fe)}const L=(re,...We)=>{(0,o.X6Q)()&&typeof console<"u"&&console[re](...We)},G={provide:Y,useFactory:P,deps:[se,o.R0b,[new o.FiY,ae]]};let xe=(()=>{class re{constructor(ct){z.Z.registerVersion("angularfire",V.q4.full,"core"),z.Z.registerVersion("angularfire",V.q4.full,"app-compat"),z.Z.registerVersion("angular",o.q4F.full,ct.toString())}static initializeApp(ct,Ce){return{ngModule:re,providers:[{provide:se,useValue:ct},{provide:ae,useValue:Ce}]}}}return re.\u0275fac=function(ct){return new(ct||re)(o.LFG(o.Lbi))},re.\u0275mod=o.oAB({type:re}),re.\u0275inj=o.cJS({providers:[G]}),re})();function we(re,We,ct,Ce,Te){const[,ge,Fe]=globalThis.\u0275AngularfireInstanceCache.find(ke=>ke[0]===re)||[];if(ge)return function pe(re,We){try{return re.toString()===We.toString()}catch{return re===We}}(Te,Fe)||(de("error",`${We} was already initialized on the ${ct} Firebase App with different settings.${Ke?" You may need to reload as Firebase is not HMR aware.":""}`),de("warn",{is:Te,was:Fe})),ge;{const ke=Ce();return globalThis.\u0275AngularfireInstanceCache.push([re,ke,Te]),ke}}const Ke=!!it.hot,de=(re,...We)=>{(0,o.X6Q)()&&typeof console<"u"&&console[re](...We)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(it,ye,x)=>{x.d(ye,{q4:()=>rd,iC:()=>Dr,fc:()=>bs,HU:()=>el,vb:()=>jo,JM:()=>vs,u3:()=>Cn});var o=x(4650),z=x(259),V=x(5861),ee=x(9681),J=x(2090),oe=x(4859),Y=x(1877),se=x(8766);const ae="@firebase/installations",P="0.6.4",G=`w:${P}`,xe="FIS_v2",We=new J.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ct(w){return w instanceof J.ZR&&w.code.includes("request-failed")}function Ce({projectId:w}){return`https://firebaseinstallations.googleapis.com/v1/projects/${w}/installations`}function Te(w){return{token:w.token,requestStatus:2,expiresIn:je(w.expiresIn),creationTime:Date.now()}}function ge(w,T){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,V.Z)(function*(w,T){const k=(yield T.json()).error;return We.create("request-failed",{requestName:w,serverCode:k.code,serverMessage:k.message,serverStatus:k.status})})).apply(this,arguments)}function ke({apiKey:w}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w})}function ie(w,{refreshToken:T}){const I=ke(w);return I.append("Authorization",function Et(w){return`${xe} ${w}`}(T)),I}function he(w){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,V.Z)(function*(w){const T=yield w();return T.status>=500&&T.status<600?w():T})).apply(this,arguments)}function je(w){return Number(w.replace("s","000"))}function Ge(w,T){return X.apply(this,arguments)}function X(){return(X=(0,V.Z)(function*({appConfig:w,heartbeatServiceProvider:T},{fid:I}){const k=Ce(w),$=ke(w),Z=T.getImmediate({optional:!0});if(Z){const ft=yield Z.getHeartbeatsHeader();ft&&$.append("x-firebase-client",ft)}const Ue={method:"POST",headers:$,body:JSON.stringify({fid:I,authVersion:xe,appId:w.appId,sdkVersion:G})},tt=yield he(()=>fetch(k,Ue));if(tt.ok){const ft=yield tt.json();return{fid:ft.fid||I,registrationStatus:2,refreshToken:ft.refreshToken,authToken:Te(ft.authToken)}}throw yield ge("Create Installation",tt)})).apply(this,arguments)}function le(w){return new Promise(T=>{setTimeout(T,w)})}const Ee=/^[cdef][\w-]{21}$/;function me(){try{const w=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(w),w[0]=112+w[0]%16;const I=function dt(w){return function fe(w){return btoa(String.fromCharCode(...w)).replace(/\+/g,"-").replace(/\//g,"_")}(w).substr(0,22)}(w);return Ee.test(I)?I:""}catch{return""}}function Nt(w){return`${w.appName}!${w.appId}`}const nn=new Map;function ze(w,T){const I=Nt(w);Zt(I,T),function Ur(w,T){const I=function Mn(){return!wn&&"BroadcastChannel"in self&&(wn=new BroadcastChannel("[Firebase] FID Change"),wn.onmessage=w=>{Zt(w.data.key,w.data.fid)}),wn}();I&&I.postMessage({key:w,fid:T}),function ei(){0===nn.size&&wn&&(wn.close(),wn=null)}()}(I,T)}function Zt(w,T){const I=nn.get(w);if(I)for(const k of I)k(T)}let wn=null;const ti="firebase-installations-store";let as=null;function Vs(){return as||(as=(0,se.X3)("firebase-installations-database",1,{upgrade:(w,T)=>{0===T&&w.createObjectStore(ti)}})),as}function Ze(w,T){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,V.Z)(function*(w,T){const I=Nt(w),$=(yield Vs()).transaction(ti,"readwrite"),Z=$.objectStore(ti),ue=yield Z.get(I);return yield Z.put(T,I),yield $.done,(!ue||ue.fid!==T.fid)&&ze(w,T.fid),T})).apply(this,arguments)}function Fo(w){return ur.apply(this,arguments)}function ur(){return(ur=(0,V.Z)(function*(w){const T=Nt(w),k=(yield Vs()).transaction(ti,"readwrite");yield k.objectStore(ti).delete(T),yield k.done})).apply(this,arguments)}function Yi(w,T){return Us.apply(this,arguments)}function Us(){return(Us=(0,V.Z)(function*(w,T){const I=Nt(w),$=(yield Vs()).transaction(ti,"readwrite"),Z=$.objectStore(ti),ue=yield Z.get(I),Ue=T(ue);return void 0===Ue?yield Z.delete(I):yield Z.put(Ue,I),yield $.done,Ue&&(!ue||ue.fid!==Ue.fid)&&ze(w,Ue.fid),Ue})).apply(this,arguments)}function En(w){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,V.Z)(function*(w){let T;const I=yield Yi(w.appConfig,k=>{const $=Tn(k),Z=mt(w,$);return T=Z.registrationPromise,Z.installationEntry});return""===I.fid?{installationEntry:yield T}:{installationEntry:I,registrationPromise:T}})).apply(this,arguments)}function Tn(w){return It(w||{fid:me(),registrationStatus:0})}function mt(w,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(We.create("app-offline"))};const I={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},k=function ht(w,T){return ln.apply(this,arguments)}(w,I);return{installationEntry:I,registrationPromise:k}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:Ri(w)}:{installationEntry:T}}function ln(){return(ln=(0,V.Z)(function*(w,T){try{const I=yield Ge(w,T);return Ze(w.appConfig,I)}catch(I){throw ct(I)&&409===I.customData.serverCode?yield Fo(w.appConfig):yield Ze(w.appConfig,{fid:T.fid,registrationStatus:0}),I}})).apply(this,arguments)}function Ri(w){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,V.Z)(function*(w){let T=yield vr(w.appConfig);for(;1===T.registrationStatus;)yield le(100),T=yield vr(w.appConfig);if(0===T.registrationStatus){const{installationEntry:I,registrationPromise:k}=yield En(w);return k||I}return T})).apply(this,arguments)}function vr(w){return Yi(w,T=>{if(!T)throw We.create("installation-not-found");return It(T)})}function It(w){return function ls(w){return 1===w.registrationStatus&&w.registrationTime+1e4<Date.now()}(w)?{fid:w.fid,registrationStatus:0}:w}function dn(w,T){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,V.Z)(function*({appConfig:w,heartbeatServiceProvider:T},I){const k=Qt(w,I),$=ie(w,I),Z=T.getImmediate({optional:!0});if(Z){const ft=yield Z.getHeartbeatsHeader();ft&&$.append("x-firebase-client",ft)}const Ue={method:"POST",headers:$,body:JSON.stringify({installation:{sdkVersion:G,appId:w.appId}})},tt=yield he(()=>fetch(k,Ue));if(tt.ok)return Te(yield tt.json());throw yield ge("Generate Auth Token",tt)})).apply(this,arguments)}function Qt(w,{fid:T}){return`${Ce(w)}/${T}/authTokens:generate`}function xr(w){return $r.apply(this,arguments)}function $r(){return($r=(0,V.Z)(function*(w,T=!1){let I;const k=yield Yi(w.appConfig,Z=>{if(!zt(Z))throw We.create("not-registered");const ue=Z.authToken;if(!T&&cr(ue))return Z;if(1===ue.requestStatus)return I=Ye(w,T),Z;{if(!navigator.onLine)throw We.create("app-offline");const Ue=O(Z);return I=At(w,Ue),Ue}});return I?yield I:k.authToken})).apply(this,arguments)}function Ye(w,T){return _e.apply(this,arguments)}function _e(){return(_e=(0,V.Z)(function*(w,T){let I=yield Je(w.appConfig);for(;1===I.authToken.requestStatus;)yield le(100),I=yield Je(w.appConfig);const k=I.authToken;return 0===k.requestStatus?xr(w,T):k})).apply(this,arguments)}function Je(w){return Yi(w,T=>{if(!zt(T))throw We.create("not-registered");return function j(w){return 1===w.requestStatus&&w.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function At(w,T){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,V.Z)(function*(w,T){try{const I=yield dn(w,T),k=Object.assign(Object.assign({},T),{authToken:I});return yield Ze(w.appConfig,k),I}catch(I){if(!ct(I)||401!==I.customData.serverCode&&404!==I.customData.serverCode){const k=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield Ze(w.appConfig,k)}else yield Fo(w.appConfig);throw I}})).apply(this,arguments)}function zt(w){return void 0!==w&&2===w.registrationStatus}function cr(w){return 2===w.requestStatus&&!function F(w){const T=Date.now();return T<w.creationTime||w.creationTime+w.expiresIn<T+36e5}(w)}function O(w){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},w),{authToken:T})}function W(){return(W=(0,V.Z)(function*(w){const T=w,{installationEntry:I,registrationPromise:k}=yield En(T);return k?k.catch(console.error):xr(T).catch(console.error),I.fid})).apply(this,arguments)}function wt(){return(wt=(0,V.Z)(function*(w,T=!1){const I=w;return yield $t(I),(yield xr(I,T)).token})).apply(this,arguments)}function $t(w){return cn.apply(this,arguments)}function cn(){return(cn=(0,V.Z)(function*(w){const{registrationPromise:T}=yield En(w);T&&(yield T)})).apply(this,arguments)}function us(w){return We.create("missing-app-config-values",{valueName:w})}const $s="installations",js=w=>{const T=w.getProvider("app").getImmediate(),I=function yn(w){if(!w||!w.options)throw us("App Configuration");if(!w.name)throw us("App Name");const T=["projectId","apiKey","appId"];for(const I of T)if(!w.options[I])throw us(I);return{appName:w.name,projectId:w.options.projectId,apiKey:w.options.apiKey,appId:w.options.appId}}(T);return{app:T,appConfig:I,heartbeatServiceProvider:(0,ee._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},Gs=w=>{const T=w.getProvider("app").getImmediate(),I=(0,ee._getProvider)(T,$s).getImmediate();return{getId:()=>function te(w){return W.apply(this,arguments)}(I),getToken:$=>function Ve(w){return wt.apply(this,arguments)}(I,$)}};(function bc(){(0,ee._registerComponent)(new oe.wA($s,js,"PUBLIC")),(0,ee._registerComponent)(new oe.wA("installations-internal",Gs,"PRIVATE"))})(),(0,ee.registerVersion)(ae,P),(0,ee.registerVersion)(ae,P,"esm2017");const ho="@firebase/remote-config",er=new J.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Tm{constructor(T,I,k,$){this.client=T,this.storage=I,this.storageCache=k,this.logger=$}isCachedDataFresh(T,I){if(!I)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const k=Date.now()-I,$=k<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${k}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${$}.`),$}fetch(T){var I=this;return(0,V.Z)(function*(){const[k,$]=yield Promise.all([I.storage.getLastSuccessfulFetchTimestampMillis(),I.storage.getLastSuccessfulFetchResponse()]);if($&&I.isCachedDataFresh(T.cacheMaxAgeMillis,k))return $;T.eTag=$&&$.eTag;const Z=yield I.client.fetch(T),ue=[I.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Z.status&&ue.push(I.storage.setLastSuccessfulFetchResponse(Z)),yield Promise.all(ue),Z})()}}function ri(w=navigator){return w.languages&&w.languages[0]||w.language}class BI{constructor(T,I,k,$,Z,ue){this.firebaseInstallations=T,this.sdkVersion=I,this.namespace=k,this.projectId=$,this.apiKey=Z,this.appId=ue}fetch(T){var I=this;return(0,V.Z)(function*(){const[k,$]=yield Promise.all([I.firebaseInstallations.getId(),I.firebaseInstallations.getToken()]),ue=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${I.projectId}/namespaces/${I.namespace}:fetch?key=${I.apiKey}`,Ue={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},tt={sdk_version:I.sdkVersion,app_instance_id:k,app_instance_id_token:$,app_id:I.appId,language_code:ri()},ft={method:"POST",headers:Ue,body:JSON.stringify(tt)},Ft=fetch(ue,ft),yt=new Promise((Or,ai)=>{T.signal.addEventListener(()=>{const Hm=new Error("The operation was aborted.");Hm.name="AbortError",ai(Hm)})});let Rr;try{yield Promise.race([Ft,yt]),Rr=yield Ft}catch(Or){let ai="fetch-client-network";throw"AbortError"===Or?.name&&(ai="fetch-timeout"),er.create(ai,{originalErrorMessage:Or?.message})}let Wn=Rr.status;const sa=Rr.headers.get("ETag")||void 0;let kt,jr;if(200===Rr.status){let Or;try{Or=yield Rr.json()}catch(ai){throw er.create("fetch-client-parse",{originalErrorMessage:ai?.message})}kt=Or.entries,jr=Or.state}if("INSTANCE_STATE_UNSPECIFIED"===jr?Wn=500:"NO_CHANGE"===jr?Wn=304:("NO_TEMPLATE"===jr||"EMPTY_CONFIG"===jr)&&(kt={}),304!==Wn&&200!==Wn)throw er.create("fetch-status",{httpStatus:Wn});return{status:Wn,eTag:sa,config:kt}})()}}class Db{constructor(T,I){this.client=T,this.storage=I}fetch(T){var I=this;return(0,V.Z)(function*(){const k=(yield I.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return I.attemptFetch(T,k)})()}attemptFetch(T,{throttleEndTimeMillis:I,backoffCount:k}){var $=this;return(0,V.Z)(function*(){yield function Ji(w,T){return new Promise((I,k)=>{const $=Math.max(T-Date.now(),0),Z=setTimeout(I,$);w.addEventListener(()=>{clearTimeout(Z),k(er.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,I);try{const Z=yield $.client.fetch(T);return yield $.storage.deleteThrottleMetadata(),Z}catch(Z){if(!function Tb(w){if(!(w instanceof J.ZR&&w.customData))return!1;const T=Number(w.customData.httpStatus);return 429===T||500===T||503===T||504===T}(Z))throw Z;const ue={throttleEndTimeMillis:Date.now()+(0,J.$s)(k),backoffCount:k+1};return yield $.storage.setThrottleMetadata(ue),$.attemptFetch(T,ue)}})()}}class Cb{constructor(T,I,k,$,Z){this.app=T,this._client=I,this._storageCache=k,this._storage=$,this._logger=Z,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ec(w,T){const I=w.target.error||void 0;return er.create(T,{originalErrorMessage:I&&I?.message})}const qs="app_namespace_store";class Nb{constructor(T,I,k,$=function Mb(){return new Promise((w,T)=>{try{const I=indexedDB.open("firebase_remote_config",1);I.onerror=k=>{T(Ec(k,"storage-open"))},I.onsuccess=k=>{w(k.target.result)},I.onupgradeneeded=k=>{0===k.oldVersion&&k.target.result.createObjectStore(qs,{keyPath:"compositeKey"})}}catch(I){T(er.create("storage-open",{originalErrorMessage:I?.message}))}})}()){this.appId=T,this.appName=I,this.namespace=k,this.openDbPromise=$}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var I=this;return(0,V.Z)(function*(){const k=yield I.openDbPromise;return new Promise(($,Z)=>{const Ue=k.transaction([qs],"readonly").objectStore(qs),tt=I.createCompositeKey(T);try{const ft=Ue.get(tt);ft.onerror=Ft=>{Z(Ec(Ft,"storage-get"))},ft.onsuccess=Ft=>{const yt=Ft.target.result;$(yt?yt.value:void 0)}}catch(ft){Z(er.create("storage-get",{originalErrorMessage:ft?.message}))}})})()}set(T,I){var k=this;return(0,V.Z)(function*(){const $=yield k.openDbPromise;return new Promise((Z,ue)=>{const tt=$.transaction([qs],"readwrite").objectStore(qs),ft=k.createCompositeKey(T);try{const Ft=tt.put({compositeKey:ft,value:I});Ft.onerror=yt=>{ue(Ec(yt,"storage-set"))},Ft.onsuccess=()=>{Z()}}catch(Ft){ue(er.create("storage-set",{originalErrorMessage:Ft?.message}))}})})()}delete(T){var I=this;return(0,V.Z)(function*(){const k=yield I.openDbPromise;return new Promise(($,Z)=>{const Ue=k.transaction([qs],"readwrite").objectStore(qs),tt=I.createCompositeKey(T);try{const ft=Ue.delete(tt);ft.onerror=Ft=>{Z(Ec(Ft,"storage-delete"))},ft.onsuccess=()=>{$()}}catch(ft){Z(er.create("storage-delete",{originalErrorMessage:ft?.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class xb{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,V.Z)(function*(){const I=T.storage.getLastFetchStatus(),k=T.storage.getLastSuccessfulFetchTimestampMillis(),$=T.storage.getActiveConfig(),Z=yield I;Z&&(T.lastFetchStatus=Z);const ue=yield k;ue&&(T.lastSuccessfulFetchTimestampMillis=ue);const Ue=yield $;Ue&&(T.activeConfig=Ue)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function kb(){return ef.apply(this,arguments)}function ef(){return(ef=(0,V.Z)(function*(){if(!(0,J.hl)())return!1;try{return yield(0,J.eu)()}catch{return!1}})).apply(this,arguments)}!function Jh(){(0,ee._registerComponent)(new oe.wA("remote-config",function w(T,{instanceIdentifier:I}){const k=T.getProvider("app").getImmediate(),$=T.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw er.create("registration-window");if(!(0,J.hl)())throw er.create("indexed-db-unavailable");const{projectId:Z,apiKey:ue,appId:Ue}=k.options;if(!Z)throw er.create("registration-project-id");if(!ue)throw er.create("registration-api-key");if(!Ue)throw er.create("registration-app-id");const tt=new Nb(Ue,k.name,I=I||"firebase"),ft=new xb(tt),Ft=new Y.Yd(ho);Ft.logLevel=Y.in.ERROR;const yt=new BI($,ee.SDK_VERSION,I,Z,ue,Ue),Rr=new Db(yt,tt),Wn=new Tm(Rr,tt,ft,Ft),sa=new Cb(k,Wn,ft,tt,Ft);return function Pt(w){const T=(0,J.m9)(w);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(sa),sa},"PUBLIC").setMultipleInstances(!0)),(0,ee.registerVersion)(ho,"0.4.4"),(0,ee.registerVersion)(ho,"0.4.4","esm2017")}();const Vo="/firebase-messaging-sw.js",Dm="/firebase-cloud-messaging-push-scope",$a="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",kl="google.c.a.c_id",Ic="google.c.a.c_l",nf="google.c.a.ts",Em="google.c.a.e";var po=(()=>{return(w=po||(po={})).PUSH_RECEIVED="push-received",w.NOTIFICATION_CLICKED="notification-clicked",po;var w})();function go(w){const T=new Uint8Array(w);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Di(w){const I=(w+"=".repeat((4-w.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),k=atob(I),$=new Uint8Array(k.length);for(let Z=0;Z<k.length;++Z)$[Z]=k.charCodeAt(Z);return $}const ja="fcm_token_details_db",Cc="fcm_token_object_Store";function Rb(w){return Cm.apply(this,arguments)}function Cm(){return Cm=(0,V.Z)(function*(w){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Z=>Z.name).includes(ja))return null;let T=null;return(yield(0,se.X3)(ja,5,{upgrade:(k=(0,V.Z)(function*($,Z,ue,Ue){var tt;if(Z<2||!$.objectStoreNames.contains(Cc))return;const ft=Ue.objectStore(Cc),Ft=yield ft.index("fcmSenderId").get(w);if(yield ft.clear(),Ft)if(2===Z){const yt=Ft;if(!yt.auth||!yt.p256dh||!yt.endpoint)return;T={token:yt.fcmToken,createTime:null!==(tt=yt.createTime)&&void 0!==tt?tt:Date.now(),subscriptionOptions:{auth:yt.auth,p256dh:yt.p256dh,endpoint:yt.endpoint,swScope:yt.swScope,vapidKey:"string"==typeof yt.vapidKey?yt.vapidKey:go(yt.vapidKey)}}}else if(3===Z){const yt=Ft;T={token:yt.fcmToken,createTime:yt.createTime,subscriptionOptions:{auth:go(yt.auth),p256dh:go(yt.p256dh),endpoint:yt.endpoint,swScope:yt.swScope,vapidKey:go(yt.vapidKey)}}}else if(4===Z){const yt=Ft;T={token:yt.fcmToken,createTime:yt.createTime,subscriptionOptions:{auth:go(yt.auth),p256dh:go(yt.p256dh),endpoint:yt.endpoint,swScope:yt.swScope,vapidKey:go(yt.vapidKey)}}}}),function(Z,ue,Ue,tt){return k.apply(this,arguments)})})).close(),yield(0,se.Lj)(ja),yield(0,se.Lj)("fcm_vapid_details_db"),yield(0,se.Lj)("undefined"),jn(T)?T:null;var k}),Cm.apply(this,arguments)}function jn(w){if(!w||!w.subscriptionOptions)return!1;const{subscriptionOptions:T}=w;return"number"==typeof w.createTime&&w.createTime>0&&"string"==typeof w.token&&w.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const Pi="firebase-messaging-store";let kr=null;function rf(){return kr||(kr=(0,se.X3)("firebase-messaging-database",1,{upgrade:(w,T)=>{0===T&&w.createObjectStore(Pi)}})),kr}function Rl(w){return ds.apply(this,arguments)}function ds(){return(ds=(0,V.Z)(function*(w){const T=Qi(w),k=yield(yield rf()).transaction(Pi).objectStore(Pi).get(T);if(k)return k;{const $=yield Rb(w.appConfig.senderId);if($)return yield Xt(w,$),$}})).apply(this,arguments)}function Xt(w,T){return sf.apply(this,arguments)}function sf(){return(sf=(0,V.Z)(function*(w,T){const I=Qi(w),$=(yield rf()).transaction(Pi,"readwrite");return yield $.objectStore(Pi).put(T,I),yield $.done,T})).apply(this,arguments)}function zs(w){return af.apply(this,arguments)}function af(){return(af=(0,V.Z)(function*(w){const T=Qi(w),k=(yield rf()).transaction(Pi,"readwrite");yield k.objectStore(Pi).delete(T),yield k.done})).apply(this,arguments)}function Qi({appConfig:w}){return w.appId}const Gn=new J.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function St(w,T){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,V.Z)(function*(w,T){const I=yield Nc(w),k=be(T),$={method:"POST",headers:I,body:JSON.stringify(k)};let Z;try{Z=yield(yield fetch(hs(w.appConfig),$)).json()}catch(ue){throw Gn.create("token-subscribe-failed",{errorInfo:ue?.toString()})}if(Z.error)throw Gn.create("token-subscribe-failed",{errorInfo:Z.error.message});if(!Z.token)throw Gn.create("token-subscribe-no-token");return Z.token})).apply(this,arguments)}function VI(w,T){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,V.Z)(function*(w,T){const I=yield Nc(w),k=be(T.subscriptionOptions),$={method:"PATCH",headers:I,body:JSON.stringify(k)};let Z;try{Z=yield(yield fetch(`${hs(w.appConfig)}/${T.token}`,$)).json()}catch(ue){throw Gn.create("token-update-failed",{errorInfo:ue?.toString()})}if(Z.error)throw Gn.create("token-update-failed",{errorInfo:Z.error.message});if(!Z.token)throw Gn.create("token-update-no-token");return Z.token})).apply(this,arguments)}function uf(w,T){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,V.Z)(function*(w,T){const k={method:"DELETE",headers:yield Nc(w)};try{const Z=yield(yield fetch(`${hs(w.appConfig)}/${T}`,k)).json();if(Z.error)throw Gn.create("token-unsubscribe-failed",{errorInfo:Z.error.message})}catch($){throw Gn.create("token-unsubscribe-failed",{errorInfo:$?.toString()})}})).apply(this,arguments)}function hs({projectId:w}){return`https://fcmregistrations.googleapis.com/v1/projects/${w}/registrations`}function Nc(w){return xc.apply(this,arguments)}function xc(){return(xc=(0,V.Z)(function*({appConfig:w,installations:T}){const I=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w.apiKey,"x-goog-firebase-installations-auth":`FIS ${I}`})})).apply(this,arguments)}function be({p256dh:w,auth:T,endpoint:I,vapidKey:k}){const $={web:{endpoint:I,auth:T,p256dh:w}};return k!==$a&&($.web.applicationPubKey=k),$}const qt=6048e5;function Am(w){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,V.Z)(function*(w){const T=yield Mm(w.swRegistration,w.vapidKey),I={vapidKey:w.vapidKey,swScope:w.swRegistration.scope,endpoint:T.endpoint,auth:go(T.getKey("auth")),p256dh:go(T.getKey("p256dh"))},k=yield Rl(w.firebaseDependencies);if(k){if(Pb(k.subscriptionOptions,I))return Date.now()>=k.createTime+qt?Fl(w,{token:k.token,createTime:Date.now(),subscriptionOptions:I}):k.token;try{yield uf(w.firebaseDependencies,k.token)}catch($){console.warn($)}return kc(w.firebaseDependencies,I)}return kc(w.firebaseDependencies,I)})).apply(this,arguments)}function qn(w){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,V.Z)(function*(w){const T=yield Rl(w.firebaseDependencies);T&&(yield uf(w.firebaseDependencies,T.token),yield zs(w.firebaseDependencies));const I=yield w.swRegistration.pushManager.getSubscription();return!I||I.unsubscribe()})).apply(this,arguments)}function Fl(w,T){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,V.Z)(function*(w,T){try{const I=yield VI(w.firebaseDependencies,T),k=Object.assign(Object.assign({},T),{token:I,createTime:Date.now()});return yield Xt(w.firebaseDependencies,k),I}catch(I){throw yield qn(w),I}})).apply(this,arguments)}function kc(w,T){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,V.Z)(function*(w,T){const k={token:yield St(w,T),createTime:Date.now(),subscriptionOptions:T};return yield Xt(w,k),k.token})).apply(this,arguments)}function Mm(w,T){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,V.Z)(function*(w,T){return(yield w.pushManager.getSubscription())||w.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Di(T)})})).apply(this,arguments)}function Pb(w,T){return T.vapidKey===w.vapidKey&&T.endpoint===w.endpoint&&T.auth===w.auth&&T.p256dh===w.p256dh}function Ga(w){const T={from:w.from,collapseKey:w.collapse_key,messageId:w.fcmMessageId};return function zn(w,T){if(!T.notification)return;w.notification={};const I=T.notification.title;I&&(w.notification.title=I);const k=T.notification.body;k&&(w.notification.body=k);const $=T.notification.image;$&&(w.notification.image=$);const Z=T.notification.icon;Z&&(w.notification.icon=Z)}(T,w),function Xi(w,T){!T.data||(w.data=T.data)}(T,w),function Oc(w,T){var I,k,$,Z,ue;if(!(T.fcmOptions||null!==(I=T.notification)&&void 0!==I&&I.click_action))return;w.fcmOptions={};const Ue=null!==($=null===(k=T.fcmOptions)||void 0===k?void 0:k.link)&&void 0!==$?$:null===(Z=T.notification)||void 0===Z?void 0:Z.click_action;Ue&&(w.fcmOptions.link=Ue);const tt=null===(ue=T.fcmOptions)||void 0===ue?void 0:ue.analytics_label;tt&&(w.fcmOptions.analyticsLabel=tt)}(T,w),T}function qa(w){return"object"==typeof w&&!!w&&kl in w}function mo(w,T){const I=[];for(let k=0;k<w.length;k++)I.push(w.charAt(k)),k<T.length&&I.push(T.charAt(k));return I.join("")}function Pc(w){return Gn.create("missing-app-config-values",{valueName:w})}mo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),mo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Lb{constructor(T,I,k){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const $=function Fb(w){if(!w||!w.options)throw Pc("App Configuration Object");if(!w.name)throw Pc("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:I}=w;for(const k of T)if(!I[k])throw Pc(k);return{appName:w.name,projectId:I.projectId,apiKey:I.apiKey,appId:I.appId,senderId:I.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:$,installations:I,analyticsProvider:k}}_delete(){return Promise.resolve()}}function Nm(w){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,V.Z)(function*(w){try{w.swRegistration=yield navigator.serviceWorker.register(Vo,{scope:Dm}),w.swRegistration.update().catch(()=>{})}catch(T){throw Gn.create("failed-service-worker-registration",{browserErrorMessage:T?.message})}})).apply(this,arguments)}function Fc(w,T){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,V.Z)(function*(w,T){if(!T&&!w.swRegistration&&(yield Nm(w)),T||!w.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw Gn.create("invalid-sw-registration");w.swRegistration=T}})).apply(this,arguments)}function Bc(w,T){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,V.Z)(function*(w,T){T?w.vapidKey=T:w.vapidKey||(w.vapidKey=$a)})).apply(this,arguments)}function Vl(){return(Vl=(0,V.Z)(function*(w,T){if(!navigator)throw Gn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Gn.create("permission-blocked");return yield Bc(w,T?.vapidKey),yield Fc(w,T?.serviceWorkerRegistration),Am(w)})).apply(this,arguments)}function xm(w,T,I){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,V.Z)(function*(w,T,I){const k=km(T);(yield w.firebaseDependencies.analyticsProvider.get()).logEvent(k,{message_id:I[kl],message_name:I[Ic],message_time:I[nf],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function km(w){switch(w){case po.NOTIFICATION_CLICKED:return"notification_open";case po.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function fs(){return(fs=(0,V.Z)(function*(w,T){const I=T.data;if(!I.isFirebaseMessaging)return;w.onMessageHandler&&I.messageType===po.PUSH_RECEIVED&&("function"==typeof w.onMessageHandler?w.onMessageHandler(Ga(I)):w.onMessageHandler.next(Ga(I)));const k=I.data;qa(k)&&"1"===k[Em]&&(yield xm(w,I.messageType,k))})).apply(this,arguments)}const Ws="@firebase/messaging",nr=w=>{const T=new Lb(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),w.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",I=>function df(w,T){return fs.apply(this,arguments)}(T,I)),T},Uo=w=>{const T=w.getProvider("messaging").getImmediate();return{getToken:k=>function cf(w,T){return Vl.apply(this,arguments)}(T,k)}};function Hc(){return $c.apply(this,arguments)}function $c(){return($c=(0,V.Z)(function*(){try{yield(0,J.eu)()}catch{return!1}return typeof window<"u"&&(0,J.hl)()&&(0,J.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function vn(){(0,ee._registerComponent)(new oe.wA("messaging",nr,"PUBLIC")),(0,ee._registerComponent)(new oe.wA("messaging-internal",Uo,"PRIVATE")),(0,ee.registerVersion)(Ws,"0.12.4"),(0,ee.registerVersion)(Ws,"0.12.4","esm2017")}();const ms="analytics",zc="firebase_id",Rm="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",pf="https://www.googletagmanager.com/gtag/js",Nn=new Y.Yd("@firebase/analytics");function $l(w){return Promise.all(w.map(T=>T.catch(I=>I)))}function jl(w,T){const I=document.createElement("script");I.src=`${pf}?l=${w}&id=${T}`,I.async=!0,document.head.appendChild(I)}function UI(w,T,I,k,$,Z){return za.apply(this,arguments)}function za(){return(za=(0,V.Z)(function*(w,T,I,k,$,Z){const ue=k[$];try{if(ue)yield T[ue];else{const tt=(yield $l(I)).find(ft=>ft.measurementId===$);tt&&(yield T[tt.appId])}}catch(Ue){Nn.error(Ue)}w("config",$,Z)})).apply(this,arguments)}function Ks(w,T,I,k,$){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,V.Z)(function*(w,T,I,k,$){try{let Z=[];if($&&$.send_to){let ue=$.send_to;Array.isArray(ue)||(ue=[ue]);const Ue=yield $l(I);for(const tt of ue){const ft=Ue.find(yt=>yt.measurementId===tt),Ft=ft&&T[ft.appId];if(!Ft){Z=[];break}Z.push(Ft)}}0===Z.length&&(Z=Object.values(T)),yield Promise.all(Z),w("event",k,$||{})}catch(Z){Nn.error(Z)}})).apply(this,arguments)}function mf(w){const T=window.document.getElementsByTagName("script");for(const I of Object.values(T))if(I.src&&I.src.includes(pf)&&I.src.includes(w))return I;return null}const rr=new J.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Za=new class Zc{constructor(T={},I=1e3){this.throttleMetadata=T,this.intervalMillis=I}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,I){this.throttleMetadata[T]=I}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function vf(w){return new Headers({Accept:"application/json","x-goog-api-key":w})}function Om(w){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,V.Z)(function*(w){var T;const{appId:I,apiKey:k}=w,$={method:"GET",headers:vf(k)},Z=Rm.replace("{app-id}",I),ue=yield fetch(Z,$);if(200!==ue.status&&304!==ue.status){let Ue="";try{const tt=yield ue.json();null!==(T=tt.error)&&void 0!==T&&T.message&&(Ue=tt.error.message)}catch{}throw rr.create("config-fetch-failed",{httpStatus:ue.status,responseMessage:Ue})}return ue.json()})).apply(this,arguments)}function bf(w){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,V.Z)(function*(w,T=Za,I){const{appId:k,apiKey:$,measurementId:Z}=w.options;if(!k)throw rr.create("no-app-id");if(!$){if(Z)return{measurementId:Z,appId:k};throw rr.create("no-api-key")}const ue=T.getThrottleMetadata(k)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ue=new zl;return setTimeout((0,V.Z)(function*(){Ue.abort()}),void 0!==I?I:6e4),wf({appId:k,apiKey:$,measurementId:Z},ue,Ue,T)})).apply(this,arguments)}function wf(w,T,I){return _s.apply(this,arguments)}function _s(){return(_s=(0,V.Z)(function*(w,{throttleEndTimeMillis:T,backoffCount:I},k,$=Za){var Z;const{appId:ue,measurementId:Ue}=w;try{yield Yc(k,T)}catch(tt){if(Ue)return Nn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ue} provided in the "measurementId" field in the local Firebase config. [${tt?.message}]`),{appId:ue,measurementId:Ue};throw tt}try{const tt=yield Om(w);return $.deleteThrottleMetadata(ue),tt}catch(tt){const ft=tt;if(!ql(ft)){if($.deleteThrottleMetadata(ue),Ue)return Nn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ue} provided in the "measurementId" field in the local Firebase config. [${ft?.message}]`),{appId:ue,measurementId:Ue};throw tt}const Ft=503===Number(null===(Z=ft?.customData)||void 0===Z?void 0:Z.httpStatus)?(0,J.$s)(I,$.intervalMillis,30):(0,J.$s)(I,$.intervalMillis),yt={throttleEndTimeMillis:Date.now()+Ft,backoffCount:I+1};return $.setThrottleMetadata(ue,yt),Nn.debug(`Calling attemptFetch again in ${Ft} millis`),wf(w,yt,k,$)}})).apply(this,arguments)}function Yc(w,T){return new Promise((I,k)=>{const $=Math.max(T-Date.now(),0),Z=setTimeout(I,$);w.addEventListener(()=>{clearTimeout(Z),k(rr.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function ql(w){if(!(w instanceof J.ZR&&w.customData))return!1;const T=Number(w.customData.httpStatus);return 429===T||500===T||503===T||504===T}class zl{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let ys,Xc;function Ka(){return(Ka=(0,V.Z)(function*(w,T,I,k,$){if($&&$.global)w("event",I,k);else{const Z=yield T;w("event",I,Object.assign(Object.assign({},k),{send_to:Z}))}})).apply(this,arguments)}function Js(w){Xc=w}function ed(w){ys=w}function yo(){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,V.Z)(function*(){if(!(0,J.hl)())return Nn.warn(rr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,J.eu)()}catch(w){return Nn.warn(rr.create("indexeddb-unavailable",{errorInfo:w?.toString()}).message),!1}return!0})).apply(this,arguments)}function Qs(){return(Qs=(0,V.Z)(function*(w,T,I,k,$,Z,ue){var Ue;const tt=bf(w);tt.then(Wn=>{I[Wn.measurementId]=Wn.appId,w.options.measurementId&&Wn.measurementId!==w.options.measurementId&&Nn.warn(`The measurement ID in the local Firebase config (${w.options.measurementId}) does not match the measurement ID fetched from the server (${Wn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Wn=>Nn.error(Wn)),T.push(tt);const ft=yo().then(Wn=>{if(Wn)return k.getId()}),[Ft,yt]=yield Promise.all([tt,ft]);mf(Z)||jl(Z,Ft.measurementId),Xc&&($("consent","default",Xc),Js(void 0)),$("js",new Date);const Rr=null!==(Ue=ue?.config)&&void 0!==Ue?Ue:{};return Rr.origin="firebase",Rr.update=!0,null!=yt&&(Rr[zc]=yt),$("config",Ft.measurementId,Rr),ys&&($("set",ys),ed(void 0)),Ft.measurementId})).apply(this,arguments)}class Kl{constructor(T){this.app=T}_delete(){return delete ii[this.app.options.appId],Promise.resolve()}}let ii={},Xs=[];const ea={};let ta,oi,Ja="dataLayer",nd=!1;function Vb(w,T,I){!function Bb(){const w=[];if((0,J.ru)()&&w.push("This is a browser extension environment."),(0,J.zI)()||w.push("Cookies are not available."),w.length>0){const T=w.map((k,$)=>`(${$+1}) ${k}`).join(" "),I=rr.create("invalid-analytics-context",{errorInfo:T});Nn.warn(I.message)}}();const k=w.options.appId;if(!k)throw rr.create("no-app-id");if(!w.options.apiKey){if(!w.options.measurementId)throw rr.create("no-api-key");Nn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${w.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ii[k])throw rr.create("already-exists",{id:k});if(!nd){!function gf(w){let T=[];Array.isArray(window[w])?T=window[w]:window[w]=T}(Ja);const{wrappedGtag:Z,gtagCore:ue}=function Wa(w,T,I,k,$){let Z=function(...ue){window[k].push(arguments)};return window[$]&&"function"==typeof window[$]&&(Z=window[$]),window[$]=function Wc(w,T,I,k){function Z(){return(Z=(0,V.Z)(function*(ue,Ue,tt){try{"event"===ue?yield Ks(w,T,I,Ue,tt):"config"===ue?yield UI(w,T,I,k,Ue,tt):"consent"===ue?w("consent","update",tt):w("set",Ue)}catch(ft){Nn.error(ft)}})).apply(this,arguments)}return function $(ue,Ue,tt){return Z.apply(this,arguments)}}(Z,w,T,I),{gtagCore:Z,wrappedGtag:window[$]}}(ii,Xs,ea,Ja,"gtag");oi=Z,ta=ue,nd=!0}return ii[k]=function Fm(w,T,I,k,$,Z,ue){return Qs.apply(this,arguments)}(w,Xs,ea,T,ta,Ja,I),new Kl(w)}function Hb(){return Bm.apply(this,arguments)}function Bm(){return(Bm=(0,V.Z)(function*(){if((0,J.ru)()||!(0,J.zI)()||!(0,J.hl)())return!1;try{return yield(0,J.eu)()}catch{return!1}})).apply(this,arguments)}const at="@firebase/analytics";!function on(){(0,ee._registerComponent)(new oe.wA(ms,(T,{options:I})=>Vb(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),I),"PUBLIC")),(0,ee._registerComponent)(new oe.wA("analytics-internal",function w(T){try{const I=T.getProvider(ms).getImmediate();return{logEvent:(k,$,Z)=>function fn(w,T,I,k){w=(0,J.m9)(w),function Tf(w,T,I,k,$){return Ka.apply(this,arguments)}(oi,ii[w.app.options.appId],T,I,k).catch($=>Nn.error($))}(I,k,$,Z)}}catch(I){throw rr.create("interop-component-reg-failed",{reason:I})}},"PRIVATE")),(0,ee.registerVersion)(at,"0.9.4"),(0,ee.registerVersion)(at,"0.9.4","esm2017")}();var vo=x(4408),Tr=x(640);const If=new class Qa extends Tr.v{}(class ra extends vo.o{constructor(T,I){super(T,I),this.scheduler=T,this.work=I}schedule(T,I=0){return I>0?super.schedule(T,I):(this.delay=I,this.state=T,this.scheduler.flush(this),this)}execute(T,I){return I>0||this.closed?super.execute(T,I):this._execute(T,I)}requestAsyncId(T,I,k=0){return null!=k&&k>0||null==k&&this.delay>0?super.requestAsyncId(T,I,k):(T.flush(this),0)}});var Vm=x(4986),Cf=x(9751),Gb=x(8505),bo=x(5363),Qe=x(9468);const rd=new o.GfV("7.5.0"),$o="__angularfire_symbol__analyticsIsSupportedValue",Yl="__angularfire_symbol__analyticsIsSupported",Xa="__angularfire_symbol__remoteConfigIsSupportedValue",Dn="__angularfire_symbol__remoteConfigIsSupported",id="__angularfire_symbol__messagingIsSupportedValue",ia="__angularfire_symbol__messagingIsSupported";function vs(w,T,I){if(T){if(1===T.length)return T[0];const Z=T.filter(ue=>ue.app===I);if(1===Z.length)return Z[0]}return I.container.getProvider(w).getImmediate({optional:!0})}globalThis[Yl]||(globalThis[Yl]=Hb().then(w=>globalThis[$o]=w).catch(()=>globalThis[$o]=!1)),globalThis[ia]||(globalThis[ia]=Hc().then(w=>globalThis[id]=w).catch(()=>globalThis[id]=!1)),globalThis[Dn]||(globalThis[Dn]=kb().then(w=>globalThis[Xa]=w).catch(()=>globalThis[Xa]=!1));const jo=(w,T)=>{const I=T?[T]:(0,z.C6)(),k=[];return I.forEach($=>{$.container.getProvider(w).instances.forEach(ue=>{k.includes(ue)||k.push(ue)})}),k};function Li(){}class Ql{constructor(T,I=If){this.zone=T,this.delegate=I}now(){return this.delegate.now()}schedule(T,I,k){const $=this.zone;return this.delegate.schedule(function(ue){$.runGuarded(()=>{T.apply(this,[ue])})},I,k)}}class Ii{constructor(T){this.zone=T,this.task=null}call(T,I){const k=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Li,{},Li,Li)),I.pipe((0,Gb.b)({next:k,complete:k,error:k})).subscribe(T).add(k)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let el=(()=>{class w{constructor(I){this.ngZone=I,this.outsideAngular=I.runOutsideAngular(()=>new Ql(Zone.current)),this.insideAngular=I.run(()=>new Ql(Zone.current,Vm.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return w.\u0275fac=function(I){return new(I||w)(o.LFG(o.R0b))},w.\u0275prov=o.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function si(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function Af(w){return si().ngZone.runOutsideAngular(()=>w())}function pn(w){return si().ngZone.run(()=>w())}function bs(w){return w.pipe((0,bo.Q)(si().outsideAngular))}function Dr(w){return si(),function Kt(w){return function(I){return(I=I.lift(new Ii(w.ngZone))).pipe((0,Qe.R)(w.outsideAngular),(0,bo.Q)(w.insideAngular))}}(si())(w)}const Xl=(w,T)=>function(){const k=arguments;return T&&setTimeout(()=>{"scheduled"===T.state&&T.invoke()},10),pn(()=>w.apply(void 0,k))},Cn=(w,T)=>function(){let I;const k=arguments;for(let Z=0;Z<arguments.length;Z++)"function"==typeof k[Z]&&(T&&(I||(I=pn(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Li,{},Li,Li)))),k[Z]=Xl(k[Z],I));const $=Af(()=>w.apply(this,k));if(!T){if($ instanceof Cf.y){const Z=si();return $.pipe((0,Qe.R)(Z.outsideAngular),(0,bo.Q)(Z.insideAngular))}return pn(()=>$)}return $ instanceof Cf.y?$.pipe(Dr):$ instanceof Promise?pn(()=>new Promise((Z,ue)=>$.then(Ue=>pn(()=>Z(Ue)),Ue=>pn(()=>ue(Ue))))):"function"==typeof $&&I?function(){return setTimeout(()=>{I&&"scheduled"===I.state&&I.invoke()},10),$.apply(this,arguments)}:pn(()=>$)}},2090:(it,ye,x)=>{x.d(ye,{$s:()=>At,BH:()=>ge,L:()=>ae,LL:()=>ze,P0:()=>ct,Pz:()=>Te,Sg:()=>Fe,UG:()=>he,US:()=>oe,ZB:()=>G,ZR:()=>nn,aH:()=>Ce,b$:()=>Et,eu:()=>me,hl:()=>De,jU:()=>Oe,m9:()=>cr,ne:()=>Tn,pd:()=>En,q4:()=>We,r3:()=>ti,ru:()=>je,tV:()=>P,uI:()=>ie,vZ:()=>Nr,w1:()=>X,xO:()=>Yi,xb:()=>Vs,z$:()=>ke,zI:()=>dt,zd:()=>Us});const ee=function(F){const O=[];let j=0;for(let te=0;te<F.length;te++){let W=F.charCodeAt(te);W<128?O[j++]=W:W<2048?(O[j++]=W>>6|192,O[j++]=63&W|128):55296==(64512&W)&&te+1<F.length&&56320==(64512&F.charCodeAt(te+1))?(W=65536+((1023&W)<<10)+(1023&F.charCodeAt(++te)),O[j++]=W>>18|240,O[j++]=W>>12&63|128,O[j++]=W>>6&63|128,O[j++]=63&W|128):(O[j++]=W>>12|224,O[j++]=W>>6&63|128,O[j++]=63&W|128)}return O},oe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(F,O){if(!Array.isArray(F))throw Error("encodeByteArray takes an array as a parameter");this.init_();const j=O?this.byteToCharMapWebSafe_:this.byteToCharMap_,te=[];for(let W=0;W<F.length;W+=3){const Ve=F[W],wt=W+1<F.length,$t=wt?F[W+1]:0,cn=W+2<F.length,Me=cn?F[W+2]:0;let In=(15&$t)<<2|Me>>6,br=63&Me;cn||(br=64,wt||(In=64)),te.push(j[Ve>>2],j[(3&Ve)<<4|$t>>4],j[In],j[br])}return te.join("")},encodeString(F,O){return this.HAS_NATIVE_SUPPORT&&!O?btoa(F):this.encodeByteArray(ee(F),O)},decodeString(F,O){return this.HAS_NATIVE_SUPPORT&&!O?atob(F):function(F){const O=[];let j=0,te=0;for(;j<F.length;){const W=F[j++];if(W<128)O[te++]=String.fromCharCode(W);else if(W>191&&W<224){const Ve=F[j++];O[te++]=String.fromCharCode((31&W)<<6|63&Ve)}else if(W>239&&W<365){const cn=((7&W)<<18|(63&F[j++])<<12|(63&F[j++])<<6|63&F[j++])-65536;O[te++]=String.fromCharCode(55296+(cn>>10)),O[te++]=String.fromCharCode(56320+(1023&cn))}else{const Ve=F[j++],wt=F[j++];O[te++]=String.fromCharCode((15&W)<<12|(63&Ve)<<6|63&wt)}}return O.join("")}(this.decodeStringToByteArray(F,O))},decodeStringToByteArray(F,O){this.init_();const j=O?this.charToByteMapWebSafe_:this.charToByteMap_,te=[];for(let W=0;W<F.length;){const Ve=j[F.charAt(W++)],$t=W<F.length?j[F.charAt(W)]:0;++W;const Me=W<F.length?j[F.charAt(W)]:64;++W;const pt=W<F.length?j[F.charAt(W)]:64;if(++W,null==Ve||null==$t||null==Me||null==pt)throw new Y;te.push(Ve<<2|$t>>4),64!==Me&&(te.push($t<<4&240|Me>>2),64!==pt&&te.push(Me<<6&192|pt))}return te},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let F=0;F<this.ENCODED_VALS.length;F++)this.byteToCharMap_[F]=this.ENCODED_VALS.charAt(F),this.charToByteMap_[this.byteToCharMap_[F]]=F,this.byteToCharMapWebSafe_[F]=this.ENCODED_VALS_WEBSAFE.charAt(F),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[F]]=F,F>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(F)]=F,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(F)]=F)}}};class Y extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ae=function(F){return function(F){const O=ee(F);return oe.encodeByteArray(O,!0)}(F).replace(/\./g,"")},P=function(F){try{return oe.decodeString(F,!0)}catch(O){console.error("base64Decode failed: ",O)}return null};function G(F,O){if(!(O instanceof Object))return O;switch(O.constructor){case Date:return new Date(O.getTime());case Object:void 0===F&&(F={});break;case Array:F=[];break;default:return O}for(const j in O)!O.hasOwnProperty(j)||!xe(j)||(F[j]=G(F[j],O[j]));return F}function xe(F){return"__proto__"!==F}const re=()=>{try{return function we(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const F=process.env.__FIREBASE_DEFAULTS__;return F?JSON.parse(F):void 0})()||(()=>{if(typeof document>"u")return;let F;try{F=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const O=F&&P(F[1]);return O&&JSON.parse(O)})()}catch(F){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${F}`)}},We=F=>{var O,j;return null===(j=null===(O=re())||void 0===O?void 0:O.emulatorHosts)||void 0===j?void 0:j[F]},ct=F=>{const O=We(F);if(!O)return;const j=O.lastIndexOf(":");if(j<=0||j+1===O.length)throw new Error(`Invalid host ${O} with no separate hostname and port!`);const te=parseInt(O.substring(j+1),10);return"["===O[0]?[O.substring(1,j-1),te]:[O.substring(0,j),te]},Ce=()=>{var F;return null===(F=re())||void 0===F?void 0:F.config},Te=F=>{var O;return null===(O=re())||void 0===O?void 0:O[`_${F}`]};class ge{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((O,j)=>{this.resolve=O,this.reject=j})}wrapCallback(O){return(j,te)=>{j?this.reject(j):this.resolve(te),"function"==typeof O&&(this.promise.catch(()=>{}),1===O.length?O(j):O(j,te))}}}function Fe(F,O){if(F.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const te=O||"demo-project",W=F.iat||0,Ve=F.sub||F.user_id;if(!Ve)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const wt=Object.assign({iss:`https://securetoken.google.com/${te}`,aud:te,iat:W,exp:W+3600,auth_time:W,sub:Ve,user_id:Ve,firebase:{sign_in_provider:"custom",identities:{}}},F);return[ae(JSON.stringify({alg:"none",type:"JWT"})),ae(JSON.stringify(wt)),""].join(".")}function ke(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ie(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ke())}function he(){var F;const O=null===(F=re())||void 0===F?void 0:F.forceEnvironment;if("node"===O)return!0;if("browser"===O)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Oe(){return"object"==typeof self&&self.self===self}function je(){const F="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof F&&void 0!==F.id}function Et(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function X(){const F=ke();return F.indexOf("MSIE ")>=0||F.indexOf("Trident/")>=0}function De(){try{return"object"==typeof indexedDB}catch{return!1}}function me(){return new Promise((F,O)=>{try{let j=!0;const te="validate-browser-context-for-indexeddb-analytics-module",W=self.indexedDB.open(te);W.onsuccess=()=>{W.result.close(),j||self.indexedDB.deleteDatabase(te),F(!0)},W.onupgradeneeded=()=>{j=!1},W.onerror=()=>{var Ve;O((null===(Ve=W.error)||void 0===Ve?void 0:Ve.message)||"")}}catch(j){O(j)}})}function dt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class nn extends Error{constructor(O,j,te){super(j),this.code=O,this.customData=te,this.name="FirebaseError",Object.setPrototypeOf(this,nn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ze.prototype.create)}}class ze{constructor(O,j,te){this.service=O,this.serviceName=j,this.errors=te}create(O,...j){const te=j[0]||{},W=`${this.service}/${O}`,Ve=this.errors[O],wt=Ve?function Wt(F,O){return F.replace(Bt,(j,te)=>{const W=O[te];return null!=W?String(W):`<${te}?>`})}(Ve,te):"Error";return new nn(W,`${this.serviceName}: ${wt} (${W}).`,te)}}const Bt=/\{\$([^}]+)}/g;function ti(F,O){return Object.prototype.hasOwnProperty.call(F,O)}function Vs(F){for(const O in F)if(Object.prototype.hasOwnProperty.call(F,O))return!1;return!0}function Nr(F,O){if(F===O)return!0;const j=Object.keys(F),te=Object.keys(O);for(const W of j){if(!te.includes(W))return!1;const Ve=F[W],wt=O[W];if(Fo(Ve)&&Fo(wt)){if(!Nr(Ve,wt))return!1}else if(Ve!==wt)return!1}for(const W of te)if(!j.includes(W))return!1;return!0}function Fo(F){return null!==F&&"object"==typeof F}function Yi(F){const O=[];for(const[j,te]of Object.entries(F))Array.isArray(te)?te.forEach(W=>{O.push(encodeURIComponent(j)+"="+encodeURIComponent(W))}):O.push(encodeURIComponent(j)+"="+encodeURIComponent(te));return O.length?"&"+O.join("&"):""}function Us(F){const O={};return F.replace(/^\?/,"").split("&").forEach(te=>{if(te){const[W,Ve]=te.split("=");O[decodeURIComponent(W)]=decodeURIComponent(Ve)}}),O}function En(F){const O=F.indexOf("?");if(!O)return"";const j=F.indexOf("#",O);return F.substring(O,j>0?j:void 0)}function Tn(F,O){const j=new mt(F,O);return j.subscribe.bind(j)}class mt{constructor(O,j){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=j,this.task.then(()=>{O(this)}).catch(te=>{this.error(te)})}next(O){this.forEachObserver(j=>{j.next(O)})}error(O){this.forEachObserver(j=>{j.error(O)}),this.close(O)}complete(){this.forEachObserver(O=>{O.complete()}),this.close()}subscribe(O,j,te){let W;if(void 0===O&&void 0===j&&void 0===te)throw new Error("Missing Observer.");W=function ln(F,O){if("object"!=typeof F||null===F)return!1;for(const j of O)if(j in F&&"function"==typeof F[j])return!0;return!1}(O,["next","error","complete"])?O:{next:O,error:j,complete:te},void 0===W.next&&(W.next=Ri),void 0===W.error&&(W.error=Ri),void 0===W.complete&&(W.complete=Ri);const Ve=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?W.error(this.finalError):W.complete()}catch{}}),this.observers.push(W),Ve}unsubscribeOne(O){void 0===this.observers||void 0===this.observers[O]||(delete this.observers[O],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(O){if(!this.finalized)for(let j=0;j<this.observers.length;j++)this.sendOne(j,O)}sendOne(O,j){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[O])try{j(this.observers[O])}catch(te){typeof console<"u"&&console.error&&console.error(te)}})}close(O){this.finalized||(this.finalized=!0,void 0!==O&&(this.finalError=O),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ri(){}function At(F,O=1e3,j=2){const te=O*Math.pow(j,F),W=Math.round(.5*te*(Math.random()-.5)*2);return Math.min(144e5,te+W)}function cr(F){return F&&F._delegate?F._delegate:F}},7427:(it,ye,x)=>{var o=x(4650);let z=null;function V(){return z}const Y=new o.OlP("DocumentToken");let se=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return function ae(){return(0,o.LFG)(L)}()},providedIn:"platform"}),n})();const P=new o.OlP("Location Initialized");let L=(()=>{class n extends se{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return V().getBaseHref(this._doc)}onPopState(t){const r=V().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=V().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){G()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){G()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Y))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function xe(){return new L((0,o.LFG)(Y))}()},providedIn:"platform"}),n})();function G(){return!!window.history.pushState}function we(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function pe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ke(n){return n&&"?"!==n[0]?"?"+n:n}let de=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(We)},providedIn:"root"}),n})();const re=new o.OlP("appBaseHref");let We=(()=>{class n extends de{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,o.f3M)(Y).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return we(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ke(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const c=this.prepareExternalUrl(i+Ke(s));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,s){const c=this.prepareExternalUrl(i+Ke(s));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(se),o.LFG(re,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ct=(()=>{class n extends de{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=we(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let c=this.prepareExternalUrl(i+Ke(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,s){let c=this.prepareExternalUrl(i+Ke(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(se),o.LFG(re,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Ce=(()=>{class n{constructor(t){this._subject=new o.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=pe(Fe(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ke(r))}normalize(t){return n.stripTrailingSlash(function ge(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Fe(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ke(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ke(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Ke,n.joinWithSlash=we,n.stripTrailingSlash=pe,n.\u0275fac=function(t){return new(t||n)(o.LFG(de))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function Te(){return new Ce((0,o.LFG)(de))}()},providedIn:"root"}),n})();function Fe(n){return n.replace(/\/index.html$/,"")}var Oe=(()=>((Oe=Oe||{})[Oe.Format=0]="Format",Oe[Oe.Standalone=1]="Standalone",Oe))(),je=(()=>((je=je||{})[je.Narrow=0]="Narrow",je[je.Abbreviated=1]="Abbreviated",je[je.Wide=2]="Wide",je[je.Short=3]="Short",je))(),Et=(()=>((Et=Et||{})[Et.Short=0]="Short",Et[Et.Medium=1]="Medium",Et[Et.Long=2]="Long",Et[Et.Full=3]="Full",Et))(),Ge=(()=>((Ge=Ge||{})[Ge.Decimal=0]="Decimal",Ge[Ge.Group=1]="Group",Ge[Ge.List=2]="List",Ge[Ge.PercentSign=3]="PercentSign",Ge[Ge.PlusSign=4]="PlusSign",Ge[Ge.MinusSign=5]="MinusSign",Ge[Ge.Exponential=6]="Exponential",Ge[Ge.SuperscriptingExponent=7]="SuperscriptingExponent",Ge[Ge.PerMille=8]="PerMille",Ge[Ge.Infinity=9]="Infinity",Ge[Ge.NaN=10]="NaN",Ge[Ge.TimeSeparator=11]="TimeSeparator",Ge[Ge.CurrencyDecimal=12]="CurrencyDecimal",Ge[Ge.CurrencyGroup=13]="CurrencyGroup",Ge))();function fe(n,e,t){const r=(0,o.cg1)(n),s=Ze([r[o.wAp.DayPeriodsFormat],r[o.wAp.DayPeriodsStandalone]],e);return Ze(s,t)}function Ee(n,e,t){const r=(0,o.cg1)(n),s=Ze([r[o.wAp.DaysFormat],r[o.wAp.DaysStandalone]],e);return Ze(s,t)}function De(n,e,t){const r=(0,o.cg1)(n),s=Ze([r[o.wAp.MonthsFormat],r[o.wAp.MonthsStandalone]],e);return Ze(s,t)}function nn(n,e){return Ze((0,o.cg1)(n)[o.wAp.DateFormat],e)}function ze(n,e){return Ze((0,o.cg1)(n)[o.wAp.TimeFormat],e)}function Wt(n,e){return Ze((0,o.cg1)(n)[o.wAp.DateTimeFormat],e)}function Bt(n,e){const t=(0,o.cg1)(n),r=t[o.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===Ge.CurrencyDecimal)return t[o.wAp.NumberSymbols][Ge.Decimal];if(e===Ge.CurrencyGroup)return t[o.wAp.NumberSymbols][Ge.Group]}return r}function co(n){if(!n[o.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[o.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ze(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function Nr(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const Us=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,En={},Xn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Tn=(()=>((Tn=Tn||{})[Tn.Short=0]="Short",Tn[Tn.ShortGMT=1]="ShortGMT",Tn[Tn.Long=2]="Long",Tn[Tn.Extended=3]="Extended",Tn))(),mt=(()=>((mt=mt||{})[mt.FullYear=0]="FullYear",mt[mt.Month=1]="Month",mt[mt.Date=2]="Date",mt[mt.Hours=3]="Hours",mt[mt.Minutes=4]="Minutes",mt[mt.Seconds=5]="Seconds",mt[mt.FractionalSeconds=6]="FractionalSeconds",mt[mt.Day=7]="Day",mt))(),ht=(()=>((ht=ht||{})[ht.DayPeriods=0]="DayPeriods",ht[ht.Days=1]="Days",ht[ht.Months=2]="Months",ht[ht.Eras=3]="Eras",ht))();function ln(n,e,t,r){let i=function W(n){if(wt(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,s=1,c=1]=n.split("-").map(h=>+h);return Ri(i,s-1,c)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(Us))return function Ve(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const c=Number(n[4]||0)-t,h=Number(n[5]||0)-r,g=Number(n[6]||0),m=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(e,c,h,g,m),e}(r)}const e=new Date(n);if(!wt(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Hr(t,e)||e;let h,c=[];for(;e;){if(h=Xn.exec(e),!h){c.push(e);break}{c=c.concat(h.slice(1));const v=c.pop();if(!v)break;e=v}}let g=i.getTimezoneOffset();r&&(g=O(r,g),i=function te(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function j(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(O(e,i)-i))}(i,r,!0));let m="";return c.forEach(v=>{const D=function F(n){if(cr[n])return cr[n];let e;switch(n){case"G":case"GG":case"GGG":e=Qt(ht.Eras,je.Abbreviated);break;case"GGGG":e=Qt(ht.Eras,je.Wide);break;case"GGGGG":e=Qt(ht.Eras,je.Narrow);break;case"y":e=dn(mt.FullYear,1,0,!1,!0);break;case"yy":e=dn(mt.FullYear,2,0,!0,!0);break;case"yyy":e=dn(mt.FullYear,3,0,!1,!0);break;case"yyyy":e=dn(mt.FullYear,4,0,!1,!0);break;case"Y":e=zt(1);break;case"YY":e=zt(2,!0);break;case"YYY":e=zt(3);break;case"YYYY":e=zt(4);break;case"M":case"L":e=dn(mt.Month,1,1);break;case"MM":case"LL":e=dn(mt.Month,2,1);break;case"MMM":e=Qt(ht.Months,je.Abbreviated);break;case"MMMM":e=Qt(ht.Months,je.Wide);break;case"MMMMM":e=Qt(ht.Months,je.Narrow);break;case"LLL":e=Qt(ht.Months,je.Abbreviated,Oe.Standalone);break;case"LLLL":e=Qt(ht.Months,je.Wide,Oe.Standalone);break;case"LLLLL":e=Qt(ht.Months,je.Narrow,Oe.Standalone);break;case"w":e=Vt(1);break;case"ww":e=Vt(2);break;case"W":e=Vt(1,!0);break;case"d":e=dn(mt.Date,1);break;case"dd":e=dn(mt.Date,2);break;case"c":case"cc":e=dn(mt.Day,1);break;case"ccc":e=Qt(ht.Days,je.Abbreviated,Oe.Standalone);break;case"cccc":e=Qt(ht.Days,je.Wide,Oe.Standalone);break;case"ccccc":e=Qt(ht.Days,je.Narrow,Oe.Standalone);break;case"cccccc":e=Qt(ht.Days,je.Short,Oe.Standalone);break;case"E":case"EE":case"EEE":e=Qt(ht.Days,je.Abbreviated);break;case"EEEE":e=Qt(ht.Days,je.Wide);break;case"EEEEE":e=Qt(ht.Days,je.Narrow);break;case"EEEEEE":e=Qt(ht.Days,je.Short);break;case"a":case"aa":case"aaa":e=Qt(ht.DayPeriods,je.Abbreviated);break;case"aaaa":e=Qt(ht.DayPeriods,je.Wide);break;case"aaaaa":e=Qt(ht.DayPeriods,je.Narrow);break;case"b":case"bb":case"bbb":e=Qt(ht.DayPeriods,je.Abbreviated,Oe.Standalone,!0);break;case"bbbb":e=Qt(ht.DayPeriods,je.Wide,Oe.Standalone,!0);break;case"bbbbb":e=Qt(ht.DayPeriods,je.Narrow,Oe.Standalone,!0);break;case"B":case"BB":case"BBB":e=Qt(ht.DayPeriods,je.Abbreviated,Oe.Format,!0);break;case"BBBB":e=Qt(ht.DayPeriods,je.Wide,Oe.Format,!0);break;case"BBBBB":e=Qt(ht.DayPeriods,je.Narrow,Oe.Format,!0);break;case"h":e=dn(mt.Hours,1,-12);break;case"hh":e=dn(mt.Hours,2,-12);break;case"H":e=dn(mt.Hours,1);break;case"HH":e=dn(mt.Hours,2);break;case"m":e=dn(mt.Minutes,1);break;case"mm":e=dn(mt.Minutes,2);break;case"s":e=dn(mt.Seconds,1);break;case"ss":e=dn(mt.Seconds,2);break;case"S":e=dn(mt.FractionalSeconds,1);break;case"SS":e=dn(mt.FractionalSeconds,2);break;case"SSS":e=dn(mt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=$r(Tn.Short);break;case"ZZZZZ":e=$r(Tn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=$r(Tn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=$r(Tn.Long);break;default:return null}return cr[n]=e,e}(v);m+=D?D(i,t,g):"''"===v?"'":v.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),m}function Ri(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Hr(n,e){const t=function le(n){return(0,o.cg1)(n)[o.wAp.LocaleId]}(n);if(En[t]=En[t]||{},En[t][e])return En[t][e];let r="";switch(e){case"shortDate":r=nn(n,Et.Short);break;case"mediumDate":r=nn(n,Et.Medium);break;case"longDate":r=nn(n,Et.Long);break;case"fullDate":r=nn(n,Et.Full);break;case"shortTime":r=ze(n,Et.Short);break;case"mediumTime":r=ze(n,Et.Medium);break;case"longTime":r=ze(n,Et.Long);break;case"fullTime":r=ze(n,Et.Full);break;case"short":const i=Hr(n,"shortTime"),s=Hr(n,"shortDate");r=vr(Wt(n,Et.Short),[i,s]);break;case"medium":const c=Hr(n,"mediumTime"),h=Hr(n,"mediumDate");r=vr(Wt(n,Et.Medium),[c,h]);break;case"long":const g=Hr(n,"longTime"),m=Hr(n,"longDate");r=vr(Wt(n,Et.Long),[g,m]);break;case"full":const v=Hr(n,"fullTime"),D=Hr(n,"fullDate");r=vr(Wt(n,Et.Full),[v,D])}return r&&(En[t][e]=r),r}function vr(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function It(n,e,t="-",r,i){let s="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,s=t));let c=String(n);for(;c.length<e;)c="0"+c;return r&&(c=c.slice(c.length-e)),s+c}function dn(n,e,t=0,r=!1,i=!1){return function(s,c){let h=function Lo(n,e){switch(n){case mt.FullYear:return e.getFullYear();case mt.Month:return e.getMonth();case mt.Date:return e.getDate();case mt.Hours:return e.getHours();case mt.Minutes:return e.getMinutes();case mt.Seconds:return e.getSeconds();case mt.FractionalSeconds:return e.getMilliseconds();case mt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((t>0||h>-t)&&(h+=t),n===mt.Hours)0===h&&-12===t&&(h=12);else if(n===mt.FractionalSeconds)return function ls(n,e){return It(n,3).substring(0,e)}(h,e);const g=Bt(c,Ge.MinusSign);return It(h,e,g,r,i)}}function Qt(n,e,t=Oe.Format,r=!1){return function(i,s){return function xr(n,e,t,r,i,s){switch(t){case ht.Months:return De(e,i,r)[n.getMonth()];case ht.Days:return Ee(e,i,r)[n.getDay()];case ht.DayPeriods:const c=n.getHours(),h=n.getMinutes();if(s){const m=function ti(n){const e=(0,o.cg1)(n);return co(e),(e[o.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?Nr(r):[Nr(r[0]),Nr(r[1])])}(e),v=function as(n,e,t){const r=(0,o.cg1)(n);co(r);const s=Ze([r[o.wAp.ExtraData][0],r[o.wAp.ExtraData][1]],e)||[];return Ze(s,t)||[]}(e,i,r),D=m.findIndex(S=>{if(Array.isArray(S)){const[A,R]=S,U=c>=A.hours&&h>=A.minutes,K=c<R.hours||c===R.hours&&h<R.minutes;if(A.hours<R.hours){if(U&&K)return!0}else if(U||K)return!0}else if(S.hours===c&&S.minutes===h)return!0;return!1});if(-1!==D)return v[D]}return fe(e,i,r)[c<12?0:1];case ht.Eras:return function me(n,e){return Ze((0,o.cg1)(n)[o.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,s,n,e,t,r)}}function $r(n){return function(e,t,r){const i=-1*r,s=Bt(t,Ge.MinusSign),c=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case Tn.Short:return(i>=0?"+":"")+It(c,2,s)+It(Math.abs(i%60),2,s);case Tn.ShortGMT:return"GMT"+(i>=0?"+":"")+It(c,1,s);case Tn.Long:return"GMT"+(i>=0?"+":"")+It(c,2,s)+":"+It(Math.abs(i%60),2,s);case Tn.Extended:return 0===r?"Z":(i>=0?"+":"")+It(c,2,s)+":"+It(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}function At(n){return Ri(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Vt(n,e=!1){return function(t,r){let i;if(e){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,c=t.getDate();i=1+Math.floor((c+s)/7)}else{const s=At(t),c=function Je(n){const e=Ri(n,0,1).getDay();return Ri(n,0,1+(e<=4?4:11)-e)}(s.getFullYear()),h=s.getTime()-c.getTime();i=1+Math.round(h/6048e5)}return It(i,n,Bt(r,Ge.MinusSign))}}function zt(n,e=!1){return function(t,r){return It(At(t).getFullYear(),n,Bt(r,Ge.MinusSign),e)}}const cr={};function O(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function wt(n){return n instanceof Date&&!isNaN(n.valueOf())}let rn=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,o.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,o.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.ZZ4),o.Y36(o.aQg),o.Y36(o.SBq),o.Y36(o.Qsj))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Ua{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ln=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Ua(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===s?void 0:s);else if(null!==s){const h=r.get(s);r.move(h,c),Ha(h,i)}});for(let i=0,s=r.length;i<s;i++){const h=r.get(i).context;h.index=i,h.count=s,h.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Ha(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Ha(n,e){n.context.$implicit=e.item}let Pt=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new bm,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){dr("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){dr("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.s_b),o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class bm{constructor(){this.$implicit=null,this.ngIf=null}}function dr(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,o.AaK)(e)}'.`)}let ri=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:s,ngTemplateOutletInjector:c}=this;this._viewRef=r.createEmbeddedView(i,s,c?{injector:c}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.s_b))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[o.TTD]}),n})(),tr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();let Sm=(()=>{class n{}return n.\u0275prov=(0,o.Yz7)({token:n,providedIn:"root",factory:()=>new Ob((0,o.LFG)(Y),window)}),n})();class Ob{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function kr(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const c=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Pi(this.window.history)||Pi(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Pi(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class fs extends class df extends class oe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function J(n){z||(z=n)}(new fs)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function hf(){return Ws=Ws||document.querySelector("base"),Ws?Ws.getAttribute("href"):null}();return null==t?null:function Uo(n){nr=nr||document.createElement("a"),nr.setAttribute("href",n);const e=nr.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ws=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Yh(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let nr,Ws=null;const vn=new o.OlP("TRANSITION_ID"),$c=[{provide:o.ip1,useFactory:function Hc(n,e,t){return()=>{t.get(o.CZH).donePromise.then(()=>{const r=V(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[vn,Y,o.zs3],multi:!0}];let jc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Ul=new o.OlP("EventManagerPlugins");let Gc=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const c=i[s];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Ul),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Hl{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=V().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let ps=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),gs=(()=>{class n extends ps{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const c=this._doc.createElement("style");c.textContent=s,i.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(qc),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(qc))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Y))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function qc(n){V().remove(n)}const ms={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},zc=/%COMP%/g;function jl(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?jl(n,i,t):(i=i.replace(zc,n),t.push(i))}return t}function gf(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let za=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Ks(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case o.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new mf(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case o.ifc.ShadowDom:return new _f(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=jl(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Gc),o.LFG(gs),o.LFG(o.AFp))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Ks{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(ms[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Wa(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Wa(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=ms[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=ms[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(o.JOm.DashCase|o.JOm.Important)?e.style.setProperty(t,r,i&o.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&o.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,gf(r)):this.eventManager.addEventListener(e,t,gf(r))}}function Wa(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class mf extends Ks{constructor(e,t,r,i){super(e),this.component=r;const s=jl(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function Nn(n){return"_ngcontent-%COMP%".replace(zc,n)}(i+"-"+r.id),this.hostAttr=function $l(n){return"_nghost-%COMP%".replace(zc,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class _f extends Ks{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=jl(i.id,i.styles,[]);for(let c=0;c<s.length;c++){const h=document.createElement("style");h.textContent=s[c],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let rr=(()=>{class n extends Hl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Y))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const yf=["alt","control","meta","shift"],Ys={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Zc={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Za=(()=>{class n extends Hl{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),c=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>V().onAndCancel(t,s.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let c="",h=r.indexOf("code");if(h>-1&&(r.splice(h,1),c="code."),yf.forEach(m=>{const v=r.indexOf(m);v>-1&&(r.splice(v,1),c+=m+".")}),c+=s,0!=r.length||0===s.length)return null;const g={};return g.domEventName=i,g.fullKey=c,g}static matchEventFullKeyCode(t,r){let i=Ys[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),yf.forEach(c=>{c!==i&&(0,Zc[c])(t)&&(s+=c+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Y))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const zl=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:"browser"},{provide:o.g9A,useValue:function wf(){fs.makeCurrent()},multi:!0},{provide:Y,useFactory:function Yc(){return(0,o.RDi)(document),document},deps:[]}]),ys=new o.OlP(""),Tf=[{provide:o.rWj,useClass:class ff{addToWindow(e){o.dqk.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},o.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(r=>{const i=o.dqk.getAllAngularTestabilities();let s=i.length,c=!1;const h=function(g){c=c||g,s--,0==s&&r(c)};i.forEach(function(g){g.whenStable(h)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?V().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:o.lri,useClass:o.dDg,deps:[o.R0b,o.eoX,o.rWj]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b,o.eoX,o.rWj]}],Ka=[{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function _s(){return new o.qLn},deps:[]},{provide:Ul,useClass:rr,multi:!0,deps:[Y,o.R0b,o.Lbi]},{provide:Ul,useClass:Za,multi:!0,deps:[Y]},{provide:za,useClass:za,deps:[Gc,gs,o.AFp]},{provide:o.FYo,useExisting:za},{provide:ps,useExisting:gs},{provide:gs,useClass:gs,deps:[Y]},{provide:Gc,useClass:Gc,deps:[Ul,o.R0b]},{provide:class Rl{},useClass:jc,deps:[]},[]];let Jc=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:o.AFp,useValue:t.appId},{provide:vn,useExisting:o.AFp},$c]}}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(ys,12))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[...Ka,...Tf],imports:[tr,o.hGG]}),n})(),Ho=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Y))},n.\u0275prov=o.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Wl(){return new Ho((0,o.LFG)(Y))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let na=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):o.LFG($b),r},providedIn:"root"}),n})(),$b=(()=>{class n extends na{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case o.q3G.NONE:return r;case o.q3G.HTML:return(0,o.qzn)(r,"HTML")?(0,o.z3N)(r):(0,o.EiD)(this._doc,String(r)).toString();case o.q3G.STYLE:return(0,o.qzn)(r,"Style")?(0,o.z3N)(r):r;case o.q3G.SCRIPT:if((0,o.qzn)(r,"Script"))return(0,o.z3N)(r);throw new Error("unsafe value used in a script context");case o.q3G.URL:return(0,o.qzn)(r,"URL")?(0,o.z3N)(r):(0,o.mCW)(String(r));case o.q3G.RESOURCE_URL:if((0,o.qzn)(r,"ResourceURL"))return(0,o.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,o.JVY)(t)}bypassSecurityTrustStyle(t){return(0,o.L6k)(t)}bypassSecurityTrustScript(t){return(0,o.eBb)(t)}bypassSecurityTrustUrl(t){return(0,o.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,o.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Y))},n.\u0275prov=o.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function $I(n){return new $b(n.get(Y))}(o.LFG(o.zs3)),r},providedIn:"root"}),n})();var fn=x(8996),eo=x(3269);function at(...n){const e=(0,eo.yG)(n);return(0,fn.D)(n,e)}var wr=x(7579);class on extends wr.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const ra=(0,x(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Tr=x(9751);const{isArray:Qa}=Array,{getPrototypeOf:If,prototype:jb,keys:Vm}=Object;function Cf(n){if(1===n.length){const e=n[0];if(Qa(e))return{args:e,keys:null};if(function Gb(n){return n&&"object"==typeof n&&If(n)===jb}(e)){const t=Vm(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var bo=x(4671),Qe=x(4004);const{isArray:rd}=Array;function Yl(n){return(0,Qe.U)(e=>function $o(n,e){return rd(e)?n(...e):n(e)}(n,e))}function Xa(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var Dn=x(5403),id=x(9672);function ia(...n){const e=(0,eo.yG)(n),t=(0,eo.jO)(n),{args:r,keys:i}=Cf(n);if(0===r.length)return(0,fn.D)([],e);const s=new Tr.y(function od(n,e,t=bo.y){return r=>{Um(e,()=>{const{length:i}=n,s=new Array(i);let c=i,h=i;for(let g=0;g<i;g++)Um(e,()=>{const m=(0,fn.D)(n[g],e);let v=!1;m.subscribe((0,Dn.x)(r,D=>{s[g]=D,v||(v=!0,h--),h||r.next(t(s.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>Xa(i,c):bo.y));return t?s.pipe(Yl(t)):s}function Um(n,e,t){n?(0,id.f)(t,n,e):e()}var Jl=x(8189);function vs(...n){return function Sf(){return(0,Jl.J)(1)}()((0,fn.D)(n,(0,eo.yG)(n)))}var jo=x(8421);function Li(n){return new Tr.y(e=>{(0,jo.Xf)(n()).subscribe(e)})}var Ql=x(9635),Ii=x(576);function el(n,e){const t=(0,Ii.m)(n)?n:()=>n,r=i=>i.error(t());return new Tr.y(e?i=>e.schedule(r,0,i):r)}var si=x(515),Af=x(727),pn=x(4482);function bs(){return(0,pn.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Dn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class oa extends Tr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,pn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Af.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Dn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Af.w0.EMPTY)}return e}refCount(){return bs()(this)}}function Dr(n,e){return(0,pn.e)((t,r)=>{let i=null,s=0,c=!1;const h=()=>c&&!i&&r.complete();t.subscribe((0,Dn.x)(r,g=>{i?.unsubscribe();let m=0;const v=s++;(0,jo.Xf)(n(g,v)).subscribe(i=(0,Dn.x)(r,D=>r.next(e?e(g,D,v,m++):D),()=>{i=null,h()}))},()=>{c=!0,h()}))})}function Kt(n){return n<=0?()=>si.E:(0,pn.e)((e,t)=>{let r=0;e.subscribe((0,Dn.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Cn(n,e){return(0,pn.e)((t,r)=>{let i=0;t.subscribe((0,Dn.x)(r,s=>n.call(e,s,i++)&&r.next(s)))})}var w=x(5577);function T(n){return(0,pn.e)((e,t)=>{let r=!1;e.subscribe((0,Dn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function I(n=k){return(0,pn.e)((e,t)=>{let r=!1;e.subscribe((0,Dn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function k(){return new ra}function $(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Cn((i,s)=>n(i,s,r)):bo.y,Kt(1),t?T(e):I(()=>new ra))}function Z(n,e){return(0,Ii.m)(e)?(0,w.z)(n,e,1):(0,w.z)(n,1)}var ue=x(8505);function Ue(n){return(0,pn.e)((e,t)=>{let s,r=null,i=!1;r=e.subscribe((0,Dn.x)(t,void 0,void 0,c=>{s=(0,jo.Xf)(n(c,Ue(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function tt(n,e,t,r,i){return(s,c)=>{let h=t,g=e,m=0;s.subscribe((0,Dn.x)(c,v=>{const D=m++;g=h?n(g,v,D):(h=!0,v),r&&c.next(g)},i&&(()=>{h&&c.next(g),c.complete()})))}}function ft(n,e){return(0,pn.e)(tt(n,e,arguments.length>=2,!0))}function Ft(n){return n<=0?()=>si.E:(0,pn.e)((e,t)=>{let r=[];e.subscribe((0,Dn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function yt(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Cn((i,s)=>n(i,s,r)):bo.y,Ft(1),t?T(e):I(()=>new ra))}function Wn(n){return(0,Qe.U)(()=>n)}function sa(n){return(0,pn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const kt="primary",jr=Symbol("RouteTitle");class Or{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ai(n){return new Or(n)}function Hm(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const c=r[s],h=n[s];if(c.startsWith(":"))i[c.substring(1)]=h;else if(c!==h.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Go(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!jI(n[i],e[i]))return!1;return!0}function jI(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function zb(n){return Array.prototype.concat.apply([],n)}function Wb(n){return n.length>0?n[n.length-1]:null}function ir(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ws(n){return(0,o.CqO)(n)?n:(0,o.QGY)(n)?(0,fn.D)(Promise.resolve(n)):at(n)}const mO={exact:function Kb(n,e,t){if(!nu(n.segments,e.segments)||!eu(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Kb(n.children[r],e.children[r],t))return!1;return!0},subset:zI},jm={exact:function qI(n,e){return Go(n,e)},subset:function Gm(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>jI(n[t],e[t]))},ignored:()=>!0};function GI(n,e,t){return mO[t.paths](n.root,e.root,t.matrixParams)&&jm[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function zI(n,e,t){return WI(n,e,e.segments,t)}function WI(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!nu(i,t)||e.hasChildren()||!eu(i,t,r))}if(n.segments.length===t.length){if(!nu(n.segments,t)||!eu(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!zI(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(nu(n.segments,i)&&eu(n.segments,i,r)&&n.children[kt])&&WI(n.children[kt],e,s,r)}}function eu(n,e,t){return e.every((r,i)=>jm[t](n[i].parameters,r.parameters))}class tu{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ai(this.queryParams)),this._queryParamMap}toString(){return Yb.serialize(this)}}class jt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,ir(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ad(this)}}class Mf{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ai(this.parameters)),this._parameterMap}toString(){return Jb(this)}}function nu(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let qm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return new sd},providedIn:"root"}),n})();class sd{parse(e){const t=new Zm(e);return new tu(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ru(e.root,!0)}`,r=function JI(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Nf(t)}=${Nf(i)}`).join("&"):`${Nf(t)}=${Nf(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function KI(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Yb=new sd;function ad(n){return n.segments.map(e=>Jb(e)).join("/")}function ru(n,e){if(!n.hasChildren())return ad(n);if(e){const t=n.children[kt]?ru(n.children[kt],!1):"",r=[];return ir(n.children,(i,s)=>{s!==kt&&r.push(`${s}:${ru(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function ZI(n,e){let t=[];return ir(n.children,(r,i)=>{i===kt&&(t=t.concat(e(r,i)))}),ir(n.children,(r,i)=>{i!==kt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===kt?[ru(n.children[kt],!1)]:[`${i}:${ru(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[kt]?`${ad(n)}/${t[0]}`:`${ad(n)}/(${t.join("//")})`}}function wo(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Nf(n){return wo(n).replace(/%3B/gi,";")}function zm(n){return wo(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ld(n){return decodeURIComponent(n)}function xf(n){return ld(n.replace(/\+/g,"%20"))}function Jb(n){return`${zm(n.path)}${function YI(n){return Object.keys(n).map(e=>`;${zm(e)}=${zm(n[e])}`).join("")}(n.parameters)}`}const Qb=/^[^\/()?;=#]+/;function kf(n){const e=n.match(Qb);return e?e[0]:""}const QI=/^[^=?&#]+/,Wm=/^[^&#]+/;class Zm{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new jt([],{}):new jt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[kt]=new jt(e,t)),r}parseSegment(){const e=kf(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new o.vHH(4009,!1);return this.capture(e),new Mf(ld(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=kf(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=kf(this.remaining);i&&(r=i,this.capture(r))}e[ld(t)]=ld(r)}parseQueryParam(e){const t=function li(n){const e=n.match(QI);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function Xb(n){const e=n.match(Wm);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=xf(t),s=xf(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=kf(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new o.vHH(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=kt);const c=this.parseChildren();t[s]=1===Object.keys(c).length?c[kt]:new jt([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new o.vHH(4011,!1)}}function Er(n){return n.segments.length>0?new jt([],{[kt]:n}):n}function aa(n){const e={};for(const r of Object.keys(n.children)){const s=aa(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function e1(n){if(1===n.numberOfChildren&&n.children[kt]){const e=n.children[kt];return new jt(n.segments.concat(e.segments),e.children)}return n}(new jt(n.segments,e))}function tl(n){return n instanceof tu}function tC(n,e,t,r,i){if(0===t.length)return ou(e.root,e.root,e.root,r,i);const s=function n1(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Of(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,c)=>{if("object"==typeof s&&null!=s){if(s.outlets){const h={};return ir(s.outlets,(g,m)=>{h[m]="string"==typeof g?g.split("/"):g}),[...i,{outlets:h}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===c?(s.split("/").forEach((h,g)=>{0==g&&"."===h||(0==g&&""===h?t=!0:".."===h?e++:""!=h&&i.push(h))}),i):[...i,s]},[]);return new Of(t,e,r)}(t);return s.toRoot()?ou(e.root,e.root,new jt([],{}),r,i):function c(g){const m=function cd(n,e,t,r){if(n.isAbsolute)return new nl(e.root,!0,0);if(-1===r)return new nl(t,t===e.root,0);return function r1(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new o.vHH(4005,!1);i=r.segments.length}return new nl(r,!1,i-s)}(t,r+(iu(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,g),v=m.processChildren?rl(m.segmentGroup,m.index,s.commands):dd(m.segmentGroup,m.index,s.commands);return ou(e.root,m.segmentGroup,v,r,i)}(n.snapshot?._lastPathIndex)}function iu(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ud(n){return"object"==typeof n&&null!=n&&n.outlets}function ou(n,e,t,r,i){let c,s={};r&&ir(r,(g,m)=>{s[m]=Array.isArray(g)?g.map(v=>`${v}`):`${g}`}),c=n===e?t:Rf(n,e,t);const h=Er(aa(c));return new tu(h,s,i)}function Rf(n,e,t){const r={};return ir(n.children,(i,s)=>{r[s]=i===e?t:Rf(i,e,t)}),new jt(n.segments,r)}class Of{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&iu(r[0]))throw new o.vHH(4003,!1);const i=r.find(ud);if(i&&i!==Wb(r))throw new o.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class nl{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function dd(n,e,t){if(n||(n=new jt([],{})),0===n.segments.length&&n.hasChildren())return rl(n,e,t);const r=function o1(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const c=n.segments[i],h=t[r];if(ud(h))break;const g=`${h}`,m=r<t.length-1?t[r+1]:null;if(i>0&&void 0===g)break;if(g&&m&&"object"==typeof m&&void 0===m.outlets){if(!Ym(g,m,c))return s;r+=2}else{if(!Ym(g,{},c))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new jt(n.segments.slice(0,r.pathIndex),{});return s.children[kt]=new jt(n.segments.slice(r.pathIndex),n.children),rl(s,0,i)}return r.match&&0===i.length?new jt(n.segments,{}):r.match&&!n.hasChildren()?s1(n,e,t):r.match?rl(n,0,i):s1(n,e,t)}function rl(n,e,t){if(0===t.length)return new jt(n.segments,{});{const r=function rC(n){return ud(n[0])?n[0].outlets:{[kt]:n}}(t),i={};return ir(r,(s,c)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[c]=dd(n.children[c],e,s))}),ir(n.children,(s,c)=>{void 0===r[c]&&(i[c]=s)}),new jt(n.segments,i)}}function s1(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(ud(s)){const g=su(s.outlets);return new jt(r,g)}if(0===i&&iu(t[0])){r.push(new Mf(n.segments[e].path,Pf(t[0]))),i++;continue}const c=ud(s)?s.outlets[kt]:`${s}`,h=i<t.length-1?t[i+1]:null;c&&h&&iu(h)?(r.push(new Mf(c,Pf(h))),i+=2):(r.push(new Mf(c,{})),i++)}return new jt(r,{})}function su(n){const e={};return ir(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=s1(new jt([],{}),0,t))}),e}function Pf(n){const e={};return ir(n,(t,r)=>e[r]=`${t}`),e}function Ym(n,e,t){return n==t.path&&Go(e,t.parameters)}class Ts{constructor(e,t){this.id=e,this.url=t}}class hd extends Ts{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class il extends Ts{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ff extends Ts{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class a1 extends Ts{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class iC extends Ts{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oC extends Ts{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sC extends Ts{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class l1 extends Ts{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jm extends Ts{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class u1{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Qm{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class aC{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lC{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class c1{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class d1{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class la{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Xm{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=e_(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=e_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=f1(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return f1(e,this._root).map(t=>t.value)}}function e_(n,e){if(n===e.value)return e;for(const t of e.children){const r=e_(n,t);if(r)return r}return null}function f1(n,e){if(n===e.value)return[e];for(const t of e.children){const r=f1(n,t);if(r.length)return r.unshift(e),r}return[]}class to{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function au(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class t_ extends Xm{constructor(e,t){super(e),this.snapshot=t,fd(this,e)}toString(){return this.snapshot.toString()}}function n_(n,e){const t=function p1(n,e){const c=new ol([],{},{},"",{},kt,e,null,n.root,-1,{});return new i_("",new to(c,[]))}(n,e),r=new on([new Mf("",{})]),i=new on({}),s=new on({}),c=new on({}),h=new on(""),g=new Bi(r,i,c,h,s,kt,e,t.root);return g.snapshot=t.root,new t_(new to(g,[]),t)}class Bi{constructor(e,t,r,i,s,c,h,g){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=c,this.component=h,this.title=this.data?.pipe((0,Qe.U)(m=>m[jr]))??at(void 0),this._futureSnapshot=g}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Qe.U)(e=>ai(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Qe.U)(e=>ai(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function r_(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function Lf(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class ol{constructor(e,t,r,i,s,c,h,g,m,v,D,S){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=c,this.component=h,this.title=this.data?.[jr],this.routeConfig=g,this._urlSegment=m,this._lastPathIndex=v,this._correctedLastPathIndex=S??v,this._resolve=D}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ai(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ai(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class i_ extends Xm{constructor(e,t){super(t),this.url=e,fd(this,t)}toString(){return Bf(this._root)}}function fd(n,e){e.value._routerState=n,e.children.forEach(t=>fd(n,t))}function Bf(n){const e=n.children.length>0?` { ${n.children.map(Bf).join(", ")} } `:"";return`${n.value}${e}`}function pd(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Go(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Go(e.params,t.params)||n.params.next(t.params),function qb(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Go(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Go(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function sl(n,e){const t=Go(n.params,e.params)&&function _O(n,e){return nu(n,e)&&n.every((t,r)=>Go(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||sl(n.parent,e.parent))}function lu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function cC(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return lu(n,r,i);return lu(n,r)})}(n,e,t);return new to(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const c=s.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(h=>lu(n,h)),c}}const r=function dC(n){return new Bi(new on(n.url),new on(n.params),new on(n.queryParams),new on(n.fragment),new on(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>lu(n,s));return new to(r,i)}}const Vf="ngNavigationCancelingError";function Uf(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=tl(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=gd(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function gd(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Vf]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Hf(n){return ua(n)&&tl(n.url)}function ua(n){return n&&n[Vf]}class hC{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new md,this.attachRef=null}}let md=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new hC,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const o_=!1;let s_=(()=>{class n{constructor(t,r,i,s,c){this.parentContexts=t,this.location=r,this.changeDetector=s,this.environmentInjector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.attachEvents=new o.vpe,this.detachEvents=new o.vpe,this.name=i||kt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new o.vHH(4012,o_);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new o.vHH(4012,o_);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new o.vHH(4012,o_);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new o.vHH(4013,o_);this._activatedRoute=t;const i=this.location,c=t._futureSnapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,g=new a_(t,h,i.injector);if(r&&function fC(n){return!!n.resolveComponentFactory}(r)){const m=r.resolveComponentFactory(c);this.activated=i.createComponent(m,i.length,g)}else this.activated=i.createComponent(c,{index:i.length,injector:g,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(md),o.Y36(o.s_b),o.$8M("name"),o.Y36(o.sBO),o.Y36(o.lqb))},n.\u0275dir=o.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class a_{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Bi?this.route:e===md?this.childContexts:this.parent.get(e,t)}}let $f=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[o.jDz],decls:1,vars:0,template:function(t,r){1&t&&o._UZ(0,"router-outlet")},dependencies:[s_],encapsulation:2}),n})();function _d(n,e){return n.providers&&!n._injector&&(n._injector=(0,o.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function l_(n){const e=n.children&&n.children.map(l_),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==kt&&(t.component=$f),t}function no(n){return n.outlet||kt}function qo(n,e){const t=n.filter(r=>no(r)===e);return t.push(...n.filter(r=>no(r)!==e)),t}function zo(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class wC{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),pd(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=au(t);e.children.forEach(s=>{const c=s.value.outlet;this.deactivateRoutes(s,i[c],r),delete i[c]}),ir(i,(s,c)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=au(e);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],i);if(r&&r.outlet){const c=r.outlet.detach(),h=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=au(e);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=au(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new d1(s.value.snapshot))}),e.children.length&&this.forwardEvent(new lC(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(pd(i),i===s)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const h=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(h.contexts),c.attachRef=h.componentRef,c.route=h.route.value,c.outlet&&c.outlet.attach(h.componentRef,h.route.value),pd(h.route.value),this.activateChildRoutes(e,null,c.children)}else{const h=zo(i.snapshot),g=h?.get(o._Vd)??null;c.attachRef=null,c.route=i,c.resolver=g,c.injector=h,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class m1{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class jf{constructor(e,t){this.component=e,this.route=t}}function TC(n,e,t){const r=n._root;return yd(r,e?e._root:null,t,[r.value])}function al(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,o.Z0I)(n)?e.get(n):n:r}function yd(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=au(e);return n.children.forEach(c=>{(function EC(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,c=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(c&&s.routeConfig===c.routeConfig){const g=function IC(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!nu(n.url,e.url);case"pathParamsOrQueryParamsChange":return!nu(n.url,e.url)||!Go(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!sl(n,e)||!Go(n.queryParams,e.queryParams);default:return!sl(n,e)}}(c,s,s.routeConfig.runGuardsAndResolvers);g?i.canActivateChecks.push(new m1(r)):(s.data=c.data,s._resolvedData=c._resolvedData),yd(n,e,s.component?h?h.children:null:t,r,i),g&&h&&h.outlet&&h.outlet.isActivated&&i.canDeactivateChecks.push(new jf(h.outlet.component,c))}else c&&vd(e,h,i),i.canActivateChecks.push(new m1(r)),yd(n,null,s.component?h?h.children:null:t,r,i)})(c,s[c.value.outlet],t,r.concat([c.value]),i),delete s[c.value.outlet]}),ir(s,(c,h)=>vd(c,t.getContext(h),i)),i}function vd(n,e,t){const r=au(n),i=n.value;ir(r,(s,c)=>{vd(s,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new jf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function ca(n){return"function"==typeof n}function wd(n){return n instanceof ra||"EmptyError"===n?.name}const uu=Symbol("INITIAL_VALUE");function Td(){return Dr(n=>ia(n.map(e=>e.pipe(Kt(1),function Xl(...n){const e=(0,eo.yG)(n);return(0,pn.e)((t,r)=>{(e?vs(n,t,e):vs(n,t)).subscribe(r)})}(uu)))).pipe((0,Qe.U)(e=>{for(const t of e)if(!0!==t){if(t===uu)return uu;if(!1===t||t instanceof tu)return t}return!0}),Cn(e=>e!==uu),Kt(1)))}function qf(n){return(0,Ql.z)((0,ue.b)(e=>{if(tl(e))throw Uf(0,e)}),(0,Qe.U)(e=>!0===e))}const xn={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function u_(n,e,t,r,i){const s=c_(n,e,t);return s.matched?function NC(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?at(i.map(c=>{const h=al(c,n);return ws(function yO(n){return n&&ca(n.canMatch)}(h)?h.canMatch(e,t):n.runInContext(()=>h(e,t)))})).pipe(Td(),qf()):at(!0)}(r=_d(e,r),e,t).pipe((0,Qe.U)(c=>!0===c?s:{...xn})):at(s)}function c_(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...xn}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Hm)(t,n,e);if(!i)return{...xn};const s={};ir(i.posParams,(h,g)=>{s[g]=h.path});const c=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function cu(n,e,t,r,i="corrected"){if(t.length>0&&function kC(n,e,t){return t.some(r=>zf(n,e,r)&&no(r)!==kt)}(n,t,r)){const c=new jt(e,function xC(n,e,t,r){const i={};i[kt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&no(s)!==kt){const c=new jt([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[no(s)]=c}return i}(n,e,r,new jt(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function RC(n,e,t){return t.some(r=>zf(n,e,r))}(n,t,r)){const c=new jt(n.segments,function D1(n,e,t,r,i,s){const c={};for(const h of r)if(zf(n,t,h)&&!i[no(h)]){const g=new jt([],{});g._sourceSegment=n,g._segmentIndexShift="legacy"===s?n.segments.length:e.length,c[no(h)]=g}return{...i,...c}}(n,e,t,r,n.children,i));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const s=new jt(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function zf(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function E1(n,e,t,r){return!!(no(n)===r||r!==kt&&zf(e,t,n))&&("**"===n.path||c_(e,n,t).matched)}function OC(n,e,t){return 0===e.length&&!n.children[t]}const d_=!1;class da{constructor(e){this.segmentGroup=e||null}}class Wf{constructor(e){this.urlTree=e}}function ll(n){return el(new da(n))}function h_(n){return el(new Wf(n))}class S1{constructor(e,t,r,i,s){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=cu(this.urlTree.root,[],[],this.config).segmentGroup,t=new jt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,kt).pipe((0,Qe.U)(s=>this.createUrlTree(aa(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ue(s=>{if(s instanceof Wf)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof da?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,kt).pipe((0,Qe.U)(i=>this.createUrlTree(aa(i),e.queryParams,e.fragment))).pipe(Ue(i=>{throw i instanceof da?this.noMatchError(i):i}))}noMatchError(e){return new o.vHH(4002,d_)}createUrlTree(e,t,r){const i=Er(e);return new tu(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Qe.U)(s=>new jt([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return(0,fn.D)(i).pipe(Z(s=>{const c=r.children[s],h=qo(t,s);return this.expandSegmentGroup(e,h,c,s).pipe((0,Qe.U)(g=>({segment:g,outlet:s})))}),ft((s,c)=>(s[c.outlet]=c.segment,s),{}),yt())}expandSegment(e,t,r,i,s,c){return(0,fn.D)(r).pipe(Z(h=>this.expandSegmentAgainstRoute(e,t,r,h,i,s,c).pipe(Ue(m=>{if(m instanceof da)return at(null);throw m}))),$(h=>!!h),Ue((h,g)=>{if(wd(h))return OC(t,i,s)?at(new jt([],{})):ll(t);throw h}))}expandSegmentAgainstRoute(e,t,r,i,s,c,h){return E1(i,t,s,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,c):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,c):ll(t):ll(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?h_(s):this.lineralizeSegments(r,s).pipe((0,w.z)(c=>{const h=new jt(c,{});return this.expandSegment(e,h,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,c){const{matched:h,consumedSegments:g,remainingSegments:m,positionalParamSegments:v}=c_(t,i,s);if(!h)return ll(t);const D=this.applyRedirectCommands(g,i.redirectTo,v);return i.redirectTo.startsWith("/")?h_(D):this.lineralizeSegments(i,D).pipe((0,w.z)(S=>this.expandSegment(e,t,r,S.concat(m),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){return"**"===r.path?(e=_d(r,e),r.loadChildren?(r._loadedRoutes?at({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,Qe.U)(h=>(r._loadedRoutes=h.routes,r._loadedInjector=h.injector,new jt(i,{})))):at(new jt(i,{}))):u_(t,r,i,e).pipe(Dr(({matched:c,consumedSegments:h,remainingSegments:g})=>c?this.getChildConfig(e=r._injector??e,r,i).pipe((0,w.z)(v=>{const D=v.injector??e,S=v.routes,{segmentGroup:A,slicedSegments:R}=cu(t,h,g,S),U=new jt(A.segments,A.children);if(0===R.length&&U.hasChildren())return this.expandChildren(D,S,U).pipe((0,Qe.U)(Pe=>new jt(h,Pe)));if(0===S.length&&0===R.length)return at(new jt(h,{}));const K=no(r)===s;return this.expandSegment(D,U,S,R,K?kt:s,!0).pipe((0,Qe.U)(qe=>new jt(h.concat(qe.segments),qe.children)))})):ll(t)))}getChildConfig(e,t,r){return t.children?at({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?at({routes:t._loadedRoutes,injector:t._loadedInjector}):function T1(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?at(!0):at(i.map(c=>{const h=al(c,n);return ws(function bd(n){return n&&ca(n.canLoad)}(h)?h.canLoad(e,t):n.runInContext(()=>h(e,t)))})).pipe(Td(),qf())}(e,t,r).pipe((0,w.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,ue.b)(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function PC(n){return el(gd(d_,3))}())):at({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return at(r);if(i.numberOfChildren>1||!i.children[kt])return el(new o.vHH(4e3,d_));i=i.children[kt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new tu(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return ir(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const h=i.substring(1);r[s]=t[h]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let c={};return ir(t.children,(h,g)=>{c[g]=this.createSegmentGroup(e,h,r,i)}),new jt(s,c)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new o.vHH(4001,d_);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class FC{}class M1{constructor(e,t,r,i,s,c,h,g){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=h,this.urlSerializer=g}recognize(){const e=cu(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,kt).pipe((0,Qe.U)(t=>{if(null===t)return null;const r=new ol([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},kt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new to(r,t),s=new i_(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,r=r_(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,fn.D)(Object.keys(r.children)).pipe(Z(i=>{const s=r.children[i],c=qo(t,i);return this.processSegmentGroup(e,c,s,i)}),ft((i,s)=>i&&s?(i.push(...s),i):null),function Rr(n,e=!1){return(0,pn.e)((t,r)=>{let i=0;t.subscribe((0,Dn.x)(r,s=>{const c=n(s,i++);(c||e)&&r.next(s),!c&&r.complete()}))})}(i=>null!==i),T(null),yt(),(0,Qe.U)(i=>{if(null===i)return null;const s=Dd(i);return function ul(n){n.sort((e,t)=>e.value.outlet===kt?-1:t.value.outlet===kt?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,r,i,s){return(0,fn.D)(t).pipe(Z(c=>this.processSegmentAgainstRoute(c._injector??e,c,r,i,s)),$(c=>!!c),Ue(c=>{if(wd(c))return OC(r,i,s)?at([]):at(null);throw c}))}processSegmentAgainstRoute(e,t,r,i,s){if(t.redirectTo||!E1(t,r,i,s))return at(null);let c;if("**"===t.path){const h=i.length>0?Wb(i).parameters:{},g=Ed(r)+i.length;c=at({snapshot:new ol(i,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,__(t),no(t),t.component??t._loadedComponent??null,t,Zf(r),g,Kf(t),g),consumedSegments:[],remainingSegments:[]})}else c=u_(r,t,i,e).pipe((0,Qe.U)(({matched:h,consumedSegments:g,remainingSegments:m,parameters:v})=>{if(!h)return null;const D=Ed(r)+g.length;return{snapshot:new ol(g,v,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,__(t),no(t),t.component??t._loadedComponent??null,t,Zf(r),D,Kf(t),D),consumedSegments:g,remainingSegments:m}}));return c.pipe(Dr(h=>{if(null===h)return at(null);const{snapshot:g,consumedSegments:m,remainingSegments:v}=h;e=t._injector??e;const D=t._loadedInjector??e,S=function LC(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:A,slicedSegments:R}=cu(r,m,v,S.filter(K=>void 0===K.redirectTo),this.relativeLinkResolution);if(0===R.length&&A.hasChildren())return this.processChildren(D,S,A).pipe((0,Qe.U)(K=>null===K?null:[new to(g,K)]));if(0===S.length&&0===R.length)return at([new to(g,[])]);const U=no(t)===s;return this.processSegment(D,S,A,R,U?kt:s).pipe((0,Qe.U)(K=>null===K?null:[new to(g,K)]))}))}}function m_(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Dd(n){const e=[],t=new Set;for(const r of n){if(!m_(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Dd(r.children);e.push(new to(r.value,i))}return e.filter(r=>!t.has(r))}function Zf(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Ed(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function __(n){return n.data||{}}function Kf(n){return n.resolve||{}}function x1(n){return"string"==typeof n.title||null===n.title}function y_(n){return Dr(e=>{const t=n(e);return t?(0,fn.D)(t).pipe((0,Qe.U)(()=>e)):at(e)})}let Yf=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===kt);return r}getResolvedTitleForRoute(t){return t.data[jr]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(k1)},providedIn:"root"}),n})(),k1=(()=>{class n extends Yf{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Ho))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class GC{}class wO extends class R1{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const fa=new o.OlP("",{providedIn:"root",factory:()=>({})}),pa=new o.OlP("ROUTES");let cl=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return at(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=ws(t.loadComponent()).pipe((0,ue.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),sa(()=>{this.componentLoaders.delete(t)})),i=new oa(r,()=>new wr.x).pipe(bs());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return at({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,Qe.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(r);let g,m,v=!1;Array.isArray(h)?m=h:(g=h.create(t).injector,m=zb(g.get(pa,[],o.XFs.Self|o.XFs.Optional)));return{routes:m.map(l_),injector:g}}),sa(()=>{this.childrenLoaders.delete(r)})),c=new oa(s,()=>new wr.x).pipe(bs());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(t){return ws(t()).pipe((0,w.z)(r=>r instanceof o.YKP||Array.isArray(r)?at(r):(0,fn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.zs3),o.LFG(o.Sil))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class zC{}class TO{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function WC(n){throw n}function ZC(n,e,t){return e.parse("/")}const KC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},P1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Jf(){const n=(0,o.f3M)(qm),e=(0,o.f3M)(md),t=(0,o.f3M)(Ce),r=(0,o.f3M)(o.zs3),i=(0,o.f3M)(o.Sil),s=(0,o.f3M)(pa,{optional:!0})??[],c=(0,o.f3M)(fa,{optional:!0})??{},h=(0,o.f3M)(k1),g=(0,o.f3M)(Yf,{optional:!0}),m=(0,o.f3M)(zC,{optional:!0}),v=(0,o.f3M)(GC,{optional:!0}),D=new gn(null,n,e,t,r,i,zb(s));return m&&(D.urlHandlingStrategy=m),v&&(D.routeReuseStrategy=v),D.titleStrategy=g??h,function F1(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,D),D}let gn=(()=>{class n{constructor(t,r,i,s,c,h,g){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=g,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new wr.x,this.errorHandler=WC,this.malformedUriErrorHandler=ZC,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>at(void 0),this.urlHandlingStrategy=new TO,this.routeReuseStrategy=new wO,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=c.get(cl),this.configLoader.onLoadEndListener=S=>this.triggerEvent(new Qm(S)),this.configLoader.onLoadStartListener=S=>this.triggerEvent(new u1(S)),this.ngModule=c.get(o.h0i),this.console=c.get(o.c2e);const D=c.get(o.R0b);this.isNgZoneEnabled=D instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(g),this.currentUrlTree=function Zb(){return new tu(new jt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=n_(this.currentUrlTree,this.rootComponentType),this.transitions=new on({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Cn(i=>0!==i.id),(0,Qe.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Dr(i=>{let s=!1,c=!1;return at(i).pipe((0,ue.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Dr(h=>{const g=this.browserUrlTree.toString(),m=!this.navigated||h.extractedUrl.toString()!==g||g!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||m)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return Qf(h.source)&&(this.browserUrlTree=h.extractedUrl),at(h).pipe(Dr(D=>{const S=this.transitions.getValue();return r.next(new hd(D.id,this.serializeUrl(D.extractedUrl),D.source,D.restoredState)),S!==this.transitions.getValue()?si.E:Promise.resolve(D)}),function f_(n,e,t,r){return Dr(i=>function C1(n,e,t,r,i){return new S1(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Qe.U)(s=>({...i,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ue.b)(D=>{this.currentNavigation={...this.currentNavigation,finalUrl:D.urlAfterRedirects},i.urlAfterRedirects=D.urlAfterRedirects}),function VC(n,e,t,r,i,s){return(0,w.z)(c=>function A1(n,e,t,r,i,s,c="emptyOnly",h="legacy"){return new M1(n,e,t,r,i,c,h,s).recognize().pipe(Dr(g=>null===g?function g_(n){return new Tr.y(e=>e.error(n))}(new FC):at(g)))}(n,e,t,c.urlAfterRedirects,r.serialize(c.urlAfterRedirects),r,i,s).pipe((0,Qe.U)(h=>({...c,targetSnapshot:h}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ue.b)(D=>{if(i.targetSnapshot=D.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!D.extras.skipLocationChange){const A=this.urlHandlingStrategy.merge(D.urlAfterRedirects,D.rawUrl);this.setBrowserUrl(A,D)}this.browserUrlTree=D.urlAfterRedirects}const S=new iC(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);r.next(S)}));if(m&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:S,extractedUrl:A,source:R,restoredState:U,extras:K}=h,Ne=new hd(S,this.serializeUrl(A),R,U);r.next(Ne);const qe=n_(A,this.rootComponentType).snapshot;return at(i={...h,targetSnapshot:qe,urlAfterRedirects:A,extras:{...K,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=h.rawUrl,h.resolve(null),si.E}),(0,ue.b)(h=>{const g=new oC(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(g)}),(0,Qe.U)(h=>i={...h,guards:TC(h.targetSnapshot,h.currentSnapshot,this.rootContexts)}),function bO(n,e){return(0,w.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:c}}=t;return 0===c.length&&0===s.length?at({...t,guardsResult:!0}):function b1(n,e,t,r){return(0,fn.D)(n).pipe((0,w.z)(i=>function Gf(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?at(s.map(h=>{const g=zo(e)??i,m=al(h,g);return ws(function v1(n){return n&&ca(n.canDeactivate)}(m)?m.canDeactivate(n,e,t,r):g.runInContext(()=>m(n,e,t,r))).pipe($())})).pipe(Td()):at(!0)}(i.component,i.route,t,e,r)),$(i=>!0!==i,!0))}(c,r,i,n).pipe((0,w.z)(h=>h&&function Es(n){return"boolean"==typeof n}(h)?function CC(n,e,t,r){return(0,fn.D)(e).pipe(Z(i=>vs(function AC(n,e){return null!==n&&e&&e(new aC(n)),at(!0)}(i.route.parent,r),function SC(n,e){return null!==n&&e&&e(new c1(n)),at(!0)}(i.route,r),function w1(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(c=>function DC(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>Li(()=>at(c.guards.map(g=>{const m=zo(c.node)??t,v=al(g,m);return ws(function y1(n){return n&&ca(n.canActivateChild)}(v)?v.canActivateChild(r,n):m.runInContext(()=>v(r,n))).pipe($())})).pipe(Td())));return at(s).pipe(Td())}(n,i.path,t),function MC(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return at(!0);const i=r.map(s=>Li(()=>{const c=zo(e)??t,h=al(s,c);return ws(function _1(n){return n&&ca(n.canActivate)}(h)?h.canActivate(e,n):c.runInContext(()=>h(e,n))).pipe($())}));return at(i).pipe(Td())}(n,i.route,t))),$(i=>!0!==i,!0))}(r,s,n,e):at(h)),(0,Qe.U)(h=>({...t,guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,ue.b)(h=>{if(i.guardsResult=h.guardsResult,tl(h.guardsResult))throw Uf(0,h.guardsResult);const g=new sC(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(g)}),Cn(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,"",3),!1)),y_(h=>{if(h.guards.canActivateChecks.length)return at(h).pipe((0,ue.b)(g=>{const m=new l1(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(m)}),Dr(g=>{let m=!1;return at(g).pipe(function UC(n,e){return(0,w.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return at(t);let s=0;return(0,fn.D)(i).pipe(Z(c=>function N1(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!x1(i)&&(s[jr]=i.title),function du(n,e,t,r){const i=function HC(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return at({});const s={};return(0,fn.D)(i).pipe((0,w.z)(c=>function $C(n,e,t,r){const i=zo(e)??r,s=al(n,i);return ws(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[c],e,t,r).pipe($(),(0,ue.b)(h=>{s[c]=h}))),Ft(1),Wn(s),Ue(c=>wd(c)?si.E:el(c)))}(s,n,e,r).pipe((0,Qe.U)(c=>(n._resolvedData=c,n.data=r_(n,t).resolve,i&&x1(i)&&(n.data[jr]=i.title),null)))}(c.route,r,n,e)),(0,ue.b)(()=>s++),Ft(1),(0,w.z)(c=>s===i.length?at(t):si.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ue.b)({next:()=>m=!0,complete:()=>{m||(this.restoreHistory(g),this.cancelNavigationTransition(g,"",2))}}))}),(0,ue.b)(g=>{const m=new Jm(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(m)}))}),y_(h=>{const g=m=>{const v=[];m.routeConfig?.loadComponent&&!m.routeConfig._loadedComponent&&v.push(this.configLoader.loadComponent(m.routeConfig).pipe((0,ue.b)(D=>{m.component=D}),(0,Qe.U)(()=>{})));for(const D of m.children)v.push(...g(D));return v};return ia(g(h.targetSnapshot.root)).pipe(T(),Kt(1))}),y_(()=>this.afterPreactivation()),(0,Qe.U)(h=>{const g=function uC(n,e,t){const r=lu(n,e._root,t?t._root:void 0);return new t_(r,e)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return i={...h,targetRouterState:g}}),(0,ue.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,e,t)=>(0,Qe.U)(r=>(new wC(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,ue.b)({next(){s=!0},complete(){s=!0}}),sa(()=>{s||c||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Ue(h=>{if(c=!0,ua(h)){Hf(h)||(this.navigated=!0,this.restoreHistory(i,!0));const g=new Ff(i.id,this.serializeUrl(i.extractedUrl),h.message,h.cancellationCode);if(r.next(g),Hf(h)){const m=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),v={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Qf(i.source)};this.scheduleNavigation(m,"imperative",null,v,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const g=new a1(i.id,this.serializeUrl(i.extractedUrl),h,i.targetSnapshot??void 0);r.next(g);try{i.resolve(this.errorHandler(h))}catch(m){i.reject(m)}}return si.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},s=t.state?.navigationId?t.state:null;if(s){const h={...s};delete h.navigationId,delete h.\u0275routerPageId,0!==Object.keys(h).length&&(i.state=h)}const c=this.parseUrl(t.url);this.scheduleNavigation(c,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(l_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:c,queryParamsHandling:h,preserveFragment:g}=r,m=i||this.routerState.root,v=g?this.currentUrlTree.fragment:c;let D=null;switch(h){case"merge":D={...this.currentUrlTree.queryParams,...s};break;case"preserve":D=this.currentUrlTree.queryParams;break;default:D=s||null}return null!==D&&(D=this.removeEmptyProps(D)),tC(m,this.currentUrlTree,t,D,v??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=tl(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function YC(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new o.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...KC}:!1===r?{...P1}:r,tl(t))return GI(this.currentUrlTree,t,i);const s=this.parseUrl(t);return GI(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new il(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,c){if(this.disposed)return Promise.resolve(!1);let h,g,m;c?(h=c.resolve,g=c.reject,m=c.promise):m=new Promise((S,A)=>{h=S,g=A});const v=++this.navigationId;let D;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),D=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):D=0,this.setTransition({id:v,targetPageId:D,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:h,reject:g,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(S=>Promise.reject(S))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const s=new Ff(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(s),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:function(){return Jf()},providedIn:"root"}),n})();function Qf(n){return"imperative"!==n}let ga=(()=>{class n{constructor(t,r,i,s,c){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=c,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new wr.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,o.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,o.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,o.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(gn),o.Y36(Bi),o.$8M("tabindex"),o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&o.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[o.TTD]}),n})();class L1{}let XC=(()=>{class n{constructor(t,r,i,s,c){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(Cn(t=>t instanceof il),Z(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=(0,o.MMx)(s.providers,t,`Route: ${s.path}`));const c=s._injector??t,h=s._loadedInjector??c;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(c,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(h,s.children??s._loadedRoutes))}return(0,fn.D)(i).pipe((0,Jl.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):at(null);const s=i.pipe((0,w.z)(c=>null===c?at(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(r.loadComponent&&!r._loadedComponent){const c=this.loader.loadComponent(r);return(0,fn.D)([s,c]).pipe((0,Jl.J)())}return s})}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(gn),o.LFG(o.Sil),o.LFG(o.lqb),o.LFG(L1),o.LFG(cl))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ma=new o.OlP("");let Wo=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof hd?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof il&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof la&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new la(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function Cd(n,e){return{\u0275kind:n,\u0275providers:e}}function ep(n){return[{provide:pa,multi:!0,useValue:n}]}function b_(){const n=(0,o.f3M)(o.zs3);return e=>{const t=n.get(o.z2F);if(e!==t.components[0])return;const r=n.get(gn),i=n.get(tS);1===n.get(tp)&&r.initialNavigation(),n.get(V1,null,o.XFs.Optional)?.setUpPreloading(),n.get(ma,null,o.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const tS=new o.OlP("",{factory:()=>new wr.x}),tp=new o.OlP("",{providedIn:"root",factory:()=>1});const V1=new o.OlP("");function To(n){return Cd(0,[{provide:V1,useExisting:XC},{provide:L1,useExisting:n}])}const U1=new o.OlP("ROUTER_FORROOT_GUARD"),iS=[Ce,{provide:qm,useClass:sd},{provide:gn,useFactory:Jf},md,{provide:Bi,useFactory:function eS(n){return n.routerState.root},deps:[gn]},cl];function oS(){return new o.PXZ("Router",gn)}let np=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[iS,[],ep(t),{provide:U1,useFactory:Mt,deps:[[gn,new o.FiY,new o.tp0]]},{provide:fa,useValue:r||{}},r?.useHash?{provide:de,useClass:ct}:{provide:de,useClass:We},{provide:ma,useFactory:()=>{const n=(0,o.f3M)(gn),e=(0,o.f3M)(Sm),t=(0,o.f3M)(fa);return t.scrollOffset&&e.setOffset(t.scrollOffset),new Wo(n,e,t)}},r?.preloadingStrategy?To(r.preloadingStrategy).\u0275providers:[],{provide:o.PXZ,multi:!0,useFactory:oS},r?.initialNavigation?H1(r):[],[{provide:w_,useFactory:b_},{provide:o.tb,multi:!0,useExisting:w_}]]}}static forChild(t){return{ngModule:n,providers:[ep(t)]}}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(U1,8))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[$f]}),n})();function Mt(n){return"guarded"}function H1(n){return["disabled"===n.initialNavigation?Cd(3,[{provide:o.ip1,multi:!0,useFactory:()=>{const e=(0,o.f3M)(gn);return()=>{e.setUpLocationChangeListener()}}},{provide:tp,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Cd(2,[{provide:tp,useValue:0},{provide:o.ip1,multi:!0,deps:[o.zs3],useFactory:e=>{const t=e.get(P,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(s=>{const c=e.get(gn),h=e.get(tS);(function i(s){e.get(gn).events.pipe(Cn(h=>h instanceof il||h instanceof Ff||h instanceof a1),(0,Qe.U)(h=>h instanceof il||h instanceof Ff&&(0===h.code||1===h.code)&&null),Cn(h=>null!==h),Kt(1)).subscribe(()=>{s()})})(()=>{s(!0),r=!0}),c.afterPreactivation=()=>(s(!0),r||h.closed?at(void 0):h),c.initialNavigation()}))}}]).\u0275providers:[]]}const w_=new o.OlP("");class j1{}const Is="*";function Cs(n,e){return{type:7,name:n,definitions:e,options:{}}}function Vi(n,e=null){return{type:4,styles:e,timings:n}}function uS(n,e=null){return{type:2,steps:n,options:e}}function Ut(n){return{type:6,styles:n,offset:null}}function Ad(n,e,t){return{type:0,name:n,styles:e,options:t}}function Do(n){return{type:5,steps:n}}function ro(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function cS(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function dS(n,e){return{type:12,timings:n,animation:e}}function hS(n){Promise.resolve().then(n)}class Md{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){hS(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class T_{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?hS(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==s&&this._onFinish()}),c.onDestroy(()=>{++r==s&&this._onDestroy()}),c.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((c,h)=>Math.max(c,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function dl(n){return new o.vHH(3e3,!1)}function A_(){return typeof window<"u"&&typeof window.document<"u"}function Nd(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Zo(n){switch(n.length){case 0:return new Md;case 1:return n[0];default:return new T_(n)}}function ES(n,e,t,r,i=new Map,s=new Map){const c=[],h=[];let g=-1,m=null;if(r.forEach(v=>{const D=v.get("offset"),S=D==g,A=S&&m||new Map;v.forEach((R,U)=>{let K=U,Ne=R;if("offset"!==U)switch(K=e.normalizePropertyName(K,c),Ne){case"!":Ne=i.get(U);break;case Is:Ne=s.get(U);break;default:Ne=e.normalizeStyleValue(U,K,Ne,c)}A.set(K,Ne)}),S||h.push(A),m=A,g=D}),c.length)throw function Eo(n){return new o.vHH(3502,!1)}();return h}function M_(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&N_(t,"start",n)));break;case"done":n.onDone(()=>r(t&&N_(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&N_(t,"destroy",n)))}}function N_(n,e,t){const s=x_(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),c=n._data;return null!=c&&(s._data=c),s}function x_(n,e,t,r,i="",s=0,c){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!c}}function Ui(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function k_(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let rw=(n,e)=>!1,iw=(n,e,t)=>[],IS=null;function ap(n){const e=n.parentNode||n.host;return e===IS?null:e}(Nd()||typeof Element<"u")&&(A_()?(IS=(()=>document.documentElement)(),rw=(n,e)=>{for(;e;){if(e===n)return!0;e=ap(e)}return!1}):rw=(n,e)=>n.contains(e),iw=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let As=null,AS=!1;const MS=rw,NS=iw;let xS=(()=>{class n{validateStyleProperty(t){return function PO(n){As||(As=function FO(){return typeof document<"u"?document.body:null}()||{},AS=!!As.style&&"WebkitAppearance"in As.style);let e=!0;return As.style&&!function SS(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in As.style,!e&&AS&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in As.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return MS(t,r)}getParentElement(t){return ap(t)}query(t,r,i){return NS(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,c,h=[],g){return new Md(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),ow=(()=>{class n{}return n.NOOP=new xS,n})();const O_="ng-enter",xd="ng-leave",fu="ng-trigger",kd=".ng-trigger",lp="ng-animating",P_=".ng-animating";function Gr(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:up(parseFloat(e[1]),e[2])}function up(n,e){return"s"===e?1e3*n:n}function cp(n,e,t){return n.hasOwnProperty("duration")?n:function kS(n,e,t){let i,s=0,c="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(dl()),{duration:0,delay:0,easing:""};i=up(parseFloat(h[1]),h[2]);const g=h[3];null!=g&&(s=up(parseFloat(g),h[4]));const m=h[5];m&&(c=m)}else i=n;if(!t){let h=!1,g=e.length;i<0&&(e.push(function fS(){return new o.vHH(3100,!1)}()),h=!0),s<0&&(e.push(function Z1(){return new o.vHH(3101,!1)}()),h=!0),h&&e.splice(g,0,dl())}return{duration:i,delay:s,easing:c}}(n,e,t)}function pu(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function sw(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Hi(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function dp(n,e,t){return t?e+":"+t+";":""}function hl(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=dp(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=dp(0,PS(t),n.style[t]));n.setAttribute("style",e)}function io(n,e,t){n.style&&(e.forEach((r,i)=>{const s=lw(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r}),Nd()&&hl(n))}function Ko(n,e){n.style&&(e.forEach((t,r)=>{const i=lw(r);n.style[i]=""}),Nd()&&hl(n))}function gu(n){return Array.isArray(n)?1==n.length?n[0]:uS(n):n}const Od=new RegExp("{{\\s*(.+?)\\s*}}","g");function hp(n){let e=[];if("string"==typeof n){let t;for(;t=Od.exec(n);)e.push(t[1]);Od.lastIndex=0}return e}function mu(n,e,t){const r=n.toString(),i=r.replace(Od,(s,c)=>{let h=e[c];return null==h&&(t.push(function pS(n){return new o.vHH(3003,!1)}()),h=""),h.toString()});return i==r?n:i}function _u(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const OS=/-+([a-z0-9])/g;function lw(n){return n.replace(OS,(...e)=>e[1].toUpperCase())}function PS(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ci(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function K1(n){return new o.vHH(3004,!1)}()}}function F_(n,e){return window.getComputedStyle(n)[e]}function BS(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function VS(n,e,t){if(":"==n[0]){const g=function US(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function hu(n){return new o.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof g)return void e.push(g);n=g}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function RO(n){return new o.vHH(3015,!1)}()),e;const i=r[1],s=r[2],c=r[3];e.push(L_(i,c));"<"==s[0]&&!("*"==i&&"*"==c)&&e.push(L_(c,i))}(r,t,e)):t.push(n),t}const Fd=new Set(["true","1"]),pp=new Set(["false","0"]);function L_(n,e){const t=Fd.has(n)||pp.has(n),r=Fd.has(e)||pp.has(e);return(i,s)=>{let c="*"==n||n==i,h="*"==e||e==s;return!c&&t&&"boolean"==typeof i&&(c=i?Fd.has(n):pp.has(n)),!h&&r&&"boolean"==typeof s&&(h=s?Fd.has(e):pp.has(e)),c&&h}}const HS=new RegExp("s*:selfs*,?","g");function gp(n,e,t,r){return new $S(n).build(e,t,r)}class $S{constructor(e){this._driver=e}build(e,t,r){const i=new jS(t);return this._resetContextStyleTimingState(i),Ci(this,gu(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function mS(){return new o.vHH(3006,!1)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const g=h,m=g.name;m.toString().split(/\s*,\s*/).forEach(v=>{g.name=v,s.push(this.visitState(g,t))}),g.name=m}else if(1==h.type){const g=this.visitTransition(h,t);r+=g.queryCount,i+=g.depCount,c.push(g)}else t.errors.push(function _S(){return new o.vHH(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:c,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,c=i||{};r.styles.forEach(h=>{h instanceof Map&&h.forEach(g=>{hp(g).forEach(m=>{c.hasOwnProperty(m)||s.add(m)})})}),s.size&&(_u(s.values()),t.errors.push(function yS(n,e){return new o.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Ci(this,gu(e.animation),t);return{type:1,matchers:BS(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:_a(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Ci(this,r,t)),options:_a(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(c=>{t.currentTime=r;const h=Ci(this,c,t);return i=Math.max(i,t.currentTime),h});return t.currentTime=i,{type:3,steps:s,options:_a(e.options)}}visitAnimate(e,t){const r=function UO(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return U_(cp(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=U_(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=cp(t,e);return U_(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:Ut({});if(5==s.type)i=this.visitKeyframes(s,t);else{let c=e.styles,h=!1;if(!c){h=!0;const m={};r.easing&&(m.easing=r.easing),c=Ut(m)}t.currentTime+=r.duration+r.delay;const g=this.visitStyle(c,t);g.isEmptyStep=h,i=g}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let h of i)"string"==typeof h?h===Is?r.push(h):t.errors.push(new o.vHH(3002,!1)):r.push(sw(h));let s=!1,c=null;return r.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(c=h.get("easing"),h.delete("easing")),!s))for(let g of h.values())if(g.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:c,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(c=>{"string"!=typeof c&&c.forEach((h,g)=>{const m=t.collectedStyles.get(t.currentQuerySelector),v=m.get(g);let D=!0;v&&(s!=i&&s>=v.startTime&&i<=v.endTime&&(t.errors.push(function wS(n,e,t,r,i){return new o.vHH(3010,!1)}()),D=!1),s=v.startTime),D&&m.set(g,{startTime:s,endTime:i}),t.options&&function aw(n,e,t){const r=e.params||{},i=hp(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function rp(n){return new o.vHH(3001,!1)}())})}(h,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Y1(){return new o.vHH(3011,!1)}()),r;let s=0;const c=[];let h=!1,g=!1,m=0;const v=e.steps.map(Ne=>{const qe=this._makeStyleAst(Ne,t);let Pe=null!=qe.offset?qe.offset:function GS(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(qe.styles),nt=0;return null!=Pe&&(s++,nt=qe.offset=Pe),g=g||nt<0||nt>1,h=h||nt<m,m=nt,c.push(nt),qe});g&&t.errors.push(function J1(){return new o.vHH(3012,!1)}()),h&&t.errors.push(function D_(){return new o.vHH(3200,!1)}());const D=e.steps.length;let S=0;s>0&&s<D?t.errors.push(function kO(){return new o.vHH(3202,!1)}()):0==s&&(S=1/(D-1));const A=D-1,R=t.currentTime,U=t.currentAnimateTimings,K=U.duration;return v.forEach((Ne,qe)=>{const Pe=S>0?qe==A?1:S*qe:c[qe],nt=Pe*K;t.currentTime=R+U.delay+nt,U.duration=nt,this._validateStyleAst(Ne,t),Ne.offset=Pe,r.styles.push(Ne)}),r}visitReference(e,t){return{type:8,animation:Ci(this,gu(e.animation),t),options:_a(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:_a(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:_a(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,c]=function Yo(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(HS,"")),n=n.replace(/@\*/g,kd).replace(/@\w+/g,t=>kd+"-"+t.slice(1)).replace(/:animating/g,P_),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,Ui(t.collectedStyles,t.currentQuerySelector,new Map);const h=Ci(this,gu(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:c,animation:h,originalSelector:e.selector,options:_a(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function E_(){return new o.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:cp(e.timings,t.errors,!0);return{type:12,animation:Ci(this,gu(e.animation),t),timings:r,options:null}}}class jS{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function _a(n){return n?(n=pu(n)).params&&(n.params=function V_(n){return n?pu(n):null}(n.params)):n={},n}function U_(n,e,t){return{duration:n,delay:e,easing:t}}function H_(n,e,t,r,i,s,c=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:c,subTimeline:h}}class mp{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const zS=new RegExp(":enter","g"),j_=new RegExp(":leave","g");function yu(n,e,t,r,i,s=new Map,c=new Map,h,g,m=[]){return(new HO).buildKeyframes(n,e,t,r,i,s,c,h,g,m)}class HO{buildKeyframes(e,t,r,i,s,c,h,g,m,v=[]){m=m||new mp;const D=new fw(e,t,m,i,s,v,[]);D.options=g;const S=g.delay?Gr(g.delay):0;D.currentTimeline.delayNextStep(S),D.currentTimeline.setStyles([c],null,D.errors,g),Ci(this,r,D);const A=D.timelines.filter(R=>R.containsAnimation());if(A.length&&h.size){let R;for(let U=A.length-1;U>=0;U--){const K=A[U];if(K.element===t){R=K;break}}R&&!R.allowOnlyTimelineStyles()&&R.setStyles([h],null,D.errors,g)}return A.length?A.map(R=>R.buildKeyframes()):[H_(t,[],[],[],0,S,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,c=this._visitSubInstructions(r,i,i.options);s!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const c="number"==typeof s?s:Gr(mu(s,i?.params??{},t.errors));r.delayNextStep(c)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const c=null!=r.duration?Gr(r.duration):null,h=null!=r.delay?Gr(r.delay):null;return 0!==c&&e.forEach(g=>{const m=t.appendInstructionToTimeline(g,c,h);s=Math.max(s,m.duration+m.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Ci(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=vu);const c=Gr(s.delay);i.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>Ci(this,c,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Gr(e.options.delay):0;e.steps.forEach(c=>{const h=t.createSubContext(e.options);s&&h.delayNextStep(s),Ci(this,c,h),i=Math.max(i,h.currentTimeline.currentTime),r.push(h.currentTimeline)}),r.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return cp(t.params?mu(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,h=t.createSubContext().currentTimeline;h.easing=r.easing,e.styles.forEach(g=>{h.forwardTime((g.offset||0)*s),h.setStyles(g.styles,g.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?Gr(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=vu);let c=r;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=h.length;let g=null;h.forEach((m,v)=>{t.currentQueryIndex=v;const D=t.createSubContext(e.options,m);s&&D.delayNextStep(s),m===t.element&&(g=D.currentTimeline),Ci(this,e.animation,D),D.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,D.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),g&&(t.currentTimeline.mergeTimelineCollectedStyles(g),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,c=Math.abs(s.duration),h=c*(t.currentQueryTotal-1);let g=c*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":g=h-g;break;case"full":g=r.currentStaggerTime}const v=t.currentTimeline;g&&v.delayNextStep(g);const D=v.currentTime;Ci(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-D+(i.startTime-r.currentTimeline.startTime)}}const vu={};class fw{constructor(e,t,r,i,s,c,h,g){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=c,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=vu,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=g||new Ld(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Gr(r.duration)),null!=r.delay&&(i.delay=Gr(r.delay));const s=r.params;if(s){let c=i.params;c||(c=this.options.params={}),Object.keys(s).forEach(h=>{(!t||!c.hasOwnProperty(h))&&(c[h]=mu(s[h],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new fw(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=vu,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new pw(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,c){let h=[];if(i&&h.push(this.element),e.length>0){e=(e=e.replace(zS,"."+this._enterClassName)).replace(j_,"."+this._leaveClassName);let m=this._driver.query(this.element,e,1!=r);0!==r&&(m=r<0?m.slice(m.length+r,m.length):m.slice(0,r)),h.push(...m)}return!s&&0==h.length&&c.push(function TS(n){return new o.vHH(3014,!1)}()),h}}class Ld{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Ld(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Is),this._currentKeyframe.set(t,Is);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},c=function gw(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,Is)}else Hi(i,t)}),t}(e,this._globalTimelineStyles);for(let[h,g]of c){const m=mu(g,s,r);this._pendingStyles.set(h,m),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??Is),this._updateStyle(h,m)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((h,g)=>{const m=Hi(h,new Map,this._backFill);m.forEach((v,D)=>{"!"===v?e.add(D):v===Is&&t.add(D)}),r||m.set("offset",g/this.duration),i.push(m)});const s=e.size?_u(e.values()):[],c=t.size?_u(t.values()):[];if(r){const h=i[0],g=new Map(h);h.set("offset",0),g.set("offset",1),i=[h,g]}return H_(this.element,i,s,c,this.duration,this.startTime,this.easing,!1)}}class pw extends Ld{constructor(e,t,r,i,s,c,h=!1){super(e,t,c.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=h,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],c=r+t,h=t/c,g=Hi(e[0]);g.set("offset",0),s.push(g);const m=Hi(e[0]);m.set("offset",G_(h)),s.push(m);const v=e.length-1;for(let D=1;D<=v;D++){let S=Hi(e[D]);const A=S.get("offset");S.set("offset",G_((t+A*r)/c)),s.push(S)}r=c,t=0,i="",e=s}return H_(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function G_(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Io{}const yp=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Bd extends Io{normalizePropertyName(e,t){return lw(e)}normalizeStyleValue(e,t,r,i){let s="";const c=r.toString().trim();if(yp.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const h=r.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&i.push(function gS(n,e){return new o.vHH(3005,!1)}())}return c+s}}function _w(n,e,t,r,i,s,c,h,g,m,v,D,S){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:c,timelines:h,queriedElements:g,preStyleProps:m,postStyleProps:v,totalTime:D,errors:S}}const Vd={};class z_{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function WS(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,c,h,g,m,v){const D=[],S=this.ast.options&&this.ast.options.params||Vd,R=this.buildStyles(r,h&&h.params||Vd,D),U=g&&g.params||Vd,K=this.buildStyles(i,U,D),Ne=new Set,qe=new Map,Pe=new Map,nt="void"===i,Dt={params:Ud(U,S),delay:this.ast.options?.delay},rt=v?[]:yu(e,t,this.ast.animation,s,c,R,K,Dt,m,D);let Ht=0;if(rt.forEach(wi=>{Ht=Math.max(wi.duration+wi.delay,Ht)}),D.length)return _w(t,this._triggerName,r,i,nt,R,K,[],[],qe,Pe,Ht,D);rt.forEach(wi=>{const Bs=wi.element,TH=Ui(qe,Bs,new Set);wi.preStyleProps.forEach(Zh=>TH.add(Zh));const bb=Ui(Pe,Bs,new Set);wi.postStyleProps.forEach(Zh=>bb.add(Zh)),Bs!==t&&Ne.add(Bs)});const An=_u(Ne.values());return _w(t,this._triggerName,r,i,nt,R,K,rt,An,qe,Pe,Ht)}}function Ud(n,e){const t=pu(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class ZS{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=pu(this.defaultParams);return Object.keys(e).forEach(s=>{const c=e[s];null!==c&&(i[s]=c)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((c,h)=>{c&&(c=mu(c,i,t));const g=this.normalizer.normalizePropertyName(h,t);c=this.normalizer.normalizeStyleValue(h,g,c,t),r.set(g,c)})}),r}}class KS{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new ZS(i.style,i.options&&i.options.params||{},r))}),yw(this.states,"true","1"),yw(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new z_(e,i,this.states))}),this.fallbackTransition=function GO(n,e,t){return new z_(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(c=>c.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function yw(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const YS=new mp;class JS{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],s=gp(this._driver,t,r,[]);if(r.length)throw function ew(n){return new o.vHH(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=ES(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let c;const h=new Map;if(s?(c=yu(this._driver,t,s,O_,xd,new Map,new Map,r,YS,i),c.forEach(v=>{const D=Ui(h,v.element,new Map);v.postStyleProps.forEach(S=>D.set(S,null))})):(i.push(function DS(){return new o.vHH(3300,!1)}()),c=[]),i.length)throw function I_(n){return new o.vHH(3504,!1)}();h.forEach((v,D)=>{v.forEach((S,A)=>{v.set(A,this._driver.computeStyle(D,A,Is))})});const m=Zo(c.map(v=>{const D=h.get(v.element);return this._buildPlayer(v,new Map,D)}));return this._playersById.set(e,m),m.onDestroy(()=>this.destroy(e)),this.players.push(m),m}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Ss(n){return new o.vHH(3301,!1)}();return t}listen(e,t,r,i){const s=x_(t,"","","");return M_(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const W_="ng-animate-queued",K_="ng-animate-disabled",eA=[],vw={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},tA={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},oo="__ng_removed";class bu{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function rA(n){return n??null}(r?e.value:e),r){const s=pu(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Co="void",bw=new bu(Co);class Hd{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,kn(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function C_(n,e){return new o.vHH(3302,!1)}();if(null==r||0==r.length)throw function tw(n){return new o.vHH(3303,!1)}();if(!function $d(n){return"start"==n||"done"==n}(r))throw function S_(n,e){return new o.vHH(3400,!1)}();const s=Ui(this._elementListeners,e,[]),c={name:t,phase:r,callback:i};s.push(c);const h=Ui(this._engine.statesByElement,e,new Map);return h.has(t)||(kn(e,fu),kn(e,fu+"-"+t),h.set(t,bw)),()=>{this._engine.afterFlush(()=>{const g=s.indexOf(c);g>=0&&s.splice(g,1),this._triggers.has(t)||h.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function OO(n){return new o.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),c=new J_(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(kn(e,fu),kn(e,fu+"-"+t),this._engine.statesByElement.set(e,h=new Map));let g=h.get(t);const m=new bu(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&g&&m.absorbOptions(g.options),h.set(t,m),g||(g=bw),m.value!==Co&&g.value===m.value){if(!function Du(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(g.params,m.params)){const U=[],K=s.matchStyles(g.value,g.params,U),Ne=s.matchStyles(m.value,m.params,U);U.length?this._engine.reportError(U):this._engine.afterFlush(()=>{Ko(e,K),io(e,Ne)})}return}const S=Ui(this._engine.playersByElement,e,[]);S.forEach(U=>{U.namespaceId==this.id&&U.triggerName==t&&U.queued&&U.destroy()});let A=s.matchTransition(g.value,m.value,e,m.params),R=!1;if(!A){if(!i)return;A=s.fallbackTransition,R=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:A,fromState:g,toState:m,player:c,isFallbackTransition:R}),R||(kn(e,W_),c.onStart(()=>{va(e,W_)})),c.onDone(()=>{let U=this.players.indexOf(c);U>=0&&this.players.splice(U,1);const K=this._engine.playersByElement.get(e);if(K){let Ne=K.indexOf(c);Ne>=0&&K.splice(Ne,1)}}),this.players.push(c),S.push(c),c}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,kd,!0);r.forEach(i=>{if(i[oo])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(c=>c.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),c=new Map;if(s){const h=[];if(s.forEach((g,m)=>{if(c.set(m,g.value),this._triggers.has(m)){const v=this.trigger(e,m,Co,i);v&&h.push(v)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),r&&Zo(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const c=s.name;if(i.has(c))return;i.add(c);const g=this._triggers.get(c).fallbackTransition,m=r.get(c)||bw,v=new bu(Co),D=new J_(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:g,fromState:m,toState:v,player:D,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let c=e;for(;c=c.parentNode;)if(r.statesByElement.get(c)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[oo];(!s||s===vw)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){kn(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,c=this._elementListeners.get(s);c&&c.forEach(h=>{if(h.name==r.triggerName){const g=x_(s,r.triggerName,r.fromState.value,r.toState.value);g._data=e,M_(r.player,h.phase,g,h.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,c=i.transition.ast.depCount;return 0==s||0==c?s-c:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class nA{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new Hd(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let c=!1,h=this.driver.getParentElement(t);for(;h;){const g=i.get(h);if(g){const m=r.indexOf(g);r.splice(m+1,0,e),c=!0;break}h=this.driver.getParentElement(h)}c||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if($i(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!$i(t))return;const s=t[oo];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),kn(e,K_)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),va(e,K_))}removeNode(e,t,r,i){if($i(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[oo]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return $i(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,kd,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,P_,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Zo(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[oo];if(t&&t.setForRemoval){if(e[oo]=vw,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(K_)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)kn(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Zo(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function nw(n){return new o.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new mp,i=[],s=new Map,c=[],h=new Map,g=new Map,m=new Map,v=new Set;this.disabledNodes.forEach(ot=>{v.add(ot);const bt=this.driver.query(ot,".ng-animate-queued",!0);for(let Ct=0;Ct<bt.length;Ct++)v.add(bt[Ct])});const D=this.bodyNode,S=Array.from(this.statesByElement.keys()),A=jd(S,this.collectedEnterElements),R=new Map;let U=0;A.forEach((ot,bt)=>{const Ct=O_+U++;R.set(bt,Ct),ot.forEach(an=>kn(an,Ct))});const K=[],Ne=new Set,qe=new Set;for(let ot=0;ot<this.collectedLeaveElements.length;ot++){const bt=this.collectedLeaveElements[ot],Ct=bt[oo];Ct&&Ct.setForRemoval&&(K.push(bt),Ne.add(bt),Ct.hasAnimation?this.driver.query(bt,".ng-star-inserted",!0).forEach(an=>Ne.add(an)):qe.add(bt))}const Pe=new Map,nt=jd(S,Array.from(Ne));nt.forEach((ot,bt)=>{const Ct=xd+U++;Pe.set(bt,Ct),ot.forEach(an=>kn(an,Ct))}),e.push(()=>{A.forEach((ot,bt)=>{const Ct=R.get(bt);ot.forEach(an=>va(an,Ct))}),nt.forEach((ot,bt)=>{const Ct=Pe.get(bt);ot.forEach(an=>va(an,Ct))}),K.forEach(ot=>{this.processLeaveNode(ot)})});const Dt=[],rt=[];for(let ot=this._namespaceList.length-1;ot>=0;ot--)this._namespaceList[ot].drainQueuedTransitions(t).forEach(Ct=>{const an=Ct.player,Xr=Ct.element;if(Dt.push(an),this.collectedEnterElements.length){const xi=Xr[oo];if(xi&&xi.setForMove){if(xi.previousTriggersValues&&xi.previousTriggersValues.has(Ct.triggerName)){const Kh=xi.previousTriggersValues.get(Ct.triggerName),ss=this.statesByElement.get(Ct.element);if(ss&&ss.has(Ct.triggerName)){const LI=ss.get(Ct.triggerName);LI.value=Kh,ss.set(Ct.triggerName,LI)}}return void an.destroy()}}const Ba=!D||!this.driver.containsElement(D,Xr),Po=Pe.get(Xr),vc=R.get(Xr),Qn=this._buildInstruction(Ct,r,vc,Po,Ba);if(Qn.errors&&Qn.errors.length)return void rt.push(Qn);if(Ba)return an.onStart(()=>Ko(Xr,Qn.fromStyles)),an.onDestroy(()=>io(Xr,Qn.toStyles)),void i.push(an);if(Ct.isFallbackTransition)return an.onStart(()=>Ko(Xr,Qn.fromStyles)),an.onDestroy(()=>io(Xr,Qn.toStyles)),void i.push(an);const IH=[];Qn.timelines.forEach(xi=>{xi.stretchStartingKeyframe=!0,this.disabledNodes.has(xi.element)||IH.push(xi)}),Qn.timelines=IH,r.append(Xr,Qn.timelines),c.push({instruction:Qn,player:an,element:Xr}),Qn.queriedElements.forEach(xi=>Ui(h,xi,[]).push(an)),Qn.preStyleProps.forEach((xi,Kh)=>{if(xi.size){let ss=g.get(Kh);ss||g.set(Kh,ss=new Set),xi.forEach((LI,pO)=>ss.add(pO))}}),Qn.postStyleProps.forEach((xi,Kh)=>{let ss=m.get(Kh);ss||m.set(Kh,ss=new Set),xi.forEach((LI,pO)=>ss.add(pO))})});if(rt.length){const ot=[];rt.forEach(bt=>{ot.push(function op(n,e){return new o.vHH(3505,!1)}())}),Dt.forEach(bt=>bt.destroy()),this.reportError(ot)}const Ht=new Map,An=new Map;c.forEach(ot=>{const bt=ot.element;r.has(bt)&&(An.set(bt,bt),this._beforeAnimationBuild(ot.player.namespaceId,ot.instruction,Ht))}),i.forEach(ot=>{const bt=ot.element;this._getPreviousPlayers(bt,!1,ot.namespaceId,ot.triggerName,null).forEach(an=>{Ui(Ht,bt,[]).push(an),an.destroy()})});const wi=K.filter(ot=>pl(ot,g,m)),Bs=new Map;ya(Bs,this.driver,qe,m,Is).forEach(ot=>{pl(ot,g,m)&&wi.push(ot)});const bb=new Map;A.forEach((ot,bt)=>{ya(bb,this.driver,new Set(ot),g,"!")}),wi.forEach(ot=>{const bt=Bs.get(ot),Ct=bb.get(ot);Bs.set(ot,new Map([...Array.from(bt?.entries()??[]),...Array.from(Ct?.entries()??[])]))});const Zh=[],DH=[],EH={};c.forEach(ot=>{const{element:bt,player:Ct,instruction:an}=ot;if(r.has(bt)){if(v.has(bt))return Ct.onDestroy(()=>io(bt,an.toStyles)),Ct.disabled=!0,Ct.overrideTotalTime(an.totalTime),void i.push(Ct);let Xr=EH;if(An.size>1){let Po=bt;const vc=[];for(;Po=Po.parentNode;){const Qn=An.get(Po);if(Qn){Xr=Qn;break}vc.push(Po)}vc.forEach(Qn=>An.set(Qn,Xr))}const Ba=this._buildAnimation(Ct.namespaceId,an,Ht,s,bb,Bs);if(Ct.setRealPlayer(Ba),Xr===EH)Zh.push(Ct);else{const Po=this.playersByElement.get(Xr);Po&&Po.length&&(Ct.parentPlayer=Zo(Po)),i.push(Ct)}}else Ko(bt,an.fromStyles),Ct.onDestroy(()=>io(bt,an.toStyles)),DH.push(Ct),v.has(bt)&&i.push(Ct)}),DH.forEach(ot=>{const bt=s.get(ot.element);if(bt&&bt.length){const Ct=Zo(bt);ot.setRealPlayer(Ct)}}),i.forEach(ot=>{ot.parentPlayer?ot.syncPlayerEvents(ot.parentPlayer):ot.destroy()});for(let ot=0;ot<K.length;ot++){const bt=K[ot],Ct=bt[oo];if(va(bt,xd),Ct&&Ct.hasAnimation)continue;let an=[];if(h.size){let Ba=h.get(bt);Ba&&Ba.length&&an.push(...Ba);let Po=this.driver.query(bt,P_,!0);for(let vc=0;vc<Po.length;vc++){let Qn=h.get(Po[vc]);Qn&&Qn.length&&an.push(...Qn)}}const Xr=an.filter(Ba=>!Ba.destroyed);Xr.length?wu(this,bt,Xr):this.processLeaveNode(bt)}return K.length=0,Zh.forEach(ot=>{this.players.push(ot),ot.onDone(()=>{ot.destroy();const bt=this.players.indexOf(ot);this.players.splice(bt,1)}),ot.play()}),Zh}elementContainsData(e,t){let r=!1;const i=t[oo];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let c=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(c=h)}else{const h=this.playersByElement.get(e);if(h){const g=!s||s==Co;h.forEach(m=>{m.queued||!g&&m.triggerName!=i||c.push(m)})}}return(r||i)&&(c=c.filter(h=>!(r&&r!=h.namespaceId||i&&i!=h.triggerName))),c}_beforeAnimationBuild(e,t,r){const s=t.element,c=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const g of t.timelines){const m=g.element,v=m!==s,D=Ui(r,m,[]);this._getPreviousPlayers(m,v,c,h,t.toState).forEach(A=>{const R=A.getRealPlayer();R.beforeDestroy&&R.beforeDestroy(),A.destroy(),D.push(A)})}Ko(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,c){const h=t.triggerName,g=t.element,m=[],v=new Set,D=new Set,S=t.timelines.map(R=>{const U=R.element;v.add(U);const K=U[oo];if(K&&K.removedBeforeQueried)return new Md(R.duration,R.delay);const Ne=U!==g,qe=function Tu(n){const e=[];return fl(n,e),e}((r.get(U)||eA).map(Ht=>Ht.getRealPlayer())).filter(Ht=>!!Ht.element&&Ht.element===U),Pe=s.get(U),nt=c.get(U),Dt=ES(0,this._normalizer,0,R.keyframes,Pe,nt),rt=this._buildPlayer(R,Dt,qe);if(R.subTimeline&&i&&D.add(U),Ne){const Ht=new J_(e,h,U);Ht.setRealPlayer(rt),m.push(Ht)}return rt});m.forEach(R=>{Ui(this.playersByQueriedElement,R.element,[]).push(R),R.onDone(()=>function Q_(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,R.element,R))}),v.forEach(R=>kn(R,lp));const A=Zo(S);return A.onDestroy(()=>{v.forEach(R=>va(R,lp)),io(g,t.toStyles)}),D.forEach(R=>{Ui(i,R,[]).push(A)}),A}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Md(e.duration,e.delay)}}class J_{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Md,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>M_(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ui(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function $i(n){return n&&1===n.nodeType}function Pr(n,e){const t=n.style.display;return n.style.display=e??"none",t}function ya(n,e,t,r,i){const s=[];t.forEach(g=>s.push(Pr(g)));const c=[];r.forEach((g,m)=>{const v=new Map;g.forEach(D=>{const S=e.computeStyle(m,D,i);v.set(D,S),(!S||0==S.length)&&(m[oo]=tA,c.push(m))}),n.set(m,v)});let h=0;return t.forEach(g=>Pr(g,s[h++])),c}function jd(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const i=new Set(e),s=new Map;function c(h){if(!h)return 1;let g=s.get(h);if(g)return g;const m=h.parentNode;return g=t.has(m)?m:i.has(m)?1:c(m),s.set(h,g),g}return e.forEach(h=>{const g=c(h);1!==g&&t.get(g).push(h)}),t}function kn(n,e){n.classList?.add(e)}function va(n,e){n.classList?.remove(e)}function wu(n,e,t){Zo(t).onDone(()=>n.processLeaveNode(e))}function fl(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof T_?fl(r.players,e):e.push(r)}}function pl(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class Ns{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new nA(e,t,r),this._timelineEngine=new JS(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const c=e+"-"+i;let h=this._triggerCache[c];if(!h){const g=[],v=gp(this._driver,s,g,[]);if(g.length)throw function ip(n,e){return new o.vHH(3404,!1)}();h=function jO(n,e,t){return new KS(n,e,t)}(i,v,this._normalizer),this._triggerCache[c]=h}this._transitionEngine.registerTrigger(t,i,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,c]=k_(r);this._timelineEngine.command(s,t,c,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[c,h]=k_(r);return this._timelineEngine.listen(c,t,h,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Iu=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&io(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(io(this._element,this._initialStyles),this._endStyles&&(io(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ko(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ko(this._element,this._endStyles),this._endStyles=null),io(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function ba(n){let e=null;return n.forEach((t,r)=>{(function ww(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class X_{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:F_(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Tw{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return MS(e,t)}getParentElement(e){return ap(e)}query(e,t,r){return NS(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,c=[]){const g={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(g.easing=s);const m=new Map,v=c.filter(A=>A instanceof X_);(function uw(n,e){return 0===n||0===e})(r,i)&&v.forEach(A=>{A.currentSnapshot.forEach((R,U)=>m.set(U,R))});let D=function RS(n){return n.length?n[0]instanceof Map?n:n.map(e=>sw(e)):[]}(t).map(A=>Hi(A));D=function FS(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,c)=>{r.has(c)||i.push(c),r.set(c,s)}),i.length)for(let s=1;s<e.length;s++){let c=e[s];i.forEach(h=>c.set(h,F_(n,h)))}}return e}(e,D,m);const S=function Eu(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=ba(e[0]),e.length>1&&(r=ba(e[e.length-1]))):e instanceof Map&&(t=ba(e)),t||r?new Iu(n,t,r):null}(e,D);return new X_(e,D,g,S)}}let Dw=(()=>{class n extends j1{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:o.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?uS(t):t;return ey(this._renderer,null,r,"register",[i]),new Ew(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.FYo),o.LFG(Y))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Ew extends class G1{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Iw(this._id,e,t||{},this._renderer)}}class Iw{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return ey(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function ey(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const ty="@.disabled";let iA=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,c)=>{const h=c?.parentNode(s);h&&c.removeChild(h,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let v=this._rendererCache.get(s);return v||(v=new Cw("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,v)),v}const c=r.id,h=r.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const g=v=>{Array.isArray(v)?v.forEach(g):this.engine.registerTrigger(c,h,t,v.name,v)};return r.data.animation.forEach(g),new Sw(this,h,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[c,h]=s;c(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.FYo),o.LFG(Ns),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Cw{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==ty?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Sw extends Cw{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==ty?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function oA(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),c="";return"@"!=s.charAt(0)&&([s,c]=function Aw(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,c,h=>{this.factory.scheduleListenerCallback(h._data||-1,r,h)})}return this.delegate.listen(e,t,r)}}let ny=(()=>{class n extends Ns{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Y),o.LFG(ow),o.LFG(Io),o.LFG(o.z2F))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const qd=[{provide:j1,useClass:Dw},{provide:Io,useFactory:function ry(){return new Bd}},{provide:Ns,useClass:ny},{provide:o.FYo,useFactory:function sA(n,e,t){return new iA(n,e,t)},deps:[za,Ns,o.R0b]}],Cu=[{provide:ow,useFactory:()=>new Tw},{provide:o.QbO,useValue:"BrowserAnimations"},...qd],vp=[{provide:ow,useClass:xS},{provide:o.QbO,useValue:"NoopAnimations"},...qd];let aA=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?vp:Cu}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:Cu,imports:[Jc]}),n})();var H=x(5861),un=x(2122),xs=x(259);class gl{constructor(e){return e}}class zd{constructor(){return(0,xs.C6)()}}const bp=new o.OlP("angularfire2._apps"),Nw={provide:gl,useFactory:function uA(n){return n&&1===n.length?n[0]:new gl((0,xs.Mq)())},deps:[[new o.FiY,bp]]},xw={provide:zd,deps:[[new o.FiY,bp]]};function kw(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new gl(r)}}let cA=(()=>{class n{constructor(t){(0,xs.KN)("angularfire",un.q4.full,"core"),(0,xs.KN)("angularfire",un.q4.full,"app"),(0,xs.KN)("angular",o.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.Lbi))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Nw,xw]}),n})();function Rw(n,...e){return{ngModule:cA,providers:[{provide:bp,useFactory:kw(n),multi:!0,deps:[o.R0b,o.zs3,un.HU,...e]}]}}const Pw=(0,un.u3)(xs.ZF,!0);var mn=x(9681),wa=x(4859),Le=x(2090),Jo=x(1877);const Fw=new Map,Lw={activated:!1,tokenObservers:[]},gA={initialized:!1,enabled:!1};function Ir(n){return Fw.get(n)||Object.assign({},Lw)}function Bn(){return gA}class Hw{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,H.Z)(function*(){t.stop();try{t.pending=new Le.BH,yield function Su(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Le.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ui=new Le.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function $w(n){if(!Ir(n).activated)throw ui.create("use-before-activation",{appName:n.name})}function Zd(n,e){return Kd.apply(this,arguments)}function Kd(){return(Kd=(0,H.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const D=yield i.getHeartbeatsHeader();D&&(r["X-Firebase-Client"]=D)}const s={method:"POST",body:JSON.stringify(e),headers:r};let c,h;try{c=yield fetch(n,s)}catch(D){throw ui.create("fetch-network-error",{originalErrorMessage:D?.message})}if(200!==c.status)throw ui.create("fetch-status-error",{httpStatus:c.status});try{h=yield c.json()}catch(D){throw ui.create("fetch-parse-error",{originalErrorMessage:D?.message})}const g=h.ttl.match(/^([\d.]+)(s)$/);if(!g||!g[2]||isNaN(Number(g[1])))throw ui.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const m=1e3*Number(g[1]),v=Date.now();return{token:h.token,expireTimeMillis:v+m,issuedAtTimeMillis:v}})).apply(this,arguments)}function jw(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const ci="firebase-app-check-store";let Yd=null;function Gw(){return Yd||(Yd=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(ui.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ci,{keyPath:"compositeKey"})}}catch(t){e(ui.create("storage-open",{originalErrorMessage:t?.message}))}}),Yd)}function cy(){return(cy=(0,H.Z)(function*(n,e){const r=(yield Gw()).transaction(ci,"readwrite"),s=r.objectStore(ci).put({compositeKey:n,value:e});return new Promise((c,h)=>{s.onsuccess=g=>{c()},r.onerror=g=>{var m;h(ui.create("storage-set",{originalErrorMessage:null===(m=g.target.error)||void 0===m?void 0:m.message}))}})})).apply(this,arguments)}const Mu=new Jo.Yd("@firebase/app-check");function Ep(n,e){return(0,Le.hl)()?function TA(n,e){return function Au(n,e){return cy.apply(this,arguments)}(function fy(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Mu.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Qd(){return Bn().enabled}function Ip(){return Cp.apply(this,arguments)}function Cp(){return(Cp=(0,H.Z)(function*(){const n=Bn();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Ww={error:"UNKNOWN_ERROR"};function Zw(n){return Le.US.encodeString(JSON.stringify(n),!1)}function Xd(n){return Sp.apply(this,arguments)}function Sp(){return(Sp=(0,H.Z)(function*(n,e=!1){const t=n.app;$w(t);const r=Ir(t);let s,i=r.token;if(i&&!Nu(i)&&(r.token=void 0,i=void 0),!i){const g=yield r.cachedTokenPromise;g&&(Nu(g)?i=g:yield Ep(t,void 0))}if(!e&&i&&Nu(i))return{token:i.token};let h,c=!1;if(Qd()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Zd(jw(t,yield Ip()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),c=!0);const g=yield r.exchangeTokenPromise;return yield Ep(t,g),r.token=g,{token:g.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),c=!0),i=yield Ir(t).exchangeTokenPromise}catch(g){"appCheck/throttled"===g.code?Mu.warn(g.message):Mu.error(g),s=g}return i?s?h=Nu(i)?{token:i.token,internalError:s}:Yw(s):(h={token:i.token},r.token=i,yield Ep(t,i)):h=Yw(s),c&&gy(t,h),h})).apply(this,arguments)}function Mp(n,e){const t=Ir(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function Kw(n){const{app:e}=n,t=Ir(e);let r=t.tokenRefresher;r||(r=function EA(n){const{app:e}=n;return new Hw((0,H.Z)(function*(){let r;if(r=Ir(e).token?yield Xd(n,!0):yield Xd(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Ir(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function gy(n,e){const t=Ir(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Nu(n){return n.expireTimeMillis-Date.now()>0}function Yw(n){return{token:Zw(Ww),error:n}}class IA{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Ir(this.app);for(const t of e)Mp(this.app,t.next);return Promise.resolve()}}const kp="app-check-internal";!function WO(){(0,mn._registerComponent)(new wa.wA("app-check",n=>function CA(n,e){return new IA(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(kp).initialize()})),(0,mn._registerComponent)(new wa.wA(kp,n=>function SA(n){return{getToken:e=>Xd(n,e),addTokenListener:e=>function Ap(n,e,t,r){const{app:i}=n,s=Ir(i);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:r,type:e}],s.token&&Nu(s.token)){const h=s.token;Promise.resolve().then(()=>{t({token:h.token}),Kw(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>Kw(n))}(n,"INTERNAL",e),removeTokenListener:e=>Mp(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,mn.registerVersion)("@firebase/app-check","0.6.4")}();class Dy{constructor(){return(0,un.vb)("app-check")}}typeof window<"u"&&window;var M=x(655);const Fp=function iT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Cy=new Le.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Sy=new Jo.Yd("@firebase/auth");function Lp(n,...e){Sy.logLevel<=Jo.in.ERROR&&Sy.error(`Auth (${mn.SDK_VERSION}): ${n}`,...e)}function Cr(n,...e){throw Ay(n,...e)}function Fr(n,...e){return Ay(n,...e)}function oT(n,e,t){const r=Object.assign(Object.assign({},Fp()),{[e]:t});return new Le.LL("auth","Firebase",r).create(e,{appName:n.name})}function ku(n,e,t){if(!(e instanceof t))throw t.name!==e.constructor.name&&Cr(n,"argument-error"),oT(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ay(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Cy.create(n,...e)}function Re(n,e,...t){if(!n)throw Ay(e,...t)}function Ao(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Lp(e),new Error(e)}function es(n,e){n||Ao(e)}const sT=new Map;function ts(n){es(n instanceof Function,"Expected a class definition");let e=sT.get(n);return e?(es(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,sT.set(n,e),e)}function Bp(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function GA(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Ta{constructor(e,t){this.shortDelay=e,this.longDelay=t,es(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,Le.uI)()||(0,Le.b$)()}get(){return function nP(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function aT(){return"http:"===GA()||"https:"===GA()}()||(0,Le.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function My(n,e){es(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class uT{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ao("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ao("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ao("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const cT={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},nh=new Ta(3e4,6e4);function fr(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Sr(n,e,t,r){return Ny.apply(this,arguments)}function Ny(){return(Ny=(0,H.Z)(function*(n,e,t,r,i={}){return dT(n,i,(0,H.Z)(function*(){let s={},c={};r&&("GET"===e?c=r:s={body:JSON.stringify(r)});const h=(0,Le.xO)(Object.assign({key:n.config.apiKey},c)).slice(1),g=yield n._getAdditionalHeaders();return g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode),uT.fetch()(hT(n,n.config.apiHost,t,h),Object.assign({method:e,headers:g,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function dT(n,e,t){return xy.apply(this,arguments)}function xy(){return(xy=(0,H.Z)(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},cT),e);try{const i=new rh(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const c=yield s.json();if("needConfirmation"in c)throw ih(n,"account-exists-with-different-credential",c);if(s.ok&&!("errorMessage"in c))return c;{const h=s.ok?c.errorMessage:c.error.message,[g,m]=h.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===g)throw ih(n,"credential-already-in-use",c);if("EMAIL_EXISTS"===g)throw ih(n,"email-already-in-use",c);if("USER_DISABLED"===g)throw ih(n,"user-disabled",c);const v=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw oT(n,v,m);Cr(n,v)}}catch(i){if(i instanceof Le.ZR)throw i;Cr(n,"internal-error",{message:String(i)})}})).apply(this,arguments)}function ns(n,e,t,r){return ky.apply(this,arguments)}function ky(){return(ky=(0,H.Z)(function*(n,e,t,r,i={}){const s=yield Sr(n,e,t,r,i);return"mfaPendingCredential"in s&&Cr(n,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function hT(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?My(n.config,i):`${n.config.apiScheme}://${i}`}class rh{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Fr(this.auth,"network-request-failed")),nh.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ih(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Fr(n,e,r);return i.customData._tokenResponse=t,i}function Ry(){return(Ry=(0,H.Z)(function*(n,e){return Sr(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function gT(n,e){return Py.apply(this,arguments)}function Py(){return(Py=(0,H.Z)(function*(n,e){return Sr(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function ml(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Vp(){return(Vp=(0,H.Z)(function*(n,e=!1){const t=(0,Le.m9)(n),r=yield t.getIdToken(e),i=Up(r);Re(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,c=s?.sign_in_provider;return{claims:i,token:r,authTime:ml(Fy(i.auth_time)),issuedAtTime:ml(Fy(i.iat)),expirationTime:ml(Fy(i.exp)),signInProvider:c||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function Fy(n){return 1e3*Number(n)}function Up(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return Lp("JWT malformed, contained fewer than 3 sections"),null;try{const i=(0,Le.tV)(t);return i?JSON.parse(i):(Lp("Failed to decode base64 JWT payload"),null)}catch(i){return Lp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Mo(n,e){return Ly.apply(this,arguments)}function Ly(){return(Ly=(0,H.Z)(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof Le.ZR&&_T(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}function _T({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class zA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout((0,H.Z)(function*(){yield t.iteration()}),r)}iteration(){var e=this;return(0,H.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class yT{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ml(this.lastLoginAt),this.creationTime=ml(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function oh(n){return By.apply(this,arguments)}function By(){return(By=(0,H.Z)(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield Mo(n,gT(t,{idToken:r}));Re(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const c=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?KA(s.providerUserInfo):[],h=ZA(n.providerData,c),v=!!n.isAnonymous&&!(n.email&&s.passwordHash||h?.length),D={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:h,metadata:new yT(s.createdAt,s.lastLoginAt),isAnonymous:v};Object.assign(n,D)})).apply(this,arguments)}function Vy(){return(Vy=(0,H.Z)(function*(n){const e=(0,Le.m9)(n);yield oh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function ZA(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function KA(n){return n.map(e=>{var{providerId:t}=e,r=(0,M._T)(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Hp(){return(Hp=(0,H.Z)(function*(n,e){const t=yield dT(n,{},(0,H.Z)(function*(){const r=(0,Le.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,c=hT(n,i,"/v1/token",`key=${s}`),h=yield n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",uT.fetch()(c,{method:"POST",headers:h,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class Ru{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function qA(n){const e=Up(n);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return(0,H.Z)(function*(){return Re(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return(0,H.Z)(function*(){const{accessToken:i,refreshToken:s,expiresIn:c}=yield function vT(n,e){return Hp.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(c))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,c=new Ru;return r&&(Re("string"==typeof r,"internal-error",{appName:e}),c.refreshToken=r),i&&(Re("string"==typeof i,"internal-error",{appName:e}),c.accessToken=i),s&&(Re("number"==typeof s,"internal-error",{appName:e}),c.expirationTime=s),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ru,this.toJSON())}_performRefresh(){return Ao("not implemented")}}function Da(n,e){Re("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class ks{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=(0,M._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new yT(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,H.Z)(function*(){const r=yield Mo(t,t.stsTokenManager.getToken(t.auth,e));return Re(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function mT(n){return Vp.apply(this,arguments)}(this,e)}reload(){return function WA(n){return Vy.apply(this,arguments)}(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ks(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return(0,H.Z)(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield oh(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return(0,H.Z)(function*(){const t=yield e.getIdToken();return yield Mo(e,function fT(n,e){return Ry.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,c,h,g,m,v;const D=null!==(r=t.displayName)&&void 0!==r?r:void 0,S=null!==(i=t.email)&&void 0!==i?i:void 0,A=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,R=null!==(c=t.photoURL)&&void 0!==c?c:void 0,U=null!==(h=t.tenantId)&&void 0!==h?h:void 0,K=null!==(g=t._redirectEventId)&&void 0!==g?g:void 0,Ne=null!==(m=t.createdAt)&&void 0!==m?m:void 0,qe=null!==(v=t.lastLoginAt)&&void 0!==v?v:void 0,{uid:Pe,emailVerified:nt,isAnonymous:Dt,providerData:rt,stsTokenManager:Ht}=t;Re(Pe&&Ht,e,"internal-error");const An=Ru.fromJSON(this.name,Ht);Re("string"==typeof Pe,e,"internal-error"),Da(D,e.name),Da(S,e.name),Re("boolean"==typeof nt,e,"internal-error"),Re("boolean"==typeof Dt,e,"internal-error"),Da(A,e.name),Da(R,e.name),Da(U,e.name),Da(K,e.name),Da(Ne,e.name),Da(qe,e.name);const wi=new ks({uid:Pe,auth:e,email:S,emailVerified:nt,displayName:D,isAnonymous:Dt,photoURL:R,phoneNumber:A,tenantId:U,stsTokenManager:An,createdAt:Ne,lastLoginAt:qe});return rt&&Array.isArray(rt)&&(wi.providerData=rt.map(Bs=>Object.assign({},Bs))),K&&(wi._redirectEventId=K),wi}static _fromIdTokenResponse(e,t,r=!1){return(0,H.Z)(function*(){const i=new Ru;i.updateFromServerResponse(t);const s=new ks({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield oh(s),s})()}}const bT=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,H.Z)(function*(){return!0})()}_set(t,r){var i=this;return(0,H.Z)(function*(){i.storage[t]=r})()}_get(t){var r=this;return(0,H.Z)(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return(0,H.Z)(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function $p(n,e,t){return`firebase:${n}:${e}:${t}`}class Ea{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=$p(this.userKey,i.apiKey,s),this.fullPersistenceKey=$p("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,H.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?ks._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,H.Z)(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return(0,H.Z)(function*(){if(!t.length)return new Ea(ts(bT),e,r);const i=(yield Promise.all(t.map(function(){var m=(0,H.Z)(function*(v){if(yield v._isAvailable())return v});return function(v){return m.apply(this,arguments)}}()))).filter(m=>m);let s=i[0]||ts(bT);const c=$p(r,e.config.apiKey,e.name);let h=null;for(const m of t)try{const v=yield m._get(c);if(v){const D=ks._fromJSON(e,v);m!==s&&(h=D),s=m;break}}catch{}const g=i.filter(m=>m._shouldAllowMigration);return s._shouldAllowMigration&&g.length?(s=g[0],h&&(yield s._set(c,h.toJSON())),yield Promise.all(t.map(function(){var m=(0,H.Z)(function*(v){if(v!==s)try{yield v._remove(c)}catch{}});return function(v){return m.apply(this,arguments)}}())),new Ea(s,e,r)):new Ea(s,e,r)})()}}function jp(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(TT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Uy(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(DT(e))return"Blackberry";if(Hy(e))return"Webos";if(sh(e))return"Safari";if((e.includes("chrome/")||wT(e))&&!e.includes("edge/"))return"Chrome";if(Gp(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function Uy(n=(0,Le.z$)()){return/firefox\//i.test(n)}function sh(n=(0,Le.z$)()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wT(n=(0,Le.z$)()){return/crios\//i.test(n)}function TT(n=(0,Le.z$)()){return/iemobile/i.test(n)}function Gp(n=(0,Le.z$)()){return/android/i.test(n)}function DT(n=(0,Le.z$)()){return/blackberry/i.test(n)}function Hy(n=(0,Le.z$)()){return/webos/i.test(n)}function Rs(n=(0,Le.z$)()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function $y(n=(0,Le.z$)()){return Rs(n)||Gp(n)||Hy(n)||DT(n)||/windows phone/i.test(n)||TT(n)}function ET(n,e=[]){let t;switch(n){case"Browser":t=jp((0,Le.z$)());break;case"Worker":t=`${jp((0,Le.z$)())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${mn.SDK_VERSION}/${r}`}class Gy{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((c,h)=>{try{c(e(s))}catch(g){h(g)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,H.Z)(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class XA{constructor(e,t,r){this.app=e,this.heartbeatServiceProvider=t,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qp(this),this.idTokenSubscription=new qp(this),this.beforeStateQueue=new Gy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Cy,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=ts(t)),this._initializationPromise=this.queue((0,H.Z)(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Ea.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,H.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return(0,H.Z)(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,c=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const h=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,g=s?._redirectEventId,m=yield t.tryRedirectSignIn(e);(!h||h===g)&&m?.user&&(s=m.user,c=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(c)try{yield t.beforeStateQueue.runMiddleware(s)}catch(h){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(h))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return Re(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return(0,H.Z)(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,H.Z)(function*(){try{yield oh(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function lT(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return(0,H.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,H.Z)(function*(){const r=e?(0,Le.m9)(e):null;return r&&Re(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return(0,H.Z)(function*(){if(!r._deleted)return e&&Re(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue((0,H.Z)(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,H.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue((0,H.Z)(function*(){yield t.assertedPersistence.setPersistence(ts(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Le.LL("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return(0,H.Z)(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,H.Z)(function*(){if(!t.redirectPersistenceManager){const r=e&&ts(e)||t._popupRedirectResolver;Re(r,t,"argument-error"),t.redirectPersistenceManager=yield Ea.create(t,[ts(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,H.Z)(function*(){var r,i;return t._isInitialized&&(yield t.queue((0,H.Z)(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,H.Z)(function*(){if(e===t.currentUser)return t.queue((0,H.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),c=this._isInitialized?Promise.resolve():this._initializationPromise;return Re(c,this,"internal-error"),c.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,H.Z)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ET(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,H.Z)(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}function di(n){return(0,Le.m9)(n)}class qp{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,Le.ne)(t=>this.observer=t)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function qy(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function zy(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class Wy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ao("not implemented")}_getIdTokenResponse(e){return Ao("not implemented")}_linkToIdToken(e,t){return Ao("not implemented")}_getReauthenticationResolver(e){return Ao("not implemented")}}function AT(){return(AT=(0,H.Z)(function*(n,e){return Sr(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function NT(){return(NT=(0,H.Z)(function*(n,e){return ns(n,"POST","/v1/accounts:signInWithPassword",fr(n,e))})).apply(this,arguments)}function n0(){return(n0=(0,H.Z)(function*(n,e){return ns(n,"POST","/v1/accounts:signInWithEmailLink",fr(n,e))})).apply(this,arguments)}function _l(){return(_l=(0,H.Z)(function*(n,e){return ns(n,"POST","/v1/accounts:signInWithEmailLink",fr(n,e))})).apply(this,arguments)}class Ou extends Wy{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Ou(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Ou(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return(0,H.Z)(function*(){switch(t.signInMethod){case"password":return function tM(n,e){return NT.apply(this,arguments)}(e,{returnSecureToken:!0,email:t._email,password:t._password});case"emailLink":return function iM(n,e){return n0.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:Cr(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return(0,H.Z)(function*(){switch(r.signInMethod){case"password":return function Ky(n,e){return AT.apply(this,arguments)}(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function oM(n,e){return _l.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:Cr(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function rs(n,e){return Wp.apply(this,arguments)}function Wp(){return(Wp=(0,H.Z)(function*(n,e){return ns(n,"POST","/v1/accounts:signInWithIdp",fr(n,e))})).apply(this,arguments)}class yl extends Wy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new yl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Cr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=(0,M._T)(t,["providerId","signInMethod"]);if(!r||!i)return null;const c=new yl(r,i);return c.idToken=s.idToken||void 0,c.accessToken=s.accessToken||void 0,c.secret=s.secret,c.nonce=s.nonce,c.pendingToken=s.pendingToken||null,c}_getIdTokenResponse(e){return rs(e,this.buildRequest())}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,rs(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,rs(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,Le.xO)(t)}return e}}class lh{constructor(e){var t,r,i,s,c,h;const g=(0,Le.zd)((0,Le.pd)(e)),m=null!==(t=g.apiKey)&&void 0!==t?t:null,v=null!==(r=g.oobCode)&&void 0!==r?r:null,D=function s0(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=g.mode)&&void 0!==i?i:null);Re(m&&v&&D,"argument-error"),this.apiKey=m,this.operation=D,this.code=v,this.continueUrl=null!==(s=g.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(c=g.languageCode)&&void 0!==c?c:null,this.tenantId=null!==(h=g.tenantId)&&void 0!==h?h:null}static parseLink(e){const t=function is(n){const e=(0,Le.zd)((0,Le.pd)(n)).link,t=e?(0,Le.zd)((0,Le.pd)(e)).deep_link_id:null,r=(0,Le.zd)((0,Le.pd)(n)).deep_link_id;return(r?(0,Le.zd)((0,Le.pd)(r)).link:null)||r||t||e||n}(e);try{return new lh(t)}catch{return null}}}let Pu=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Ou._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=lh.parseLink(r);return Re(i,"argument-error"),Ou._fromEmailAndCode(t,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class Ia{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class FT extends Ia{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let Yp=(()=>{class n extends FT{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return yl._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:i}=t;if(!r&&!i)return null;try{return n.credential(r,i)}catch{return null}}}return n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com",n})();function BT(n,e){return l0.apply(this,arguments)}function l0(){return(l0=(0,H.Z)(function*(n,e){return ns(n,"POST","/v1/accounts:signUp",fr(n,e))})).apply(this,arguments)}class No{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return(0,H.Z)(function*(){const s=yield ks._fromIdTokenResponse(e,r,i),c=Jp(r);return new No({user:s,providerId:c,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return(0,H.Z)(function*(){yield e._updateTokensIfNecessary(r,!0);const i=Jp(r);return new No({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function Jp(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Lu extends Le.ZR{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Lu.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Lu(e,t,r,i)}}function Xp(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Lu._fromErrorAndOperation(n,s,e,r):s})}function c0(n,e){return eg.apply(this,arguments)}function eg(){return(eg=(0,H.Z)(function*(n,e,t=!1){const r=yield Mo(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return No._forOperation(n,"link",r)})).apply(this,arguments)}function ng(){return(ng=(0,H.Z)(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const s=yield Mo(n,Xp(r,i,e,n),t);Re(s.idToken,r,"internal-error");const c=Up(s.idToken);Re(c,r,"internal-error");const{sub:h}=c;return Re(n.uid===h,r,"user-mismatch"),No._forOperation(n,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&Cr(r,"user-mismatch"),s}})).apply(this,arguments)}function h0(n,e){return f0.apply(this,arguments)}function f0(){return(f0=(0,H.Z)(function*(n,e,t=!1){const r="signIn",i=yield Xp(n,r,e),s=yield No._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})).apply(this,arguments)}function ig(){return(ig=(0,H.Z)(function*(n,e){return h0(di(n),e)})).apply(this,arguments)}function zT(n,e,t){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,H.Z)(function*(n,e,t){const r=di(n),i=yield BT(r,{returnSecureToken:!0,email:e,password:t}),s=yield No._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(s.user),s})).apply(this,arguments)}function v0(n,e,t){return function rg(n,e){return ig.apply(this,arguments)}((0,Le.m9)(n),Pu.credential(e,t))}const dh="__sak";class sD{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(dh,"1"),this.storage.removeItem(dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const DM=(()=>{class n extends sD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function aD(){const n=(0,Le.z$)();return sh(n)||Rs(n)}()&&function jy(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=$y(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((h,g,m)=>{this.notifyListeners(h,m)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const h=this.storage.getItem(i);if(t.newValue!==h)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const h=this.storage.getItem(i);!r&&this.localCache[i]===h||this.notifyListeners(i,h)},c=this.storage.getItem(i);!function iP(){return(0,Le.w1)()&&10===document.documentMode}()||c===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return(0,H.Z)(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return(0,H.Z)(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return(0,H.Z)(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),lD=(()=>{class n extends sD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let vP=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return(0,H.Z)(function*(){const i=t,{eventId:s,eventType:c,data:h}=i.data,g=r.handlersMap[c];if(!g?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:c});const m=Array.from(g).map(function(){var D=(0,H.Z)(function*(S){return S(i.origin,h)});return function(S){return D.apply(this,arguments)}}()),v=yield function yP(n){return Promise.all(n.map(function(){var e=(0,H.Z)(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(m);i.ports[0].postMessage({status:"done",eventId:s,eventType:c,response:v})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function C0(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class EM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return(0,H.Z)(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let c,h;return new Promise((g,m)=>{const v=C0("",20);s.port1.start();const D=setTimeout(()=>{m(new Error("unsupported_event"))},r);h={messageChannel:s,onMessage(S){const A=S;if(A.data.eventId===v)switch(A.data.status){case"ack":clearTimeout(D),c=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(A.data.response);break;default:clearTimeout(D),clearTimeout(c),m(new Error("invalid_response"))}}},i.handlers.add(h),s.port1.addEventListener("message",h.onMessage),i.target.postMessage({eventType:e,eventId:v,data:t},[s.port2])}).finally(()=>{h&&i.removeMessageHandler(h)})})()}}function pr(){return window}function uD(){return typeof pr().WorkerGlobalScope<"u"&&"function"==typeof pr().importScripts}function pg(){return(pg=(0,H.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const so="firebaseLocalStorageDb",ju="firebaseLocalStorage",dD="fbase_key";class zr{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function gg(n,e){return n.transaction([ju],e?"readwrite":"readonly").objectStore(ju)}function A0(){const n=indexedDB.open(so,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(ju,{keyPath:dD})}catch(i){t(i)}}),n.addEventListener("success",(0,H.Z)(function*(){const r=n.result;r.objectStoreNames.contains(ju)?e(r):(r.close(),yield function S0(){const n=indexedDB.deleteDatabase(so);return new zr(n).toPromise()}(),e(yield A0()))}))})}function hD(n,e,t){return hh.apply(this,arguments)}function hh(){return(hh=(0,H.Z)(function*(n,e,t){const r=gg(n,!0).put({[dD]:e,value:t});return new zr(r).toPromise()})).apply(this,arguments)}function mg(){return(mg=(0,H.Z)(function*(n,e){const t=gg(n,!1).get(e),r=yield new zr(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function pD(n,e){const t=gg(n,!0).delete(e);return new zr(t).toPromise()}const _D=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return(0,H.Z)(function*(){return t.db||(t.db=yield A0()),t.db})()}_withRetries(t){var r=this;return(0,H.Z)(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return(0,H.Z)(function*(){return uD()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return(0,H.Z)(function*(){t.receiver=vP._getInstance(function bP(){return uD()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=(0,H.Z)(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=(0,H.Z)(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return(0,H.Z)(function*(){var r,i;if(t.activeServiceWorker=yield function CM(){return pg.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new EM(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);!s||(null===(r=s[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=s[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return(0,H.Z)(function*(){if(r.sender&&r.activeServiceWorker&&function cD(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,H.Z)(function*(){try{if(!indexedDB)return!1;const t=yield A0();return yield hD(t,dh,"1"),yield pD(t,dh),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return(0,H.Z)(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return(0,H.Z)(function*(){return i._withPendingWrite((0,H.Z)(function*(){return yield i._withRetries(s=>hD(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return(0,H.Z)(function*(){const i=yield r._withRetries(s=>function fD(n,e){return mg.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return(0,H.Z)(function*(){return r._withPendingWrite((0,H.Z)(function*(){return yield r._withRetries(i=>pD(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return(0,H.Z)(function*(){const r=yield t._withRetries(c=>{const h=gg(c,!1).getAll();return new zr(h).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:c,value:h}of r)s.add(c),JSON.stringify(t.localCache[c])!==JSON.stringify(h)&&(t.notifyListeners(c,h),i.push(c));for(const c of Object.keys(t.localCache))t.localCache[c]&&!s.has(c)&&(t.notifyListeners(c,null),i.push(c));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval((0,H.Z)(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function yD(n){return`__${n}${Math.floor(1e6*Math.random())}`}function bl(n,e){return e?ts(e):(Re(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}yD("rcb"),new Ta(3e4,6e4);class L0 extends Wy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return rs(e,this._buildIdpRequest())}_linkToIdToken(e,t){return rs(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return rs(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function LM(n){return h0(n.auth,new L0(n),n.bypassAuthState)}function EP(n){const{auth:e,user:t}=n;return Re(t,e,"internal-error"),function d0(n,e){return ng.apply(this,arguments)}(t,new L0(n),n.bypassAuthState)}function IP(n){return CD.apply(this,arguments)}function CD(){return(CD=(0,H.Z)(function*(n){const{auth:e,user:t}=n;return Re(t,e,"internal-error"),c0(t,new L0(n),n.bypassAuthState)})).apply(this,arguments)}class BM{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=(0,H.Z)(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return(0,H.Z)(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:c,error:h,type:g}=e;if(h)return void t.reject(h);const m={auth:t.auth,requestUri:r,sessionId:i,tenantId:c||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(g)(m))}catch(v){t.reject(v)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return LM;case"linkViaPopup":case"linkViaRedirect":return IP;case"reauthViaPopup":case"reauthViaRedirect":return EP;default:Cr(this.auth,"internal-error")}}resolve(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const CP=new Ta(2e3,1e4);function VM(n,e,t){return qu.apply(this,arguments)}function qu(){return(qu=(0,H.Z)(function*(n,e,t){const r=di(n);ku(n,e,Ia);const i=bl(r,t);return new wg(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}let wg=(()=>{class n extends BM{constructor(t,r,i,s,c){super(t,r,s,c),this.provider=i,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){var t=this;return(0,H.Z)(function*(){const r=yield t.execute();return Re(r,t.auth,"internal-error"),r})()}onExecution(){var t=this;return(0,H.Z)(function*(){es(1===t.filter.length,"Popup operations only handle one event");const r=C0();t.authWindow=yield t.resolver._openPopup(t.auth,t.provider,t.filter[0],r),t.authWindow.associatedEvent=r,t.resolver._originValidation(t.auth).catch(i=>{t.reject(i)}),t.resolver._isIframeWebStorageSupported(t.auth,i=>{i||t.reject(Fr(t.auth,"web-storage-unsupported"))}),t.pollUserCancellation()})()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(Fr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Fr(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(t,CP.get())};t()}}return n.currentPopupAction=null,n})();const wl=new Map;class HM extends BM{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return(0,H.Z)(function*(){let r=wl.get(t.auth._key());if(!r){try{const s=(yield function U0(n,e){return fh.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}wl.set(t.auth._key(),r)}return t.bypassAuthState||wl.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return(0,H.Z)(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return(0,H.Z)(function*(){})()}cleanUp(){}}function fh(){return(fh=(0,H.Z)(function*(n,e){const t=H0(e),r=$M(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function AP(n,e){wl.set(n._key(),e)}function $M(n){return ts(n._redirectPersistence)}function H0(n){return $p("pendingRedirect",n.config.apiKey,n.name)}function WM(n,e){return Dg.apply(this,arguments)}function Dg(){return(Dg=(0,H.Z)(function*(n,e,t=!1){const r=di(n),i=bl(r,e),c=yield new HM(r,i,t).execute();return c&&!t&&(delete c.user._redirectEventId,yield r._persistUserIfCurrent(c.user),yield r._setRedirectUser(null,e)),c})).apply(this,arguments)}class xP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function YM(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MD(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!MD(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(Fr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(KM(e))}saveEventToCache(e){this.cachedEventUids.add(KM(e)),this.lastProcessedEventTime=Date.now()}}function KM(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function MD({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function JM(n){return ND.apply(this,arguments)}function ND(){return(ND=(0,H.Z)(function*(n,e={}){return Sr(n,"GET","/v1/projects",e)})).apply(this,arguments)}const kP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RP=/^https?/;function xD(){return(xD=(0,H.Z)(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield JM(n);for(const t of e)try{if(QM(t))return}catch{}Cr(n,"unauthorized-domain")})).apply(this,arguments)}function QM(n){const e=Bp(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return""===c.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&c.hostname===r}if(!RP.test(t))return!1;if(kP.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const PP=new Ta(3e4,6e4);function XM(){const n=pr().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let q0=null;function LP(n){return q0=q0||function FP(n){return new Promise((e,t)=>{var r,i,s;function c(){XM(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{XM(),t(Fr(n,"network-request-failed"))},timeout:PP.get()})}if(null!==(i=null===(r=pr().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=pr().gapi)||void 0===s||!s.load){const h=yD("iframefcb");return pr()[h]=()=>{gapi.load?c():t(Fr(n,"network-request-failed"))},function os(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=Fr("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function N0(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${h}`).catch(g=>t(g))}c()}}).catch(e=>{throw q0=null,e})}(n),q0}const BP=new Ta(5e3,15e3),u={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},d=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function f(n){const e=n.config;Re(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?My(e,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:n.name,v:mn.SDK_VERSION},i=d.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${(0,Le.xO)(r).slice(1)}`}function _(){return _=(0,H.Z)(function*(n){const e=yield LP(n),t=pr().gapi;return Re(t,n,"internal-error"),e.open({where:document.body,url:f(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:u,dontclear:!0},r=>new Promise(function(){var i=(0,H.Z)(function*(s,c){yield r.restyle({setHideOnLeave:!1});const h=Fr(n,"network-request-failed"),g=pr().setTimeout(()=>{c(h)},BP.get());function m(){pr().clearTimeout(g),s(r)}r.ping(m).then(m,()=>{c(h)})});return function(s,c){return i.apply(this,arguments)}}()))}),_.apply(this,arguments)}const y={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class B{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Xe(n,e,t,r,i,s){Re(n.config.authDomain,n,"auth-domain-config-required"),Re(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:mn.SDK_VERSION,eventId:i};if(e instanceof Ia){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",(0,Le.xb)(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,m]of Object.entries(s||{}))c[g]=m}if(e instanceof FT){const g=e.getScopes().filter(m=>""!==m);g.length>0&&(c.scopes=g.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const g of Object.keys(h))void 0===h[g]&&delete h[g];return`${function _t({config:n}){return n.emulator?My(n,"emulator/auth/handler"):`https://${n.authDomain}/__/auth/handler`}(n)}?${(0,Le.xO)(h).slice(1)}`}const ve="webStorageSupport",sn=class Tt{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lD,this._completeRedirectFn=WM,this._overrideRedirectResult=AP}_openPopup(e,t,r,i){var s=this;return(0,H.Z)(function*(){var c;es(null===(c=s.eventManagers[e._key()])||void 0===c?void 0:c.manager,"_initialize() not called before _openPopup()");const h=Xe(e,t,r,Bp(),i);return function q(n,e,t,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const g=Object.assign(Object.assign({},y),{width:r.toString(),height:i.toString(),top:s,left:c}),m=(0,Le.z$)().toLowerCase();t&&(h=wT(m)?"_blank":t),Uy(m)&&(e=e||"http://localhost",g.scrollbars="yes");const v=Object.entries(g).reduce((S,[A,R])=>`${S}${A}=${R},`,"");if(function QA(n=(0,Le.z$)()){var e;return Rs(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(m)&&"_self"!==h)return function ce(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",h),new B(null);const D=window.open(e||"",h,v);Re(D,n,"popup-blocked");try{D.focus()}catch{}return new B(D)}(e,h,C0())})()}_openRedirect(e,t,r,i){var s=this;return(0,H.Z)(function*(){return yield s._originValidation(e),function IM(n){pr().location.href=n}(Xe(e,t,r,Bp(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(es(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return(0,H.Z)(function*(){const r=yield function p(n){return _.apply(this,arguments)}(e),i=new xP(e);return r.register("authEvent",s=>(Re(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ve,{type:ve},i=>{var s;const c=null===(s=i?.[0])||void 0===s?void 0:s[ve];void 0!==c&&t(!!c),Cr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function OP(n){return xD.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return $y()||sh()||Rs()}};var Ig="@firebase/auth";class z0{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,H.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Y0=(0,Le.Pz)("authIdTokenMaxAge")||300;let Sg=null;const VH=n=>function(){var e=(0,H.Z)(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Y0)return;const s=r?.token;Sg!==s&&(Sg=s,yield fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function UH(n=(0,mn.getApp)()){const e=(0,mn._getProvider)(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function $A(n,e){const t=(0,mn._getProvider)(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if((0,Le.vZ)(s,e??{}))return i;Cr(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:sn,persistence:[_D,DM,lD]}),r=(0,Le.Pz)("authTokenSyncURL");if(r){const s=VH(r);(function fP(n,e,t){(0,Le.m9)(n).beforeAuthStateChanged(e,t)})(t,s,()=>s(t.currentUser)),function tD(n,e,t,r){(0,Le.m9)(n).onIdTokenChanged(e,t,r)}(t,c=>s(c))}const i=(0,Le.q4)("auth");return i&&function IT(n,e,t){const r=di(n);Re(r._canInitEmulator,r,"emulator-config-failed"),Re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,s=qy(e),{host:c,port:h}=function CT(n){const e=qy(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:zy(r.substr(s.length+1))}}{const[s,c]=r.split(":");return{host:s,port:zy(c)}}}(e);r.config.emulator={url:`${s}//${c}${null===h?"":`:${h}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:c,port:h,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function eM(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}!function Z0(n){(0,mn._registerComponent)(new wa.wA("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:c}=r.options;return((h,g)=>{Re(s&&!s.includes(":"),"invalid-api-key",{appName:h.name}),Re(!c?.includes(":"),"argument-error",{appName:h.name});const m={apiKey:s,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ET(n)},v=new XA(h,g,m);return function jA(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ts);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(v,t),v})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),(0,mn._registerComponent)(new wa.wA("auth-internal",e=>{const t=di(e.getProvider("auth").getImmediate());return new z0(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,mn.registerVersion)(Ig,"0.21.5",function W0(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),(0,mn.registerVersion)(Ig,"0.21.5","esm2017")}("Browser");class RD{constructor(e){return e}}class UP{constructor(){return(0,un.vb)("auth")}}const eN=new o.OlP("angularfire2.auth-instances");function $H(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new RD(r)}}const jH={provide:UP,deps:[[new o.FiY,eN]]},GH={provide:RD,useFactory:function HH(n,e){const t=(0,un.JM)("auth",n,e);return t&&new RD(t)},deps:[[new o.FiY,eN],gl]};let qH=(()=>{class n{constructor(){(0,xs.KN)("angularfire",un.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[GH,jH]}),n})();function zH(n,...e){return{ngModule:qH,providers:[{provide:eN,useFactory:$H(n),multi:!0,deps:[o.R0b,o.zs3,un.HU,zd,[new o.FiY,Dy],...e]}]}}const WH=(0,un.u3)(zT,!0),HP=(0,un.u3)(UH,!0),ZH=(0,un.u3)(v0,!0),KH=(0,un.u3)(VM,!0);let tN=(()=>{class n{constructor(t){this.auth=t}registrarUser({email:t,password:r}){return WH(this.auth,t,r)}login({email:t,password:r}){return ZH(this.auth,t,r)}loginconGoogle(){return new Promise((t,r)=>{KH(this.auth,new Yp).then(i=>{t(i)}).catch(i=>{r(i)})})}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(RD))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function YH(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"li",7)(1,"div",11)(2,"p"),o._uU(3),o.qZA(),o.TgZ(4,"button",12),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.logout())}),o._uU(5," Salir "),o.qZA()()()}if(2&n){const t=o.oxw();o.xp6(3),o.hij(" Hola, ",null==t.userEmail?null:t.userEmail.split("@")[0],"! ")}}function JH(n,e){1&n&&(o.TgZ(0,"li",7)(1,"a",13),o._uU(2,"Log in"),o.qZA()())}let QH=(()=>{class n{constructor(t,r){this.userService=t,this.router=r,this.loggedIn=!1}ngOnInit(){this.userService.auth.onAuthStateChanged(t=>{t?(this.loggedIn=!0,this.userEmail=t.email):(this.loggedIn=!1,this.userEmail=void 0)})}logout(){var t=this;return(0,H.Z)(function*(){yield t.userService.auth.signOut(),t.router.navigate(["/"])})()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(tN),o.Y36(gn))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-top-nav"]],decls:21,vars:2,consts:[["data-bs-theme","dark",1,"navbar","navbar-expand-lg","navbar-dark","bg-transparent"],["href","",1,"navbar-brand"],["src","assets/img/mental-b-logo-hor-white.png","alt","Logo"],["type","button","data-toggle","collapse","data-target","#navbarNav2","aria-controls","navbarNav2","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav2",1,"collapse","navbar-collapse","justify-content-end"],[1,"navbar-nav"],[1,"nav-item"],["href","articulo/9xFDgB0jsaDRoPz6qHSj",1,"nav-link"],["href","#",1,"nav-link"],["class","nav-item",4,"ngIf"],[1,"bienvenida"],[1,"btn","btn-link","logout-btn",3,"click"],["href","login",1,"nav-link","login-link"]],template:function(t,r){1&t&&(o.TgZ(0,"nav",0)(1,"a",1),o._UZ(2,"img",2),o.qZA(),o.TgZ(3,"button",3),o._UZ(4,"span",4),o.qZA(),o.TgZ(5,"div",5)(6,"ul",6)(7,"li",7)(8,"a",8),o._uU(9,"TDAH"),o.qZA()(),o.TgZ(10,"li",7)(11,"a",9),o._uU(12,"J\xf3venes"),o.qZA()(),o.TgZ(13,"li",7)(14,"a",9),o._uU(15,"Padres"),o.qZA()(),o.TgZ(16,"li",7)(17,"a",9),o._uU(18,"Contactos"),o.qZA()(),o.YNc(19,YH,6,1,"li",10),o.YNc(20,JH,3,0,"li",10),o.qZA()()()),2&t&&(o.xp6(19),o.Q6J("ngIf",r.loggedIn),o.xp6(1),o.Q6J("ngIf",!r.loggedIn))},dependencies:[Pt],styles:["nav[_ngcontent-%COMP%]{z-index:1000;padding:1.5rem 3rem;flex-grow:1;margin-top:1rem}#navbarNav2[_ngcontent-%COMP%]{margin-top:.85rem}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1.2rem;padding:0 3rem;font-weight:300}.navbar-brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:3.5rem}.nav-item[_ngcontent-%COMP%]{padding:0 1.5rem}.login-link[_ngcontent-%COMP%]{color:#f57730}.login-link[_ngcontent-%COMP%]:hover{color:#f9975e}.logout-btn[_ngcontent-%COMP%]{padding-right:0!important}.bienvenida[_ngcontent-%COMP%]{color:#1bb1c6;display:flex;align-items:flex-end;flex-direction:column}.bienvenida[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:-1.25rem;padding:0;color:#f57730;font-size:15px}@media (max-width: 767.98px){nav[_ngcontent-%COMP%]{padding:.75rem;margin-top:0}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:0;margin:0}}"]}),n})();var lt,XH=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Tl={},nN=nN||{},Rt=XH||self;function OD(){}function PD(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function J0(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var rN="closure_uid_"+(1e9*Math.random()>>>0),t$=0;function n$(n,e,t){return n.call.apply(n.bind,arguments)}function r$(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Si(n,e,t){return(Si=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?n$:r$).apply(null,arguments)}function FD(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function hi(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,s){for(var c=Array(arguments.length-2),h=2;h<arguments.length;h++)c[h-2]=arguments[h];return e.prototype[i].apply(r,c)}}function Wu(){this.s=this.s,this.o=this.o}Wu.prototype.s=!1,Wu.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function e$(n){Object.prototype.hasOwnProperty.call(n,rN)&&n[rN]||(n[rN]=++t$)}(this)},Wu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const $P=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function iN(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function jP(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(PD(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let c=0;c<s;c++)n[i+c]=r[c]}else n.push(r)}}function Ai(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Ai.prototype.h=function(){this.defaultPrevented=!0};var o$=function(){if(!Rt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Rt.addEventListener("test",OD,e),Rt.removeEventListener("test",OD,e)}catch{}return n}();function LD(n){return/^[\s\xa0]*$/.test(n)}var GP=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function oN(n,e){return n<e?-1:n>e?1:0}function BD(){var n=Rt.navigator;return n&&(n=n.userAgent)?n:""}function Ma(n){return-1!=BD().indexOf(n)}function sN(n){return sN[" "](n),n}sN[" "]=OD;var VD,n,a$=Ma("Opera"),Ag=Ma("Trident")||Ma("MSIE"),qP=Ma("Edge"),aN=qP||Ag,zP=Ma("Gecko")&&!(-1!=BD().toLowerCase().indexOf("webkit")&&!Ma("Edge"))&&!(Ma("Trident")||Ma("MSIE"))&&!Ma("Edge"),l$=-1!=BD().toLowerCase().indexOf("webkit")&&!Ma("Edge");function WP(){var n=Rt.document;return n?n.documentMode:void 0}e:{var lN="",uN=(n=BD(),zP?/rv:([^\);]+)(\)|;)/.exec(n):qP?/Edge\/([\d\.]+)/.exec(n):Ag?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):l$?/WebKit\/(\S+)/.exec(n):a$?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(uN&&(lN=uN?uN[1]:""),Ag){var cN=WP();if(null!=cN&&cN>parseFloat(lN)){VD=String(cN);break e}}VD=lN}var u$={};var d$=Rt.document&&Ag&&(WP()||parseInt(VD,10))||void 0;function Q0(n,e){if(Ai.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(zP){e:{try{sN(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:h$[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Q0.X.h.call(this)}}hi(Q0,Ai);var h$={2:"touch",3:"pen",4:"mouse"};Q0.prototype.h=function(){Q0.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var X0="closure_listenable_"+(1e6*Math.random()|0),f$=0;function p$(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++f$,this.ba=this.ea=!1}function UD(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function hN(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function KP(n){const e={};for(const t in n)e[t]=n[t];return e}const YP="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function JP(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<YP.length;s++)t=YP[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function HD(n){this.src=n,this.g={},this.h=0}function fN(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=$P(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(UD(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function pN(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.ba&&s.listener==e&&s.capture==!!t&&s.ha==r)return i}return-1}HD.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var c=pN(n,e,r,i);return-1<c?(e=n[c],t||(e.ea=!1)):((e=new p$(e,this.src,s,!!r,i)).ea=t,n.push(e)),e};var gN="closure_lm_"+(1e6*Math.random()|0),mN={};function QP(n,e,t,r,i){if(r&&r.once)return eF(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)QP(n,e[s],t,r,i);return null}return t=bN(t),n&&n[X0]?n.N(e,t,J0(r)?!!r.capture:!!r,i):XP(n,e,t,!1,r,i)}function XP(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var c=J0(i)?!!i.capture:!!i,h=yN(n);if(h||(n[gN]=h=new HD(n)),(t=h.add(e,t,r,c,s)).proxy)return t;if(r=function g$(){const e=m$;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)o$||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(nF(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function eF(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)eF(n,e[s],t,r,i);return null}return t=bN(t),n&&n[X0]?n.O(e,t,J0(r)?!!r.capture:!!r,i):XP(n,e,t,!0,r,i)}function tF(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)tF(n,e[s],t,r,i);else r=J0(r)?!!r.capture:!!r,t=bN(t),n&&n[X0]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=pN(s=n.g[e],t,r,i))&&(UD(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=yN(n))&&(e=n.g[e.toString()],n=-1,e&&(n=pN(e,t,r,i)),(t=-1<n?e[n]:null)&&_N(t))}function _N(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[X0])fN(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(nF(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=yN(e))?(fN(t,n),0==t.h&&(t.src=null,e[gN]=null)):UD(n)}}}function nF(n){return n in mN?mN[n]:mN[n]="on"+n}function m$(n,e){if(n.ba)n=!0;else{e=new Q0(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&_N(n),n=t.call(r,e)}return n}function yN(n){return(n=n[gN])instanceof HD?n:null}var vN="__closure_events_fn_"+(1e9*Math.random()>>>0);function bN(n){return"function"==typeof n?n:(n[vN]||(n[vN]=function(e){return n.handleEvent(e)}),n[vN])}function Wr(){Wu.call(this),this.i=new HD(this),this.P=this,this.I=null}function fi(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Ai(e,n);else if(e instanceof Ai)e.target=e.target||n;else{var i=e;JP(e=new Ai(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var c=e.g=t[s];i=$D(c,r,!0,e)&&i}if(i=$D(c=e.g=n,r,!0,e)&&i,i=$D(c,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=$D(c=e.g=t[s],r,!1,e)&&i}function $D(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var c=e[s];if(c&&!c.ba&&c.capture==t){var h=c.listener,g=c.ha||c.src;c.ea&&fN(n.i,c),i=!1!==h.call(g,r)&&i}}return i&&!r.defaultPrevented}hi(Wr,Wu),Wr.prototype[X0]=!0,Wr.prototype.removeEventListener=function(n,e,t,r){tF(this,n,e,t,r)},Wr.prototype.M=function(){if(Wr.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)UD(t[r]);delete n.g[e],n.h--}}this.I=null},Wr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Wr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var wN=Rt.JSON.stringify;function _$(){var n=oF;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var TN,rF=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new v$,n=>n.reset());class v${constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function b$(n){Rt.setTimeout(()=>{throw n},0)}function iF(n,e){TN||function w$(){var n=Rt.Promise.resolve(void 0);TN=function(){n.then(T$)}}(),DN||(TN(),DN=!0),oF.add(n,e)}var DN=!1,oF=new class y${constructor(){this.h=this.g=null}add(e,t){const r=rF.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function T$(){for(var n;n=_$();){try{n.h.call(n.g)}catch(t){b$(t)}var e=rF;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}DN=!1}function jD(n,e){Wr.call(this),this.h=n||1,this.g=e||Rt,this.j=Si(this.lb,this),this.l=Date.now()}function EN(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function IN(n,e,t){if("function"==typeof n)t&&(n=Si(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Si(n.handleEvent,n)}return 2147483647<Number(e)?-1:Rt.setTimeout(n,e||0)}function sF(n){n.g=IN(()=>{n.g=null,n.i&&(n.i=!1,sF(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}hi(jD,Wr),(lt=jD.prototype).ca=!1,lt.R=null,lt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),fi(this,"tick"),this.ca&&(EN(this),this.start()))}},lt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},lt.M=function(){jD.X.M.call(this),EN(this),delete this.g};class D$ extends Wu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:sF(this)}M(){super.M(),this.g&&(Rt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ev(n){Wu.call(this),this.h=n,this.g={}}hi(ev,Wu);var aF=[];function lF(n,e,t,r){Array.isArray(t)||(t&&(aF[0]=t.toString()),t=aF);for(var i=0;i<t.length;i++){var s=QP(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function uF(n){hN(n.g,function(e,t){this.g.hasOwnProperty(t)&&_N(e)},n),n.g={}}function GD(){this.g=!0}function Mg(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function S$(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var c=1;c<i.length;c++)i[c]=""}}}return wN(t)}catch{return e}}(n,t)+(r?" "+r:"")})}ev.prototype.M=function(){ev.X.M.call(this),uF(this)},ev.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},GD.prototype.Aa=function(){this.g=!1},GD.prototype.info=function(){};var gh={},cF=null;function qD(){return cF=cF||new Wr}function dF(n){Ai.call(this,gh.Pa,n)}function tv(n){const e=qD();fi(e,new dF(e))}function hF(n,e){Ai.call(this,gh.STAT_EVENT,n),this.stat=e}function ji(n){const e=qD();fi(e,new hF(e,n))}function fF(n,e){Ai.call(this,gh.Qa,n),this.size=e}function nv(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Rt.setTimeout(function(){n()},e)}gh.Pa="serverreachability",hi(dF,Ai),gh.STAT_EVENT="statevent",hi(hF,Ai),gh.Qa="timingevent",hi(fF,Ai);var zD={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},pF={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function CN(){}function mF(){}CN.prototype.h=null;var MN,rv={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function SN(){Ai.call(this,"d")}function AN(){Ai.call(this,"c")}function WD(){}function iv(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new ev(this),this.O=A$,this.T=new jD(n=aN?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new _F}function _F(){this.i=null,this.g="",this.h=!1}hi(SN,Ai),hi(AN,Ai),hi(WD,CN),WD.prototype.g=function(){return new XMLHttpRequest},WD.prototype.i=function(){return{}},MN=new WD;var A$=45e3,NN={},ZD={};function xN(n,e,t){n.K=1,n.v=QD(Dl(e)),n.s=t,n.P=!0,yF(n,null)}function yF(n,e){n.F=Date.now(),ov(n),n.A=Dl(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),AF(t.i,"t",r),n.C=0,t=n.l.H,n.h=new _F,n.g=QF(n.l,t?e:null,!n.s),0<n.N&&(n.L=new D$(Si(n.La,n,n.g),n.N)),lF(n.S,n.g,"readystatechange",n.ib),e=n.H?KP(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),tv(),function E$(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var c="",h=s.split("&"),g=0;g<h.length;g++){var m=h[g].split("=");if(1<m.length){var v=m[0];m=m[1];var D=v.split("_");c=2<=D.length&&"type"==D[1]?c+(v+"=")+m+"&":c+(v+"=redacted&")}}else c=null;else c=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.U,n.s)}function vF(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function bF(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=M$(n,t),i==ZD){4==e&&(n.o=4,ji(14),r=!1),Mg(n.j,n.m,null,"[Incomplete Response]");break}if(i==NN){n.o=4,ji(15),Mg(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Mg(n.j,n.m,i,null),kN(n,i)}vF(n)&&i!=ZD&&i!=NN&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ji(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),UN(e),e.K=!0,ji(11))):(Mg(n.j,n.m,t,"[Invalid Chunked Response]"),mh(n),sv(n))}function M$(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?ZD:(t=Number(e.substring(t,r)),isNaN(t)?NN:(r+=1)+t>e.length?ZD:(e=e.substr(r,t),n.C=r+t,e))}function ov(n){n.V=Date.now()+n.O,wF(n,n.O)}function wF(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=nv(Si(n.gb,n),e)}function KD(n){n.B&&(Rt.clearTimeout(n.B),n.B=null)}function sv(n){0==n.l.G||n.I||ZF(n.l,n)}function mh(n){KD(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,EN(n.T),uF(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function kN(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||RN(t.h,n)))if(!n.J&&RN(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;iE(t),nE(t)}VN(t),ji(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=nv(Si(t.cb,t),6e3));if(1>=xF(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else yh(t,11)}else if((n.J||t.g==n)&&iE(t),!LD(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let m=i[e];if(t.T=m[0],m=m[1],2==t.G)if("c"==m[0]){t.I=m[1],t.ka=m[2];const v=m[3];null!=v&&(t.ma=v,t.j.info("VER="+t.ma));const D=m[4];null!=D&&(t.Ca=D,t.j.info("SVER="+t.Ca));const S=m[5];null!=S&&"number"==typeof S&&0<S&&(t.J=r=1.5*S,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const A=n.g;if(A){const R=A.g?A.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(R){var s=r.h;s.g||-1==R.indexOf("spdy")&&-1==R.indexOf("quic")&&-1==R.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(ON(s,s.h),s.h=null))}if(r.D){const U=A.g?A.g.getResponseHeader("X-HTTP-Session-Id"):null;U&&(r.za=U,Vn(r.F,r.D,U))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var c=n;if((r=t).sa=JF(r,r.H?r.ka:null,r.V),c.J){kF(r.h,c);var h=c,g=r.J;g&&h.setTimeout(g),h.B&&(KD(h),ov(h)),r.g=c}else zF(r);0<t.i.length&&rE(t)}else"stop"!=m[0]&&"close"!=m[0]||yh(t,7);else 3==t.G&&("stop"==m[0]||"close"==m[0]?"stop"==m[0]?yh(t,7):BN(t):"noop"!=m[0]&&t.l&&t.l.wa(m),t.A=0)}tv()}catch{}}function TF(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(PD(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function x$(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(PD(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function N$(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(PD(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(lt=iv.prototype).setTimeout=function(n){this.O=n},lt.ib=function(n){n=n.target;const e=this.L;e&&3==El(n)?e.l():this.La(n)},lt.La=function(n){try{if(n==this.g)e:{const v=El(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>v)&&(3!=v||aN||this.g&&(this.h.h||this.g.fa()||UF(this.g)))){this.I||4!=v||7==e||tv(),KD(this);var t=this.g.aa();this.Y=t;t:if(vF(this)){var r=UF(this.g);n="";var i=r.length,s=4==El(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){mh(this),sv(this);var c="";break t}this.h.i=new Rt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.fa();if(this.i=200==t,function I$(n,e,t,r,i,s,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+c})}(this.j,this.u,this.A,this.m,this.U,v,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var h,g=this.g;if((h=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!LD(h)){var m=h;break t}}m=null}if(!(t=m)){this.i=!1,this.o=3,ji(12),mh(this),sv(this);break e}Mg(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,kN(this,t)}this.P?(bF(this,v,c),aN&&this.i&&3==v&&(lF(this.S,this.T,"tick",this.hb),this.T.start())):(Mg(this.j,this.m,c,null),kN(this,c)),4==v&&mh(this),this.i&&!this.I&&(4==v?ZF(this.l,this):(this.i=!1,ov(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,ji(12)):(this.o=0,ji(13)),mh(this),sv(this)}}}catch{}},lt.hb=function(){if(this.g){var n=El(this.g),e=this.g.fa();this.C<e.length&&(KD(this),bF(this,n,e),this.i&&4!=n&&ov(this))}},lt.cancel=function(){this.I=!0,mh(this)},lt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function C$(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(tv(),ji(17)),mh(this),this.o=2,sv(this)):wF(this,this.V-n)};var DF=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _h(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof _h){this.h=void 0!==e?e:n.h,YD(this,n.j),this.s=n.s,this.g=n.g,JD(this,n.m),this.l=n.l,e=n.i;var t=new uv;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),EF(this,t),this.o=n.o}else n&&(t=String(n).match(DF))?(this.h=!!e,YD(this,t[1]||"",!0),this.s=av(t[2]||""),this.g=av(t[3]||"",!0),JD(this,t[4]),this.l=av(t[5]||"",!0),EF(this,t[6]||"",!0),this.o=av(t[7]||"")):(this.h=!!e,this.i=new uv(null,this.h))}function Dl(n){return new _h(n)}function YD(n,e,t){n.j=t?av(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function JD(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function EF(n,e,t){e instanceof uv?(n.i=e,function B$(n,e){e&&!n.j&&(Zu(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(CF(this,r),AF(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=lv(e,F$)),n.i=new uv(e,n.h))}function Vn(n,e,t){n.i.set(e,t)}function QD(n){return Vn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function av(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function lv(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,R$),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function R$(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}_h.prototype.toString=function(){var n=[],e=this.j;e&&n.push(lv(e,IF,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(lv(e,IF,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(lv(t,"/"==t.charAt(0)?P$:O$,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",lv(t,L$)),n.join("")};var IF=/[#\/\?@]/g,O$=/[#\?:]/g,P$=/[#\?]/g,F$=/[#\?@]/g,L$=/#/g;function uv(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Zu(n){n.g||(n.g=new Map,n.h=0,n.i&&function k$(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function CF(n,e){Zu(n),e=Ng(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function SF(n,e){return Zu(n),e=Ng(n,e),n.g.has(e)}function AF(n,e,t){CF(n,e),0<t.length&&(n.i=null,n.g.set(Ng(n,e),iN(t)),n.h+=t.length)}function Ng(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function MF(n){this.l=n||U$,n=Rt.PerformanceNavigationTiming?0<(n=Rt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Rt.g&&Rt.g.Ga&&Rt.g.Ga()&&Rt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(lt=uv.prototype).add=function(n,e){Zu(this),this.i=null,n=Ng(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},lt.forEach=function(n,e){Zu(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},lt.oa=function(){Zu(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},lt.W=function(n){Zu(this);let e=[];if("string"==typeof n)SF(this,n)&&(e=e.concat(this.g.get(Ng(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},lt.set=function(n,e){return Zu(this),this.i=null,SF(this,n=Ng(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},lt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},lt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),c=this.W(r);for(r=0;r<c.length;r++){var i=s;""!==c[r]&&(i+="="+encodeURIComponent(String(c[r]))),n.push(i)}}return this.i=n.join("&")};var U$=10;function NF(n){return!!n.h||!!n.g&&n.g.size>=n.j}function xF(n){return n.h?1:n.g?n.g.size:0}function RN(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function ON(n,e){n.g?n.g.add(e):n.h=e}function kF(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function RF(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return iN(n.i)}function PN(){}function H$(){this.g=new PN}function $$(n,e,t){const r=t||"";try{TF(n,function(i,s){let c=i;J0(i)&&(c=wN(i)),e.push(r+s+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function XD(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function cv(n){this.l=n.ac||null,this.j=n.jb||!1}function eE(n,e){Wr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=FN,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}MF.prototype.cancel=function(){if(this.i=RF(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},PN.prototype.stringify=function(n){return Rt.JSON.stringify(n,void 0)},PN.prototype.parse=function(n){return Rt.JSON.parse(n,void 0)},hi(cv,CN),cv.prototype.g=function(){return new eE(this.l,this.j)},cv.prototype.i=function(n){return function(){return n}}({}),hi(eE,Wr);var FN=0;function OF(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function dv(n){n.readyState=4,n.l=null,n.j=null,n.A=null,hv(n)}function hv(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(lt=eE.prototype).open=function(n,e){if(this.readyState!=FN)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,hv(this)},lt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Rt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},lt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,dv(this)),this.readyState=FN},lt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,hv(this)),this.g&&(this.readyState=3,hv(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Rt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;OF(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},lt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?dv(this):hv(this),3==this.readyState&&OF(this)}},lt.Va=function(n){this.g&&(this.response=this.responseText=n,dv(this))},lt.Ua=function(n){this.g&&(this.response=n,dv(this))},lt.ga=function(){this.g&&dv(this)},lt.setRequestHeader=function(n,e){this.v.append(n,e)},lt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},lt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(eE.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var G$=Rt.JSON.parse;function or(n){Wr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=PF,this.K=this.L=!1}hi(or,Wr);var PF="",q$=/^https?$/i,z$=["POST","PUT"];function FF(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,LF(n),tE(n)}function LF(n){n.D||(n.D=!0,fi(n,"complete"),fi(n,"error"))}function BF(n){if(n.h&&typeof nN<"u"&&(!n.C[1]||4!=El(n)||2!=n.aa()))if(n.v&&4==El(n))IN(n.Ha,0,n);else if(fi(n,"readystatechange"),4==El(n)){n.h=!1;try{const h=n.aa();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===h){var i=String(n.H).match(DF)[1]||null;if(!i&&Rt.self&&Rt.self.location){var s=Rt.self.location.protocol;i=s.substr(0,s.length-1)}r=!q$.test(i?i.toLowerCase():"")}t=r}if(t)fi(n,"complete"),fi(n,"success");else{n.m=6;try{var c=2<El(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.aa()+"]",LF(n)}}finally{tE(n)}}}function tE(n,e){if(n.g){VF(n);const t=n.g,r=n.C[0]?OD:null;n.g=null,n.C=null,e||fi(n,"ready");try{t.onreadystatechange=r}catch{}}}function VF(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Rt.clearTimeout(n.A),n.A=null)}function El(n){return n.g?n.g.readyState:0}function UF(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case PF:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function HF(n){let e="";return hN(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function LN(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=HF(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Vn(n,e,t))}function fv(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function $F(n){this.Ca=0,this.i=[],this.j=new GD,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=fv("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=fv("baseRetryDelayMs",5e3,n),this.bb=fv("retryDelaySeedMs",1e4,n),this.$a=fv("forwardChannelMaxRetries",2,n),this.ta=fv("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new MF(n&&n.concurrentRequestLimit),this.Fa=new H$,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function BN(n){if(jF(n),3==n.G){var e=n.U++,t=Dl(n.F);Vn(t,"SID",n.I),Vn(t,"RID",e),Vn(t,"TYPE","terminate"),pv(n,t),(e=new iv(n,n.j,e,void 0)).K=2,e.v=QD(Dl(t)),t=!1,Rt.navigator&&Rt.navigator.sendBeacon&&(t=Rt.navigator.sendBeacon(e.v.toString(),"")),!t&&Rt.Image&&((new Image).src=e.v,t=!0),t||(e.g=QF(e.l,null),e.g.da(e.v)),e.F=Date.now(),ov(e)}YF(n)}function nE(n){n.g&&(UN(n),n.g.cancel(),n.g=null)}function jF(n){nE(n),n.u&&(Rt.clearTimeout(n.u),n.u=null),iE(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Rt.clearTimeout(n.m),n.m=null)}function rE(n){NF(n.h)||n.m||(n.m=!0,iF(n.Ja,n),n.C=0)}function GF(n,e){var t;t=e?e.m:n.U++;const r=Dl(n.F);Vn(r,"SID",n.I),Vn(r,"RID",t),Vn(r,"AID",n.T),pv(n,r),n.o&&n.s&&LN(r,n.o,n.s),t=new iv(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=qF(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),ON(n.h,t),xN(t,r,e)}function pv(n,e){n.ia&&hN(n.ia,function(t,r){Vn(e,r,t)}),n.l&&TF({},function(t,r){Vn(e,r,t)})}function qF(n,e,t){t=Math.min(n.i.length,t);var r=n.l?Si(n.l.Ra,n.l,n):null;e:{var i=n.i;let s=-1;for(;;){const c=["count="+t];-1==s?0<t?(s=i[0].h,c.push("ofs="+s)):s=0:c.push("ofs="+s);let h=!0;for(let g=0;g<t;g++){let m=i[g].h;const v=i[g].g;if(m-=s,0>m)s=Math.max(0,i[g].h-100),h=!1;else try{$$(v,c,"req"+m+"_")}catch{r&&r(v)}}if(h){r=c.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function zF(n){n.g||n.u||(n.Z=1,iF(n.Ia,n),n.A=0)}function VN(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=nv(Si(n.Ia,n),KF(n,n.A)),n.A++,0))}function UN(n){null!=n.B&&(Rt.clearTimeout(n.B),n.B=null)}function WF(n){n.g=new iv(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Dl(n.sa);Vn(e,"RID","rpc"),Vn(e,"SID",n.I),Vn(e,"CI",n.L?"0":"1"),Vn(e,"AID",n.T),Vn(e,"TYPE","xmlhttp"),pv(n,e),n.o&&n.s&&LN(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=QD(Dl(e)),t.s=null,t.P=!0,yF(t,n)}function iE(n){null!=n.v&&(Rt.clearTimeout(n.v),n.v=null)}function ZF(n,e){var t=null;if(n.g==e){iE(n),UN(n),n.g=null;var r=2}else{if(!RN(n.h,e))return;t=e.D,kF(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;fi(r=qD(),new fF(r,t)),rE(n)}else zF(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function Z$(n,e){return!(xF(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=nv(Si(n.Ja,n,e),KF(n,n.C)),n.C++,0)))}(n,e)||2==r&&VN(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:yh(n,5);break;case 4:yh(n,10);break;case 3:yh(n,6);break;default:yh(n,2)}}function KF(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function yh(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=Si(n.kb,n);t||(t=new _h("//www.google.com/images/cleardot.gif"),Rt.location&&"http"==Rt.location.protocol||YD(t,"https"),QD(t)),function j$(n,e){const t=new GD;if(Rt.Image){const r=new Image;r.onload=FD(XD,t,r,"TestLoadImage: loaded",!0,e),r.onerror=FD(XD,t,r,"TestLoadImage: error",!1,e),r.onabort=FD(XD,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=FD(XD,t,r,"TestLoadImage: timeout",!1,e),Rt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else ji(2);n.G=0,n.l&&n.l.va(e),YF(n),jF(n)}function YF(n){if(n.G=0,n.la=[],n.l){const e=RF(n.h);(0!=e.length||0!=n.i.length)&&(jP(n.la,e),jP(n.la,n.i),n.h.i.length=0,iN(n.i),n.i.length=0),n.l.ua()}}function JF(n,e,t){var r=t instanceof _h?Dl(t):new _h(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),JD(r,r.m);else{var i=Rt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new _h(null,void 0);r&&YD(s,r),e&&(s.g=e),i&&JD(s,i),t&&(s.l=t),r=s}return e=n.za,(t=n.D)&&e&&Vn(r,t,e),Vn(r,"VER",n.ma),pv(n,r),r}function QF(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new or(t&&n.Da&&!n.ra?new cv({jb:!0}):n.ra)).Ka(n.H),e}function XF(){}function oE(){if(Ag&&!(10<=Number(d$)))throw Error("Environmental error: no available transport.")}function xo(n,e){Wr.call(this),this.g=new $F(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!LD(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!LD(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new xg(this)}function eL(n){SN.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function tL(){AN.call(this),this.status=1}function xg(n){this.g=n}(lt=or.prototype).Ka=function(n){this.L=n},lt.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():MN.g(),this.C=function gF(n){return n.h||(n.h=n.i())}(this.u?this.u:MN),this.g.onreadystatechange=Si(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void FF(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=Rt.FormData&&n instanceof Rt.FormData,!(0<=$P(z$,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,c]of t)this.g.setRequestHeader(s,c);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{VF(this),0<this.B&&((this.K=function W$(n){return Ag&&function c$(){return function s$(n){var e=u$;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=GP(String(VD)).split("."),t=GP("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",s=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;n=oN(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||oN(0==i[2].length,0==s[2].length)||oN(i[2],s[2]),i=i[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Si(this.qa,this)):this.A=IN(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){FF(this,s)}},lt.qa=function(){typeof nN<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,fi(this,"timeout"),this.abort(8))},lt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,fi(this,"complete"),fi(this,"abort"),tE(this))},lt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),tE(this,!0)),or.X.M.call(this)},lt.Ha=function(){this.s||(this.F||this.v||this.l?BF(this):this.fb())},lt.fb=function(){BF(this)},lt.aa=function(){try{return 2<El(this)?this.g.status:-1}catch{return-1}},lt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},lt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),G$(e)}},lt.Ea=function(){return this.m},lt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(lt=$F.prototype).ma=8,lt.G=1,lt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new iv(this,this.j,n,void 0);let s=this.s;if(this.S&&(s?(s=KP(s),JP(s,this.S)):s=this.S),null!==this.o||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=qF(this,i,e),Vn(t=Dl(this.F),"RID",n),Vn(t,"CVER",22),this.D&&Vn(t,"X-HTTP-Session-Id",this.D),pv(this,t),s&&(this.N?e="headers="+encodeURIComponent(String(HF(s)))+"&"+e:this.o&&LN(t,this.o,s)),ON(this.h,i),this.Ya&&Vn(t,"TYPE","init"),this.O?(Vn(t,"$req",e),Vn(t,"SID","null"),i.Z=!0,xN(i,t,null)):xN(i,t,e),this.G=2}}else 3==this.G&&(n?GF(this,n):0==this.i.length||NF(this.h)||GF(this))},lt.Ia=function(){if(this.u=null,WF(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=nv(Si(this.eb,this),n)}},lt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,ji(10),nE(this),WF(this))},lt.cb=function(){null!=this.v&&(this.v=null,nE(this),VN(this),ji(19))},lt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),ji(2)):(this.j.info("Failed to ping google.com"),ji(1))},(lt=XF.prototype).xa=function(){},lt.wa=function(){},lt.va=function(){},lt.ua=function(){},lt.Ra=function(){},oE.prototype.g=function(n,e){return new xo(n,e)},hi(xo,Wr),xo.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;ji(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=JF(n,null,n.V),rE(n)},xo.prototype.close=function(){BN(this.g)},xo.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=wN(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&rE(e)},xo.prototype.M=function(){this.g.l=null,delete this.j,BN(this.g),delete this.g,xo.X.M.call(this)},hi(eL,SN),hi(tL,AN),hi(xg,XF),xg.prototype.xa=function(){fi(this.g,"a")},xg.prototype.wa=function(n){fi(this.g,new eL(n))},xg.prototype.va=function(n){fi(this.g,new tL)},xg.prototype.ua=function(){fi(this.g,"b")},oE.prototype.createWebChannel=oE.prototype.g,xo.prototype.send=xo.prototype.u,xo.prototype.open=xo.prototype.m,xo.prototype.close=xo.prototype.close,zD.NO_ERROR=0,zD.TIMEOUT=8,zD.HTTP_ERROR=6,pF.COMPLETE="complete",mF.EventType=rv,rv.OPEN="a",rv.CLOSE="b",rv.ERROR="c",rv.MESSAGE="d",Wr.prototype.listen=Wr.prototype.N,or.prototype.listenOnce=or.prototype.O,or.prototype.getLastError=or.prototype.Oa,or.prototype.getLastErrorCode=or.prototype.Ea,or.prototype.getStatus=or.prototype.aa,or.prototype.getResponseJson=or.prototype.Sa,or.prototype.getResponseText=or.prototype.fa,or.prototype.send=or.prototype.da,or.prototype.setWithCredentials=or.prototype.Ka;var K$=Tl.createWebChannelTransport=function(){return new oE},Y$=Tl.getStatEventTarget=function(){return qD()},HN=Tl.ErrorCode=zD,J$=Tl.EventType=pF,Q$=Tl.Event=gh,nL=Tl.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},X$=Tl.FetchXmlHttpFactory=cv,sE=Tl.WebChannel=mF,e6=Tl.XhrIo=or;const rL="@firebase/firestore";class Zr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zr.UNAUTHENTICATED=new Zr(null),Zr.GOOGLE_CREDENTIALS=new Zr("google-credentials-uid"),Zr.FIRST_PARTY=new Zr("first-party-uid"),Zr.MOCK_USER=new Zr("mock-user");let kg="9.18.0";const Ku=new Jo.Yd("@firebase/firestore");function $N(){return Ku.logLevel}function Se(n,...e){if(Ku.logLevel<=Jo.in.DEBUG){const t=e.map(jN);Ku.debug(`Firestore (${kg}): ${n}`,...t)}}function gr(n,...e){if(Ku.logLevel<=Jo.in.ERROR){const t=e.map(jN);Ku.error(`Firestore (${kg}): ${n}`,...t)}}function Rg(n,...e){if(Ku.logLevel<=Jo.in.WARN){const t=e.map(jN);Ku.warn(`Firestore (${kg}): ${n}`,...t)}}function jN(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function et(n="Unexpected state"){const e=`FIRESTORE (${kg}) INTERNAL ASSERTION FAILED: `+n;throw gr(e),new Error(e)}function ut(n,e){n||et()}function $e(n,e){return n}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends Le.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Br{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class iL{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class t6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Zr.UNAUTHENTICATED))}shutdown(){}}class n6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class r6{constructor(e){this.t=e,this.currentUser=Zr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=m=>this.i!==i?(i=this.i,t(m)):Promise.resolve();let c=new Br;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Br,e.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const m=c;e.enqueueRetryable((0,H.Z)(function*(){yield m.promise,yield s(r.currentUser)}))},g=m=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(m=>g(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?g(m):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Br)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ut("string"==typeof r.accessToken),new iL(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ut(null===e||"string"==typeof e),new Zr(e)}}class i6{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=Zr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(ut(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class o6{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new i6(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Zr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class oL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class s6{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=s=>{null!=s.error&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.A;return this.A=s.token,Se("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ut("string"==typeof t.token),this.A=t.token,new oL(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function a6(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class sL{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=a6(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function Ot(n,e){return n<e?-1:n>e?1:0}function Og(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class Kn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ie(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ie(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ie(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Kn.fromMillis(Date.now())}static fromDate(e){return Kn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Kn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ot(this.nanoseconds,e.nanoseconds):Ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class gt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new gt(e)}static min(){return new gt(new Kn(0,0))}static max(){return new gt(new Kn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class gv{constructor(e,t,r){void 0===t?t=0:t>e.length&&et(),void 0===r?r=e.length-t:r>e.length-t&&et(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===gv.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof gv?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),c=t.get(i);if(s<c)return-1;if(s>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class en extends gv{construct(e,t,r){return new en(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ie(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new en(t)}static emptyPath(){return new en([])}}const l6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mr extends gv{construct(e,t,r){return new mr(e,t,r)}static isValidIdentifier(e){return l6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new mr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new Ie(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const h=e[i];if("\\"===h){if(i+1===e.length)throw new Ie(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[i+1];if("\\"!==g&&"."!==g&&"`"!==g)throw new Ie(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,i+=2}else"`"===h?(c=!c,i++):"."!==h||c?(r+=h,i++):(s(),i++)}if(s(),c)throw new Ie(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mr(t)}static emptyPath(){return new mr([])}}class He{constructor(e){this.path=e}static fromPath(e){return new He(en.fromString(e))}static fromName(e){return new He(en.fromString(e).popFirst(5))}static empty(){return new He(en.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===en.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return en.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new He(new en(e.slice()))}}function uL(n){return new ko(n.readTime,n.key,-1)}class ko{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ko(gt.min(),He.empty(),-1)}static max(){return new ko(gt.max(),He.empty(),-1)}}function qN(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=He.comparator(n.documentKey,e.documentKey),0!==t?t:Ot(n.largestBatchId,e.largestBatchId))}const cL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function Yu(n){return zN.apply(this,arguments)}function zN(){return zN=(0,H.Z)(function*(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==cL)throw n;Se("LocalStore","Unexpectedly lost primary lease")}),zN.apply(this,arguments)}class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Q((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Q?t:Q.resolve(t)}catch(t){return Q.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.reject(t)}static resolve(e){return new Q((t,r)=>{t(e)})}static reject(e){return new Q((t,r)=>{r(e)})}static waitFor(e){return new Q((t,r)=>{let i=0,s=0,c=!1;e.forEach(h=>{++i,h.next(()=>{++s,c&&s===i&&t()},g=>r(g))}),c=!0,s===i&&t()})}static or(e){let t=Q.resolve(!1);for(const r of e)t=t.next(i=>i?Q.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new Q((r,i)=>{const s=e.length,c=new Array(s);let h=0;for(let g=0;g<s;g++){const m=g;t(e[m]).next(v=>{c[m]=v,++h,h===s&&r(c)},v=>i(v))}})}static doWhile(e,t){return new Q((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function Ju(n){return"IndexedDbTransactionError"===n.name}let Ro=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>r.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class y6{constructor(e,t,r,i,s,c,h,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.useFetchStreams=g}}class wh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new wh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof wh&&e.projectId===this.projectId&&e.database===this.database}}function hL(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Th(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function fL(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function yv(n){return null==n}function vv(n){return 0===n&&1/n==-1/0}class v6 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Vr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw i instanceof DOMException?new v6("Invalid base64 string: "+i):i}}(e);return new Vr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Vr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vr.EMPTY_BYTE_STRING=new Vr("");const b6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qu(n){if(ut(!!n),"string"==typeof n){let e=0;const t=b6.exec(n);if(ut(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:sr(n.seconds),nanos:sr(n.nanos)}}function sr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Dh(n){return"string"==typeof n?Vr.fromBase64String(n):Vr.fromUint8Array(n)}function KN(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function gL(n){const e=n.mapValue.fields.__previous_value__;return KN(e)?gL(e):e}function bv(n){const e=Qu(n.mapValue.fields.__local_write_time__.timestampValue);return new Kn(e.seconds,e.nanos)}const Xu_mapValue={fields:{__type__:{stringValue:"__max__"}}};function Eh(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?KN(n)?4:vL(n)?9007199254740991:10:et()}function Na(n,e){if(n===e)return!0;const t=Eh(n);if(t!==Eh(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return bv(n).isEqual(bv(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Qu(r.timestampValue),c=Qu(i.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Dh(n.bytesValue).isEqual(Dh(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return sr(r.geoPointValue.latitude)===sr(i.geoPointValue.latitude)&&sr(r.geoPointValue.longitude)===sr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return sr(r.integerValue)===sr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=sr(r.doubleValue),c=sr(i.doubleValue);return s===c?vv(s)===vv(c):isNaN(s)&&isNaN(c)}return!1}(n,e);case 9:return Og(n.arrayValue.values||[],e.arrayValue.values||[],Na);case 10:return function(r,i){const s=r.mapValue.fields||{},c=i.mapValue.fields||{};if(hL(s)!==hL(c))return!1;for(const h in s)if(s.hasOwnProperty(h)&&(void 0===c[h]||!Na(s[h],c[h])))return!1;return!0}(n,e);default:return et()}var i}function wv(n,e){return void 0!==(n.values||[]).find(t=>Na(t,e))}function ec(n,e){if(n===e)return 0;const t=Eh(n),r=Eh(e);if(t!==r)return Ot(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ot(n.booleanValue,e.booleanValue);case 2:return function(i,s){const c=sr(i.integerValue||i.doubleValue),h=sr(s.integerValue||s.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,e);case 3:return mL(n.timestampValue,e.timestampValue);case 4:return mL(bv(n),bv(e));case 5:return Ot(n.stringValue,e.stringValue);case 6:return function(i,s){const c=Dh(i),h=Dh(s);return c.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const c=i.split("/"),h=s.split("/");for(let g=0;g<c.length&&g<h.length;g++){const m=Ot(c[g],h[g]);if(0!==m)return m}return Ot(c.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const c=Ot(sr(i.latitude),sr(s.latitude));return 0!==c?c:Ot(sr(i.longitude),sr(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const c=i.values||[],h=s.values||[];for(let g=0;g<c.length&&g<h.length;++g){const m=ec(c[g],h[g]);if(m)return m}return Ot(c.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Xu_mapValue&&s===Xu_mapValue)return 0;if(i===Xu_mapValue)return 1;if(s===Xu_mapValue)return-1;const c=i.fields||{},h=Object.keys(c),g=s.fields||{},m=Object.keys(g);h.sort(),m.sort();for(let v=0;v<h.length&&v<m.length;++v){const D=Ot(h[v],m[v]);if(0!==D)return D;const S=ec(c[h[v]],g[m[v]]);if(0!==S)return S}return Ot(h.length,m.length)}(n.mapValue,e.mapValue);default:throw et()}}function mL(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ot(n,e);const t=Qu(n),r=Qu(e),i=Ot(t.seconds,r.seconds);return 0!==i?i:Ot(t.nanos,r.nanos)}function Pg(n){return YN(n)}function YN(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Qu(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Dh(n.bytesValue).toBase64():"referenceValue"in n?He.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const c of r.values||[])s?s=!1:i+=",",i+=YN(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",c=!0;for(const h of i)c?c=!1:s+=",",s+=`${h}:${YN(r.fields[h])}`;return s+"}"}(n.mapValue):et();var e}function JN(n){return!!n&&"integerValue"in n}function Tv(n){return!!n&&"arrayValue"in n}function _L(n){return!!n&&"nullValue"in n}function yL(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function dE(n){return!!n&&"mapValue"in n}function Dv(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Th(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Dv(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Dv(n.arrayValue.values[t]);return e}return Object.assign({},n)}function vL(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class tc{constructor(e,t){this.position=e,this.inclusive=t}}function TL(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],c=n.position[i];if(r=s.field.isKeyField()?He.comparator(He.fromName(c.referenceValue),t.key):ec(c,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function DL(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Na(n.position[t],e.position[t]))return!1;return!0}class EL{}class Yt extends EL{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new D6(e,t,r):"array-contains"===t?new C6(e,r):"in"===t?new NL(e,r):"not-in"===t?new S6(e,r):"array-contains-any"===t?new A6(e,r):new Yt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new E6(e,r):new I6(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ec(t,this.value)):null!==t&&Eh(this.value)===Eh(t)&&this.matchesComparison(ec(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return et()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class _n extends EL{constructor(e,t){super(),this.filters=e,this.op=t,this.ft=null}static create(e,t){return new _n(e,t)}matches(e){return Fg(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ft||(this.ft=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ft}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.dt(t=>t.isInequality());return null!==e?e.field:null}dt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Fg(n){return"and"===n.op}function XN(n){return function IL(n){for(const e of n.filters)if(e instanceof _n)return!1;return!0}(n)&&Fg(n)}function ex(n){if(n instanceof Yt)return n.field.canonicalString()+n.op.toString()+Pg(n.value);if(XN(n))return n.filters.map(e=>ex(e)).join(",");{const e=n.filters.map(t=>ex(t)).join(",");return`${n.op}(${e})`}}function CL(n,e){return n instanceof Yt?(t=n,(r=e)instanceof Yt&&t.op===r.op&&t.field.isEqual(r.field)&&Na(t.value,r.value)):n instanceof _n?function(t,r){return r instanceof _n&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,s,c)=>i&&CL(s,r.filters[c]),!0)}(n,e):void et();var t,r}function AL(n){return n instanceof Yt?`${(e=n).field.canonicalString()} ${e.op} ${Pg(e.value)}`:n instanceof _n?function(e){return e.op.toString()+" {"+e.getFilters().map(AL).join(" ,")+"}"}(n):"Filter";var e}class D6 extends Yt{constructor(e,t,r){super(e,t,r),this.key=He.fromName(r.referenceValue)}matches(e){const t=He.comparator(e.key,this.key);return this.matchesComparison(t)}}class E6 extends Yt{constructor(e,t){super(e,"in",t),this.keys=ML(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class I6 extends Yt{constructor(e,t){super(e,"not-in",t),this.keys=ML(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ML(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>He.fromName(r.referenceValue))}class C6 extends Yt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Tv(t)&&wv(t.arrayValue,this.value)}}class NL extends Yt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&wv(this.value.arrayValue,t)}}class S6 extends Yt{constructor(e,t){super(e,"not-in",t)}matches(e){if(wv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!wv(this.value.arrayValue,t)}}class A6 extends Yt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Tv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>wv(this.value.arrayValue,r))}}class Lg{constructor(e,t="asc"){this.field=e,this.dir=t}}function M6(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class ar{constructor(e,t){this.comparator=e,this.root=t||pi.EMPTY}insert(e,t){return new ar(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,pi.BLACK,null,null))}remove(e){return new ar(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hE(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hE(this.root,e,this.comparator,!1)}getReverseIterator(){return new hE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hE(this.root,e,this.comparator,!0)}}class hE{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pi{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??pi.RED,this.left=i??pi.EMPTY,this.right=s??pi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new pi(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return pi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return pi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw et();const e=this.left.check();if(e!==this.right.check())throw et();return e+(this.isRed()?0:1)}}pi.EMPTY=null,pi.RED=!0,pi.BLACK=!1,pi.EMPTY=new class{constructor(){this.size=0}get key(){throw et()}get value(){throw et()}get color(){throw et()}get left(){throw et()}get right(){throw et()}copy(n,e,t,r,i){return this}insert(n,e,t){return new pi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class bn{constructor(e){this.comparator=e,this.data=new ar(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new xL(this.data.getIterator())}getIteratorFrom(e){return new xL(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof bn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new bn(this.comparator);return t.data=e,t}}class xL{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ao{constructor(e){this.fields=e,e.sort(mr.comparator)}static empty(){return new ao([])}unionWith(e){let t=new bn(mr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ao(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Og(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Kr{constructor(e){this.value=e}static empty(){return new Kr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!dE(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dv(t)}setAll(e){let t=mr.emptyPath(),r={},i=[];e.forEach((c,h)=>{if(!t.isImmediateParentOf(h)){const g=this.getFieldsMap(t);this.applyChanges(g,r,i),r={},i=[],t=h.popLast()}c?r[h.lastSegment()]=Dv(c):i.push(h.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());dE(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Na(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];dE(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Th(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Kr(Dv(this.value))}}function kL(n){const e=[];return Th(n.fields,(t,r)=>{const i=new mr([t]);if(dE(r)){const s=kL(r.mapValue).fields;if(0===s.length)e.push(i);else for(const c of s)e.push(i.child(c))}else e.push(i)}),new ao(e)}class On{constructor(e,t,r,i,s,c,h){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=c,this.documentState=h}static newInvalidDocument(e){return new On(e,0,gt.min(),gt.min(),gt.min(),Kr.empty(),0)}static newFoundDocument(e,t,r,i){return new On(e,1,t,gt.min(),r,i,0)}static newNoDocument(e,t){return new On(e,2,t,gt.min(),gt.min(),Kr.empty(),0)}static newUnknownDocument(e,t){return new On(e,3,t,gt.min(),gt.min(),Kr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(gt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof On&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new On(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class N6{constructor(e,t=null,r=[],i=[],s=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=c,this.endAt=h,this._t=null}}function tx(n,e=null,t=[],r=[],i=null,s=null,c=null){return new N6(n,e,t,r,i,s,c)}function Ch(n){const e=$e(n);if(null===e._t){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>ex(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),yv(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Pg(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Pg(r)).join(",")),e._t=t}return e._t}function Ev(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!M6(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!CL(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!DL(n.startAt,e.startAt)&&DL(n.endAt,e.endAt)}function fE(n){return He.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Il{constructor(e,t=null,r=[],i=[],s=null,c="F",h=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=c,this.startAt=h,this.endAt=g,this.wt=null,this.gt=null}}function Vg(n){return new Il(n)}function FL(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Sh(n){const e=$e(n);if(null===e.wt){e.wt=[];const t=function gE(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}(e),r=function nx(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new Lg(t)),e.wt.push(new Lg(mr.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Lg(mr.keyField(),s))}}}return e.wt}function Gi(n){const e=$e(n);if(!e.gt)if("F"===e.limitType)e.gt=tx(e.path,e.collectionGroup,Sh(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Sh(e))t.push(new Lg(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new tc(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new tc(e.startAt.position,e.startAt.inclusive):null;e.gt=tx(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.gt}function mE(n,e,t){return new Il(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Iv(n,e){return Ev(Gi(n),Gi(e))&&n.limitType===e.limitType}function LL(n){return`${Ch(Gi(n))}|lt:${n.limitType}`}function ox(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>AL(r)).join(", ")}]`),yv(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Pg(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Pg(r)).join(",")),`Target(${t})`}(Gi(n))}; limitType=${n.limitType})`}function Cv(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):He.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Sh(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,c){const h=TL(i,s,c);return i.inclusive?h<=0:h<0}(t.startAt,Sh(t),r)||t.endAt&&!function(i,s,c){const h=TL(i,s,c);return i.inclusive?h>=0:h>0}(t.endAt,Sh(t),r)));var t,r}function VL(n){return(e,t)=>{let r=!1;for(const i of Sh(n)){const s=x6(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function x6(n,e,t){const r=n.field.isKeyField()?He.comparator(e.key,t.key):function(i,s,c){const h=s.data.field(i),g=c.data.field(i);return null!==h&&null!==g?ec(h,g):et()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return et()}}function UL(n,e){if(n.yt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vv(e)?"-0":e}}function HL(n){return{integerValue:""+n}}function $L(n,e){return function pL(n){return"number"==typeof n&&Number.isInteger(n)&&!vv(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?HL(e):UL(n,e)}class _E{constructor(){this._=void 0}}function k6(n,e,t){return n instanceof Ug?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof Ah?GL(n,e):n instanceof Mh?qL(n,e):function(r,i){const s=jL(r,i),c=zL(s)+zL(r.It);return JN(s)&&JN(r.It)?HL(c):UL(r.Tt,c)}(n,e)}function R6(n,e,t){return n instanceof Ah?GL(n,e):n instanceof Mh?qL(n,e):t}function jL(n,e){return n instanceof Hg?JN(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Ug extends _E{}class Ah extends _E{constructor(e){super(),this.elements=e}}function GL(n,e){const t=WL(e);for(const r of n.elements)t.some(i=>Na(i,r))||t.push(r);return{arrayValue:{values:t}}}class Mh extends _E{constructor(e){super(),this.elements=e}}function qL(n,e){let t=WL(e);for(const r of n.elements)t=t.filter(i=>!Na(i,r));return{arrayValue:{values:t}}}class Hg extends _E{constructor(e,t){super(),this.Tt=e,this.It=t}}function zL(n){return sr(n.integerValue||n.doubleValue)}function WL(n){return Tv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class P6{constructor(e,t){this.version=e,this.transformResults=t}}class Un{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Un}static exists(e){return new Un(void 0,e)}static updateTime(e){return new Un(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yE(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class vE{}function ZL(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new jg(n.key,Un.none()):new $g(n.key,n.data,Un.none());{const t=n.data,r=Kr.empty();let i=new bn(mr.comparator);for(let s of e.fields)if(!i.has(s)){let c=t.field(s);null===c&&s.length>1&&(s=s.popLast(),c=t.field(s)),null===c?r.delete(s):r.set(s,c),i=i.add(s)}return new Cl(n.key,r,new ao(i.toArray()),Un.none())}}function F6(n,e,t){n instanceof $g?function(r,i,s){const c=r.value.clone(),h=JL(r.fieldTransforms,i,s.transformResults);c.setAll(h),i.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Cl?function(r,i,s){if(!yE(r.precondition,i))return void i.convertToUnknownDocument(s.version);const c=JL(r.fieldTransforms,i,s.transformResults),h=i.data;h.setAll(YL(r)),h.setAll(c),i.convertToFoundDocument(s.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Av(n,e,t,r){return n instanceof $g?function(i,s,c,h){if(!yE(i.precondition,s))return c;const g=i.value.clone(),m=QL(i.fieldTransforms,h,s);return g.setAll(m),s.convertToFoundDocument(s.version,g).setHasLocalMutations(),null}(n,e,t,r):n instanceof Cl?function(i,s,c,h){if(!yE(i.precondition,s))return c;const g=QL(i.fieldTransforms,h,s),m=s.data;return m.setAll(YL(i)),m.setAll(g),s.convertToFoundDocument(s.version,m).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(v=>v.field))}(n,e,t,r):(c=t,yE(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c);var s,c}function L6(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=jL(r.transform,i||null);null!=s&&(null===t&&(t=Kr.empty()),t.set(r.field,s))}return t||null}function KL(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Og(t,r,(i,s)=>function O6(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Ah&&r instanceof Ah||t instanceof Mh&&r instanceof Mh?Og(t.elements,r.elements,Na):t instanceof Hg&&r instanceof Hg?Na(t.It,r.It):t instanceof Ug&&r instanceof Ug);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class $g extends vE{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Cl extends vE{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function YL(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function JL(n,e,t){const r=new Map;ut(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],c=s.transform,h=e.data.field(s.field);r.set(s.field,R6(c,h,t[i]))}return r}function QL(n,e,t){const r=new Map;for(const i of n){const s=i.transform,c=t.data.field(i.field);r.set(i.field,k6(s,c,e))}return r}class jg extends vE{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sx extends vE{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class B6{constructor(e){this.count=e}}var Ar,tn;function XL(n){switch(n){default:return et();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0}}function e2(n){if(void 0===n)return gr("GRPC error has no .code"),ne.UNKNOWN;switch(n){case Ar.OK:return ne.OK;case Ar.CANCELLED:return ne.CANCELLED;case Ar.UNKNOWN:return ne.UNKNOWN;case Ar.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Ar.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Ar.INTERNAL:return ne.INTERNAL;case Ar.UNAVAILABLE:return ne.UNAVAILABLE;case Ar.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Ar.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Ar.NOT_FOUND:return ne.NOT_FOUND;case Ar.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Ar.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Ar.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Ar.ABORTED:return ne.ABORTED;case Ar.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Ar.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Ar.DATA_LOSS:return ne.DATA_LOSS;default:return et()}}(tn=Ar||(Ar={}))[tn.OK=0]="OK",tn[tn.CANCELLED=1]="CANCELLED",tn[tn.UNKNOWN=2]="UNKNOWN",tn[tn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tn[tn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tn[tn.NOT_FOUND=5]="NOT_FOUND",tn[tn.ALREADY_EXISTS=6]="ALREADY_EXISTS",tn[tn.PERMISSION_DENIED=7]="PERMISSION_DENIED",tn[tn.UNAUTHENTICATED=16]="UNAUTHENTICATED",tn[tn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tn[tn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tn[tn.ABORTED=10]="ABORTED",tn[tn.OUT_OF_RANGE=11]="OUT_OF_RANGE",tn[tn.UNIMPLEMENTED=12]="UNIMPLEMENTED",tn[tn.INTERNAL=13]="INTERNAL",tn[tn.UNAVAILABLE=14]="UNAVAILABLE",tn[tn.DATA_LOSS=15]="DATA_LOSS";class nc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Th(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return fL(this.inner)}size(){return this.innerSize}}const V6=new ar(He.comparator);function lo(){return V6}const t2=new ar(He.comparator);function Mv(...n){let e=t2;for(const t of n)e=e.insert(t.key,t);return e}function n2(n){let e=t2;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function xa(){return Nv()}function r2(){return Nv()}function Nv(){return new nc(n=>n.toString(),(n,e)=>n.isEqual(e))}const U6=new ar(He.comparator),H6=new bn(He.comparator);function Lt(...n){let e=H6;for(const t of n)e=e.add(t);return e}const $6=new bn(Ot);function bE(){return $6}class xv{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,kv.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new xv(gt.min(),i,bE(),lo(),Lt())}}class kv{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new kv(r,t,Lt(),Lt(),Lt())}}class wE{constructor(e,t,r,i){this.Et=e,this.removedTargetIds=t,this.key=r,this.At=i}}class i2{constructor(e,t){this.targetId=e,this.Rt=t}}class o2{constructor(e,t,r=Vr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class s2{constructor(){this.Pt=0,this.vt=l2(),this.bt=Vr.EMPTY_BYTE_STRING,this.Vt=!1,this.St=!0}get current(){return this.Vt}get resumeToken(){return this.bt}get Dt(){return 0!==this.Pt}get Ct(){return this.St}xt(e){e.approximateByteSize()>0&&(this.St=!0,this.bt=e)}Nt(){let e=Lt(),t=Lt(),r=Lt();return this.vt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:et()}}),new kv(this.bt,this.Vt,e,t,r)}kt(){this.St=!1,this.vt=l2()}$t(e,t){this.St=!0,this.vt=this.vt.insert(e,t)}Mt(e){this.St=!0,this.vt=this.vt.remove(e)}Ot(){this.Pt+=1}Ft(){this.Pt-=1}Bt(){this.St=!0,this.Vt=!0}}class j6{constructor(e){this.Lt=e,this.qt=new Map,this.Ut=lo(),this.Kt=a2(),this.Gt=new bn(Ot)}Qt(e){for(const t of e.Et)e.At&&e.At.isFoundDocument()?this.jt(t,e.At):this.zt(t,e.key,e.At);for(const t of e.removedTargetIds)this.zt(t,e.key,e.At)}Wt(e){this.forEachTarget(e,t=>{const r=this.Ht(t);switch(e.state){case 0:this.Jt(t)&&r.xt(e.resumeToken);break;case 1:r.Ft(),r.Dt||r.kt(),r.xt(e.resumeToken);break;case 2:r.Ft(),r.Dt||this.removeTarget(t);break;case 3:this.Jt(t)&&(r.Bt(),r.xt(e.resumeToken));break;case 4:this.Jt(t)&&(this.Yt(t),r.xt(e.resumeToken));break;default:et()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qt.forEach((r,i)=>{this.Jt(i)&&t(i)})}Zt(e){const t=e.targetId,r=e.Rt.count,i=this.Xt(t);if(i){const s=i.target;if(fE(s))if(0===r){const c=new He(s.path);this.zt(t,c,On.newNoDocument(c,gt.min()))}else ut(1===r);else this.te(t)!==r&&(this.Yt(t),this.Gt=this.Gt.add(t))}}ee(e){const t=new Map;this.qt.forEach((s,c)=>{const h=this.Xt(c);if(h){if(s.current&&fE(h.target)){const g=new He(h.target.path);null!==this.Ut.get(g)||this.ne(c,g)||this.zt(c,g,On.newNoDocument(g,e))}s.Ct&&(t.set(c,s.Nt()),s.kt())}});let r=Lt();this.Kt.forEach((s,c)=>{let h=!0;c.forEachWhile(g=>{const m=this.Xt(g);return!m||2===m.purpose||(h=!1,!1)}),h&&(r=r.add(s))}),this.Ut.forEach((s,c)=>c.setReadTime(e));const i=new xv(e,t,this.Gt,this.Ut,r);return this.Ut=lo(),this.Kt=a2(),this.Gt=new bn(Ot),i}jt(e,t){if(!this.Jt(e))return;const r=this.ne(e,t.key)?2:0;this.Ht(e).$t(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.Kt=this.Kt.insert(t.key,this.se(t.key).add(e))}zt(e,t,r){if(!this.Jt(e))return;const i=this.Ht(e);this.ne(e,t)?i.$t(t,1):i.Mt(t),this.Kt=this.Kt.insert(t,this.se(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.qt.delete(e)}te(e){const t=this.Ht(e).Nt();return this.Lt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Ht(e).Ot()}Ht(e){let t=this.qt.get(e);return t||(t=new s2,this.qt.set(e,t)),t}se(e){let t=this.Kt.get(e);return t||(t=new bn(Ot),this.Kt=this.Kt.insert(e,t)),t}Jt(e){const t=null!==this.Xt(e);return t||Se("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.qt.get(e);return t&&t.Dt?null:this.Lt.ie(e)}Yt(e){this.qt.set(e,new s2),this.Lt.getRemoteKeysForTarget(e).forEach(t=>{this.zt(e,t,null)})}ne(e,t){return this.Lt.getRemoteKeysForTarget(e).has(t)}}function a2(){return new ar(He.comparator)}function l2(){return new ar(He.comparator)}const G6={asc:"ASCENDING",desc:"DESCENDING"},q6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},z6={and:"AND",or:"OR"};class W6{constructor(e,t){this.databaseId=e,this.yt=t}}function Gg(n,e){return n.yt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function u2(n,e){return n.yt?e.toBase64():e.toUint8Array()}function Z6(n,e){return Gg(n,e.toTimestamp())}function _r(n){return ut(!!n),gt.fromTimestamp(function(e){const t=Qu(e);return new Kn(t.seconds,t.nanos)}(n))}function ax(n,e){return(t=n,new en(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function c2(n){const e=en.fromString(n);return ut(v2(e)),e}function Rv(n,e){return ax(n.databaseId,e.path)}function ka(n,e){const t=c2(e);if(t.get(1)!==n.databaseId.projectId)throw new Ie(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ie(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new He(h2(t))}function lx(n,e){return ax(n.databaseId,e)}function Ov(n){return new en(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function h2(n){return ut(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function f2(n,e,t){return{name:Rv(n,e),fields:t.value.mapValue.fields}}function g2(n,e){return{documents:[lx(n,e.path)]}}function cx(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=lx(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=lx(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(g){if(0!==g.length)return y2(_n.create(g,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(g){if(0!==g.length)return g.map(m=>{return{field:rc((v=m).field),direction:X6(v.dir)};var v})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const c=(m=e.limit,n.yt||yv(m)?m:{value:m});var m,h,g;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(g=e.endAt).inclusive,values:g.position}),t}function m2(n){let e=function d2(n){const e=c2(n);return 4===e.length?en.emptyPath():h2(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){ut(1===r);const v=t.from[0];v.allDescendants?i=v.collectionId:e=e.child(v.collectionId)}let s=[];t.where&&(s=function(v){const D=_2(v);return D instanceof _n&&XN(D)?D.getFilters():[D]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(v=>{return new Lg(qg((D=v).field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction));var D}));let h=null;t.limit&&(h=function(v){let D;return D="object"==typeof v?v.value:v,yv(D)?null:D}(t.limit));let g=null;var v;t.startAt&&(g=new tc((v=t.startAt).values||[],!!v.before));let m=null;return t.endAt&&(m=function(v){return new tc(v.values||[],!v.before)}(t.endAt)),function PL(n,e,t,r,i,s,c,h){return new Il(n,e,t,r,i,s,c,h)}(e,i,c,s,h,"F",g,m)}function _2(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=qg(e.unaryFilter.field);return Yt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=qg(e.unaryFilter.field);return Yt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=qg(e.unaryFilter.field);return Yt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=qg(e.unaryFilter.field);return Yt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return et()}}(n):void 0!==n.fieldFilter?Yt.create(qg((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return et()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return _n.create(e.compositeFilter.filters.map(t=>_2(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return et()}}(e.compositeFilter.op))}(n):et();var e}function X6(n){return G6[n]}function e5(n){return q6[n]}function t5(n){return z6[n]}function rc(n){return{fieldPath:n.canonicalString()}}function qg(n){return mr.fromServerFormat(n.fieldPath)}function y2(n){return n instanceof Yt?function(e){if("=="===e.op){if(yL(e.value))return{unaryFilter:{field:rc(e.field),op:"IS_NAN"}};if(_L(e.value))return{unaryFilter:{field:rc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(yL(e.value))return{unaryFilter:{field:rc(e.field),op:"IS_NOT_NAN"}};if(_L(e.value))return{unaryFilter:{field:rc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rc(e.field),op:e5(e.op),value:e.value}}}(n):n instanceof _n?function(e){const t=e.getFilters().map(r=>y2(r));return 1===t.length?t[0]:{compositeFilter:{op:t5(e.op),filters:t}}}(n):et()}function n5(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function v2(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class hx{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&F6(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Av(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Av(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=r2();return this.mutations.forEach(i=>{const s=e.get(i.key),c=s.overlayedDocument;let h=this.applyToLocalView(c,s.mutatedFields);h=t.has(i.key)?null:h;const g=ZL(c,h);null!==g&&r.set(i.key,g),c.isValidDocument()||c.convertToNoDocument(gt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Lt())}isEqual(e){return this.batchId===e.batchId&&Og(this.mutations,e.mutations,(t,r)=>KL(t,r))&&Og(this.baseMutations,e.baseMutations,(t,r)=>KL(t,r))}}class fx{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ut(e.mutations.length===r.length);let i=U6;const s=e.mutations;for(let c=0;c<s.length;c++)i=i.insert(s[c].key,r[c].version);return new fx(e,t,r,i)}}class px{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ic{constructor(e,t,r,i,s=gt.min(),c=gt.min(),h=Vr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h}withSequenceNumber(e){return new ic(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new ic(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ic(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class C2{constructor(e){this.oe=e}}function gx(n){const e=m2({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?mE(e,e.limit,"L"):e}class Rh{constructor(){}ae(e,t){this.he(e,t),t.le()}he(e,t){if("nullValue"in e)this.fe(t,5);else if("booleanValue"in e)this.fe(t,10),t.de(e.booleanValue?1:0);else if("integerValue"in e)this.fe(t,15),t.de(sr(e.integerValue));else if("doubleValue"in e){const r=sr(e.doubleValue);isNaN(r)?this.fe(t,13):(this.fe(t,15),vv(r)?t.de(0):t.de(r))}else if("timestampValue"in e){const r=e.timestampValue;this.fe(t,20),"string"==typeof r?t._e(r):(t._e(`${r.seconds||""}`),t.de(r.nanos||0))}else if("stringValue"in e)this.we(e.stringValue,t),this.me(t);else if("bytesValue"in e)this.fe(t,30),t.ge(Dh(e.bytesValue)),this.me(t);else if("referenceValue"in e)this.ye(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.fe(t,45),t.de(r.latitude||0),t.de(r.longitude||0)}else"mapValue"in e?vL(e)?this.fe(t,Number.MAX_SAFE_INTEGER):(this.pe(e.mapValue,t),this.me(t)):"arrayValue"in e?(this.Ie(e.arrayValue,t),this.me(t)):et()}we(e,t){this.fe(t,25),this.Te(e,t)}Te(e,t){t._e(e)}pe(e,t){const r=e.fields||{};this.fe(t,55);for(const i of Object.keys(r))this.we(i,t),this.he(r[i],t)}Ie(e,t){const r=e.values||[];this.fe(t,50);for(const i of r)this.he(i,t)}ye(e,t){this.fe(t,37),He.fromName(e).path.forEach(r=>{this.fe(t,60),this.Te(r,t)})}fe(e,t){e.de(t)}me(e){e.de(2)}}Rh.Ee=new Rh;class M5{constructor(){this.Ze=new wx}addToCollectionParentIndex(e,t){return this.Ze.add(t),Q.resolve()}getCollectionParents(e,t){return Q.resolve(this.Ze.getEntries(t))}addFieldIndex(e,t){return Q.resolve()}deleteFieldIndex(e,t){return Q.resolve()}getDocumentsMatchingTarget(e,t){return Q.resolve(null)}getIndexType(e,t){return Q.resolve(0)}getFieldIndexes(e,t){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,t){return Q.resolve(ko.min())}getMinOffsetFromCollectionGroup(e,t){return Q.resolve(ko.min())}updateCollectionGroup(e,t,r){return Q.resolve()}updateIndexEntries(e,t){return Q.resolve()}}class wx{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new bn(en.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new bn(en.comparator)).toArray()}}new Uint8Array(0);class uo{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new uo(e,uo.DEFAULT_COLLECTION_PERCENTILE,uo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}uo.DEFAULT_COLLECTION_PERCENTILE=10,uo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,uo.DEFAULT=new uo(41943040,uo.DEFAULT_COLLECTION_PERCENTILE,uo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),uo.DISABLED=new uo(-1,0,0);class Ph{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Vn(){return new Ph(0)}static Sn(){return new Ph(-1)}}class V5{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Y2{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Av(r.mutation,i,ao.empty(),Kn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Lt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Lt()){const i=xa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let c=Mv();return s.forEach((h,g)=>{c=c.insert(h,g.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=xa();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Lt()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((c,h)=>{t.set(c,h)})})}computeViews(e,t,r,i){let s=lo();const c=Nv(),h=Nv();return t.forEach((g,m)=>{const v=r.get(m.key);i.has(m.key)&&(void 0===v||v.mutation instanceof Cl)?s=s.insert(m.key,m):void 0!==v?(c.set(m.key,v.mutation.getFieldMask()),Av(v.mutation,m,v.mutation.getFieldMask(),Kn.now())):c.set(m.key,ao.empty())}),this.recalculateAndSaveOverlays(e,s).next(g=>(g.forEach((m,v)=>c.set(m,v)),t.forEach((m,v)=>{var D;return h.set(m,new V5(v,null!==(D=c.get(m))&&void 0!==D?D:null))}),h))}recalculateAndSaveOverlays(e,t){const r=Nv();let i=new ar((c,h)=>c-h),s=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const h of c)h.keys().forEach(g=>{const m=t.get(g);if(null===m)return;let v=r.get(g)||ao.empty();v=h.applyToLocalView(m,v),r.set(g,v);const D=(i.get(h.batchId)||Lt()).add(g);i=i.insert(h.batchId,D)})}).next(()=>{const c=[],h=i.getReverseIterator();for(;h.hasNext();){const g=h.getNext(),m=g.key,v=g.value,D=r2();v.forEach(S=>{if(!s.has(S)){const A=ZL(t.get(S),r.get(S));null!==A&&D.set(S,A),s=s.add(S)}}),c.push(this.documentOverlayCache.saveOverlays(e,m,D))}return Q.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return He.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function rx(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const c=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):Q.resolve(xa());let h=-1,g=s;return c.next(m=>Q.forEach(m,(v,D)=>(h<D.largestBatchId&&(h=D.largestBatchId),s.get(v)?Q.resolve():this.remoteDocumentCache.getEntry(e,v).next(S=>{g=g.insert(v,S)}))).next(()=>this.populateOverlays(e,m,s)).next(()=>this.computeViews(e,g,m,Lt())).next(v=>({batchId:h,changes:n2(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new He(t)).next(r=>{let i=Mv();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=Mv();return this.indexManager.getCollectionParents(e,i).next(c=>Q.forEach(c,h=>{const g=(m=t,v=h.child(i),new Il(v,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt));var m,v;return this.getDocumentsMatchingCollectionQuery(e,g,r).next(m=>{m.forEach((v,D)=>{s=s.insert(v,D)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(s=>{i.forEach((h,g)=>{const m=g.getKey();null===s.get(m)&&(s=s.insert(m,On.newInvalidDocument(m)))});let c=Mv();return s.forEach((h,g)=>{const m=i.get(h);void 0!==m&&Av(m.mutation,g,ao.empty(),Kn.now()),Cv(t,g)&&(c=c.insert(h,g))}),c})}}class U5{constructor(e){this.Tt=e,this.es=new Map,this.ns=new Map}getBundleMetadata(e,t){return Q.resolve(this.es.get(t))}saveBundleMetadata(e,t){var r;return this.es.set(t.id,{id:(r=t).id,version:r.version,createTime:_r(r.createTime)}),Q.resolve()}getNamedQuery(e,t){return Q.resolve(this.ns.get(t))}saveNamedQuery(e,t){return this.ns.set(t.name,{name:(r=t).name,query:gx(r.bundledQuery),readTime:_r(r.readTime)}),Q.resolve();var r}}class H5{constructor(){this.overlays=new ar(He.comparator),this.ss=new Map}getOverlay(e,t){return Q.resolve(this.overlays.get(t))}getOverlays(e,t){const r=xa();return Q.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ce(e,t,s)}),Q.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ss.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ss.delete(r)),Q.resolve()}getOverlaysForCollection(e,t,r){const i=xa(),s=t.length+1,c=new He(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const g=h.getNext().value,m=g.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===s&&g.largestBatchId>r&&i.set(g.getKey(),g)}return Q.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new ar((m,v)=>m-v);const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let v=s.get(m.largestBatchId);null===v&&(v=xa(),s=s.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const h=xa(),g=s.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((m,v)=>h.set(m,v)),!(h.size()>=i)););return Q.resolve(h)}ce(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.ss.get(i.largestBatchId).delete(r.key);this.ss.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new px(t,r));let s=this.ss.get(t);void 0===s&&(s=Lt(),this.ss.set(t,s)),this.ss.set(t,s.add(r.key))}}class Tx{constructor(){this.rs=new bn(Jr.os),this.us=new bn(Jr.cs)}isEmpty(){return this.rs.isEmpty()}addReference(e,t){const r=new Jr(e,t);this.rs=this.rs.add(r),this.us=this.us.add(r)}hs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ls(new Jr(e,t))}fs(e,t){e.forEach(r=>this.removeReference(r,t))}ds(e){const t=new He(new en([])),r=new Jr(t,e),i=new Jr(t,e+1),s=[];return this.us.forEachInRange([r,i],c=>{this.ls(c),s.push(c.key)}),s}_s(){this.rs.forEach(e=>this.ls(e))}ls(e){this.rs=this.rs.delete(e),this.us=this.us.delete(e)}ws(e){const t=new He(new en([])),r=new Jr(t,e),i=new Jr(t,e+1);let s=Lt();return this.us.forEachInRange([r,i],c=>{s=s.add(c.key)}),s}containsKey(e){const t=new Jr(e,0),r=this.rs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Jr{constructor(e,t){this.key=e,this.gs=t}static os(e,t){return He.comparator(e.key,t.key)||Ot(e.gs,t.gs)}static cs(e,t){return Ot(e.gs,t.gs)||He.comparator(e.key,t.key)}}class $5{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ys=1,this.ps=new bn(Jr.os)}checkEmpty(e){return Q.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.ys;this.ys++;const c=new hx(s,t,r,i);this.mutationQueue.push(c);for(const h of i)this.ps=this.ps.add(new Jr(h.key,s)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return Q.resolve(c)}lookupMutationBatch(e,t){return Q.resolve(this.Is(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Ts(t+1),s=i<0?0:i;return Q.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(0===this.mutationQueue.length?-1:this.ys-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Jr(t,0),i=new Jr(t,Number.POSITIVE_INFINITY),s=[];return this.ps.forEachInRange([r,i],c=>{const h=this.Is(c.gs);s.push(h)}),Q.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new bn(Ot);return t.forEach(i=>{const s=new Jr(i,0),c=new Jr(i,Number.POSITIVE_INFINITY);this.ps.forEachInRange([s,c],h=>{r=r.add(h.gs)})}),Q.resolve(this.Es(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;He.isDocumentKey(s)||(s=s.child(""));const c=new Jr(new He(s),0);let h=new bn(Ot);return this.ps.forEachWhile(g=>{const m=g.key.path;return!!r.isPrefixOf(m)&&(m.length===i&&(h=h.add(g.gs)),!0)},c),Q.resolve(this.Es(h))}Es(e){const t=[];return e.forEach(r=>{const i=this.Is(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){ut(0===this.As(t.batchId,"removed")),this.mutationQueue.shift();let r=this.ps;return Q.forEach(t.mutations,i=>{const s=new Jr(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ps=r})}Pn(e){}containsKey(e,t){const r=new Jr(t,0),i=this.ps.firstAfterOrEqual(r);return Q.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return Q.resolve()}As(e,t){return this.Ts(e)}Ts(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Is(e){const t=this.Ts(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class j5{constructor(e){this.Rs=e,this.docs=new ar(He.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,c=this.Rs(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Q.resolve(r?r.document.mutableCopy():On.newInvalidDocument(t))}getEntries(e,t){let r=lo();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():On.newInvalidDocument(i))}),Q.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=lo();const c=t.path,h=new He(c.child("")),g=this.docs.getIteratorFrom(h);for(;g.hasNext();){const{key:m,value:{document:v}}=g.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||qN(uL(v),r)<=0||(i.has(v.key)||Cv(t,v))&&(s=s.insert(v.key,v.mutableCopy()))}return Q.resolve(s)}getAllFromCollectionGroup(e,t,r,i){et()}Ps(e,t){return Q.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new G5(this)}getSize(e){return Q.resolve(this.size)}}class G5 extends class F5{constructor(){this.changes=new nc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,On.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Q.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Xn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Xn.addEntry(e,i)):this.Xn.removeEntry(r)}),Q.waitFor(t)}getFromCache(e,t){return this.Xn.getEntry(e,t)}getAllFromCache(e,t){return this.Xn.getEntries(e,t)}}class q5{constructor(e){this.persistence=e,this.vs=new nc(t=>Ch(t),Ev),this.lastRemoteSnapshotVersion=gt.min(),this.highestTargetId=0,this.bs=0,this.Vs=new Tx,this.targetCount=0,this.Ss=Ph.Vn()}forEachTarget(e,t){return this.vs.forEach((r,i)=>t(i)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.Ss.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),Q.resolve()}xn(e){this.vs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ss=new Ph(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.xn(t),this.targetCount+=1,Q.resolve()}updateTargetData(e,t){return this.xn(t),Q.resolve()}removeTargetData(e,t){return this.vs.delete(t.target),this.Vs.ds(t.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.vs.forEach((c,h)=>{h.sequenceNumber<=t&&null===r.get(h.targetId)&&(this.vs.delete(c),s.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),Q.waitFor(s).next(()=>i)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,t){const r=this.vs.get(t)||null;return Q.resolve(r)}addMatchingKeys(e,t,r){return this.Vs.hs(t,r),Q.resolve()}removeMatchingKeys(e,t,r){this.Vs.fs(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(c=>{s.push(i.markPotentiallyOrphaned(e,c))}),Q.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Vs.ds(t),Q.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Vs.ws(t);return Q.resolve(r)}containsKey(e,t){return Q.resolve(this.Vs.containsKey(t))}}class J2{constructor(e,t){this.Ds={},this.overlays={},this.Cs=new Ro(0),this.xs=!1,this.xs=!0,this.referenceDelegate=e(this),this.Ns=new q5(this),this.indexManager=new M5,this.remoteDocumentCache=new j5(r=>this.referenceDelegate.ks(r)),this.Tt=new C2(t),this.$s=new U5(this.Tt)}start(){return Promise.resolve()}shutdown(){return this.xs=!1,Promise.resolve()}get started(){return this.xs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new H5,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Ds[e.toKey()];return r||(r=new $5(t,this.referenceDelegate),this.Ds[e.toKey()]=r),r}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$s}runTransaction(e,t,r){Se("MemoryPersistence","Starting transaction:",e);const i=new z5(this.Cs.next());return this.referenceDelegate.Ms(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Fs(e,t){return Q.or(Object.values(this.Ds).map(r=>()=>r.containsKey(e,t)))}}class z5 extends class d6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class xE{constructor(e){this.persistence=e,this.Bs=new Tx,this.Ls=null}static qs(e){return new xE(e)}get Us(){if(this.Ls)return this.Ls;throw et()}addReference(e,t,r){return this.Bs.addReference(r,t),this.Us.delete(r.toString()),Q.resolve()}removeReference(e,t,r){return this.Bs.removeReference(r,t),this.Us.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,t){return this.Us.add(t.toString()),Q.resolve()}removeTarget(e,t){this.Bs.ds(t.targetId).forEach(i=>this.Us.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Us.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Ms(){this.Ls=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Us,r=>{const i=He.fromPath(r);return this.Ks(e,i).next(s=>{s||t.removeEntry(i,gt.min())})}).next(()=>(this.Ls=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ks(e,t).next(r=>{r?this.Us.delete(t.toString()):this.Us.add(t.toString())})}ks(e){return 0}Ks(e,t){return Q.or([()=>Q.resolve(this.Bs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Fs(e,t)])}}class Cx{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Ci=r,this.xi=i}static Ni(e,t){let r=Lt(),i=Lt();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Cx(e,t.fromCache,r,i)}}class X2{constructor(){this.ki=!1}initialize(e,t){this.$i=e,this.indexManager=t,this.ki=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Mi(e,t).next(s=>s||this.Oi(e,t,i,r)).next(s=>s||this.Fi(e,t))}Mi(e,t){if(FL(t))return Q.resolve(null);let r=Gi(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=mE(t,null,"F"),r=Gi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const c=Lt(...s);return this.$i.getDocuments(e,c).next(h=>this.indexManager.getMinOffset(e,r).next(g=>{const m=this.Bi(t,h);return this.Li(t,m,c,g.readTime)?this.Mi(e,mE(t,null,"F")):this.qi(e,m,t,g)}))})))}Oi(e,t,r,i){return FL(t)||i.isEqual(gt.min())?this.Fi(e,t):this.$i.getDocuments(e,r).next(s=>{const c=this.Bi(t,s);return this.Li(t,c,r,i)?this.Fi(e,t):($N()<=Jo.in.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ox(t)),this.qi(e,c,t,function lL(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=gt.fromTimestamp(1e9===r?new Kn(t+1,0):new Kn(t,r));return new ko(i,He.empty(),e)}(i,-1)))})}Bi(e,t){let r=new bn(VL(e));return t.forEach((i,s)=>{Cv(e,s)&&(r=r.add(s))}),r}Li(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Fi(e,t){return $N()<=Jo.in.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",ox(t)),this.$i.getDocumentsMatchingQuery(e,t,ko.min())}qi(e,t,r,i){return this.$i.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(c=>{s=s.insert(c.key,c)}),s))}}class Z5{constructor(e,t,r,i){this.persistence=e,this.Ui=t,this.Tt=i,this.Ki=new ar(Ot),this.Gi=new nc(s=>Ch(s),Ev),this.Qi=new Map,this.ji=e.getRemoteDocumentCache(),this.Ns=e.getTargetCache(),this.$s=e.getBundleCache(),this.zi(r)}zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Y2(this.ji,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ji.setIndexManager(this.indexManager),this.Ui.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ki))}}function tB(n,e){return Sx.apply(this,arguments)}function Sx(){return Sx=(0,H.Z)(function*(n,e){const t=$e(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.zi(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const c=[],h=[];let g=Lt();for(const m of i){c.push(m.batchId);for(const v of m.mutations)g=g.add(v.key)}for(const m of s){h.push(m.batchId);for(const v of m.mutations)g=g.add(v.key)}return t.localDocuments.getDocuments(r,g).next(m=>({Wi:m,removedBatchIds:c,addedBatchIds:h}))})})}),Sx.apply(this,arguments)}function K5(n,e){const t=$e(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.ji.newChangeBuffer({trackRemovals:!0});return function(c,h,g,m){const v=g.batch,D=v.keys();let S=Q.resolve();return D.forEach(A=>{S=S.next(()=>m.getEntry(h,A)).next(R=>{const U=g.docVersions.get(A);ut(null!==U),R.version.compareTo(U)<0&&(v.applyToRemoteDocument(R,g),R.isValidDocument()&&(R.setReadTime(g.commitVersion),m.addEntry(R)))})}),S.next(()=>c.mutationQueue.removeMutationBatch(h,v))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let h=Lt();for(let g=0;g<c.mutationResults.length;++g)c.mutationResults[g].transformResults.length>0&&(h=h.add(c.batch.mutations[g].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function nB(n){const e=$e(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ns.getLastRemoteSnapshotVersion(t))}function Y5(n,e){const t=$e(n),r=e.snapshotVersion;let i=t.Ki;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const c=t.ji.newChangeBuffer({trackRemovals:!0});i=t.Ki;const h=[];e.targetChanges.forEach((v,D)=>{const S=i.get(D);if(!S)return;h.push(t.Ns.removeMatchingKeys(s,v.removedDocuments,D).next(()=>t.Ns.addMatchingKeys(s,v.addedDocuments,D)));let A=S.withSequenceNumber(s.currentSequenceNumber);var R,U,K;e.targetMismatches.has(D)?A=A.withResumeToken(Vr.EMPTY_BYTE_STRING,gt.min()).withLastLimboFreeSnapshotVersion(gt.min()):v.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(v.resumeToken,r)),i=i.insert(D,A),U=A,K=v,(0===(R=S).resumeToken.approximateByteSize()||U.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8||K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0)&&h.push(t.Ns.updateTargetData(s,A))});let g=lo(),m=Lt();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(s,v))}),h.push(function rB(n,e,t){let r=Lt(),i=Lt();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let c=lo();return t.forEach((h,g)=>{const m=s.get(h);g.isFoundDocument()!==m.isFoundDocument()&&(i=i.add(h)),g.isNoDocument()&&g.version.isEqual(gt.min())?(e.removeEntry(h,g.readTime),c=c.insert(h,g)):!m.isValidDocument()||g.version.compareTo(m.version)>0||0===g.version.compareTo(m.version)&&m.hasPendingWrites?(e.addEntry(g),c=c.insert(h,g)):Se("LocalStore","Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",g.version)}),{Hi:c,Ji:i}})}(s,c,e.documentUpdates).next(v=>{g=v.Hi,m=v.Ji})),!r.isEqual(gt.min())){const v=t.Ns.getLastRemoteSnapshotVersion(s).next(D=>t.Ns.setTargetsMetadata(s,s.currentSequenceNumber,r));h.push(v)}return Q.waitFor(h).next(()=>c.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,g,m)).next(()=>g)}).then(s=>(t.Ki=i,s))}function J5(n,e){const t=$e(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Zg(n,e){const t=$e(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ns.getTargetData(r,e).next(s=>s?(i=s,Q.resolve(i)):t.Ns.allocateTargetId(r).next(c=>(i=new ic(e,c,0,r.currentSequenceNumber),t.Ns.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ki.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ki=t.Ki.insert(r.targetId,r),t.Gi.set(e,r.targetId)),r})}function Kg(n,e,t){return Ax.apply(this,arguments)}function Ax(){return Ax=(0,H.Z)(function*(n,e,t){const r=$e(n),i=r.Ki.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!Ju(c))throw c;Se("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ki=r.Ki.remove(e),r.Gi.delete(i.target)}),Ax.apply(this,arguments)}function RE(n,e,t){const r=$e(n);let i=gt.min(),s=Lt();return r.persistence.runTransaction("Execute query","readonly",c=>function(h,g,m){const v=$e(h),D=v.Gi.get(m);return void 0!==D?Q.resolve(v.Ki.get(D)):v.Ns.getTargetData(g,m)}(r,c,Gi(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Ns.getMatchingKeysForTargetId(c,h.targetId).next(g=>{s=g})}).next(()=>r.Ui.getDocumentsMatchingQuery(c,e,t?i:gt.min(),t?s:Lt())).next(h=>(function sB(n,e,t){let r=n.Qi.get(e)||gt.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Qi.set(e,r)}(r,function BL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),h),{documents:h,Yi:s})))}class Rx{constructor(){this.activeTargetIds=bE()}sr(e){this.activeTargetIds=this.activeTargetIds.add(e)}ir(e){this.activeTargetIds=this.activeTargetIds.delete(e)}nr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uB{constructor(){this.Ur=new Rx,this.Kr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Ur.sr(e),this.Kr[e]||"not-current"}updateQueryState(e,t,r){this.Kr[e]=t}removeLocalQueryTarget(e){this.Ur.ir(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.Kr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new Rx,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ej{Gr(e){}shutdown(){}}class cB{constructor(){this.Qr=()=>this.jr(),this.zr=()=>this.Wr(),this.Hr=[],this.Jr()}Gr(e){this.Hr.push(e)}shutdown(){window.removeEventListener("online",this.Qr),window.removeEventListener("offline",this.zr)}Jr(){window.addEventListener("online",this.Qr),window.addEventListener("offline",this.zr)}jr(){Se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Hr)e(0)}Wr(){Se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Hr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let FE=null;function Px(){return null===FE?FE=268435456+Math.round(2147483648*Math.random()):FE++,"0x"+FE.toString(16)}const tj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nj{constructor(e){this.Yr=e.Yr,this.Zr=e.Zr}Xr(e){this.eo=e}no(e){this.so=e}onMessage(e){this.io=e}close(){this.Zr()}send(e){this.Yr(e)}ro(){this.eo()}oo(e){this.so(e)}uo(e){this.io(e)}}const Mi="WebChannelConnection";class rj extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.co=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get ho(){return!1}lo(e,t,r,i,s){const c=Px(),h=this.fo(e,t);Se("RestConnection",`Sending RPC '${e}' ${c}:`,h,r);const g={};return this._o(g,i,s),this.wo(e,h,g,r).then(m=>(Se("RestConnection",`Received RPC '${e}' ${c}: `,m),m),m=>{throw Rg("RestConnection",`RPC '${e}' ${c} failed with error: `,m,"url: ",h,"request:",r),m})}mo(e,t,r,i,s,c){return this.lo(e,t,r,i,s)}_o(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+kg,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}fo(e,t){return`${this.co}/v1/${t}:${tj[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}wo(e,t,r,i){const s=Px();return new Promise((c,h)=>{const g=new e6;g.setWithCredentials(!0),g.listenOnce(J$.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case HN.NO_ERROR:const v=g.getResponseJson();Se(Mi,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(v)),c(v);break;case HN.TIMEOUT:Se(Mi,`RPC '${e}' ${s} timed out`),h(new Ie(ne.DEADLINE_EXCEEDED,"Request time out"));break;case HN.HTTP_ERROR:const D=g.getStatus();if(Se(Mi,`RPC '${e}' ${s} failed with status:`,D,"response text:",g.getResponseText()),D>0){let S=g.getResponseJson();Array.isArray(S)&&(S=S[0]);const A=S?.error;if(A&&A.status&&A.message){const R=function(U){const K=U.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(K)>=0?K:ne.UNKNOWN}(A.status);h(new Ie(R,A.message))}else h(new Ie(ne.UNKNOWN,"Server responded with status "+g.getStatus()))}else h(new Ie(ne.UNAVAILABLE,"Connection failed."));break;default:et()}}finally{Se(Mi,`RPC '${e}' ${s} completed.`)}});const m=JSON.stringify(i);Se(Mi,`RPC '${e}' ${s} sending request:`,i),g.send(t,"POST",m,r,15)})}yo(e,t,r){const i=Px(),s=[this.co,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=K$(),h=Y$(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(g.xmlHttpFactory=new X$({})),this._o(g.initMessageHeaders,t,r),g.encodeInitMessageHeaders=!0;const m=s.join("");Se(Mi,`Creating RPC '${e}' stream ${i}: ${m}`,g);const v=c.createWebChannel(m,g);let D=!1,S=!1;const A=new nj({Yr:U=>{S?Se(Mi,`Not sending because RPC '${e}' stream ${i} is closed:`,U):(D||(Se(Mi,`Opening RPC '${e}' stream ${i} transport.`),v.open(),D=!0),Se(Mi,`RPC '${e}' stream ${i} sending:`,U),v.send(U))},Zr:()=>v.close()}),R=(U,K,Ne)=>{U.listen(K,qe=>{try{Ne(qe)}catch(Pe){setTimeout(()=>{throw Pe},0)}})};return R(v,sE.EventType.OPEN,()=>{S||Se(Mi,`RPC '${e}' stream ${i} transport opened.`)}),R(v,sE.EventType.CLOSE,()=>{S||(S=!0,Se(Mi,`RPC '${e}' stream ${i} transport closed`),A.oo())}),R(v,sE.EventType.ERROR,U=>{S||(S=!0,Rg(Mi,`RPC '${e}' stream ${i} transport errored:`,U),A.oo(new Ie(ne.UNAVAILABLE,"The operation could not be completed")))}),R(v,sE.EventType.MESSAGE,U=>{var K;if(!S){const Ne=U.data[0];ut(!!Ne);const qe=Ne,Pe=qe.error||(null===(K=qe[0])||void 0===K?void 0:K.error);if(Pe){Se(Mi,`RPC '${e}' stream ${i} received error:`,Pe);const nt=Pe.status;let Dt=function(Ht){const An=Ar[Ht];if(void 0!==An)return e2(An)}(nt),rt=Pe.message;void 0===Dt&&(Dt=ne.INTERNAL,rt="Unknown error status: "+nt+" with message "+Pe.message),S=!0,A.oo(new Ie(Dt,rt)),v.close()}else Se(Mi,`RPC '${e}' stream ${i} received:`,Ne),A.uo(Ne)}}),R(h,Q$.STAT_EVENT,U=>{U.stat===nL.PROXY?Se(Mi,`RPC '${e}' stream ${i} detected buffering proxy`):U.stat===nL.NOPROXY&&Se(Mi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.ro()},0),A}}function LE(){return typeof document<"u"?document:null}function Gv(n){return new W6(n,!0)}class Fx{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Ys=e,this.timerId=t,this.po=r,this.Io=i,this.To=s,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}reset(){this.Eo=0}Po(){this.Eo=this.To}vo(e){this.cancel();const t=Math.floor(this.Eo+this.bo()),r=Math.max(0,Date.now()-this.Ro),i=Math.max(0,t-r);i>0&&Se("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Eo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,i,()=>(this.Ro=Date.now(),e())),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}Vo(){null!==this.Ao&&(this.Ao.skipDelay(),this.Ao=null)}cancel(){null!==this.Ao&&(this.Ao.cancel(),this.Ao=null)}bo(){return(Math.random()-.5)*this.Eo}}class hB{constructor(e,t,r,i,s,c,h,g){this.Ys=e,this.So=r,this.Do=i,this.connection=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=g,this.state=0,this.Co=0,this.xo=null,this.No=null,this.stream=null,this.ko=new Fx(e,t)}$o(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,H.Z)(function*(){e.$o()&&(yield e.close(0))})()}Fo(){this.state=0,this.ko.reset()}Bo(){this.Mo()&&null===this.xo&&(this.xo=this.Ys.enqueueAfterDelay(this.So,6e4,()=>this.Lo()))}qo(e){this.Uo(),this.stream.send(e)}Lo(){var e=this;return(0,H.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.xo&&(this.xo.cancel(),this.xo=null)}Ko(){this.No&&(this.No.cancel(),this.No=null)}close(e,t){var r=this;return(0,H.Z)(function*(){r.Uo(),r.Ko(),r.ko.cancel(),r.Co++,4!==e?r.ko.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(gr(t.toString()),gr("Using maximum backoff delay to prevent overloading the backend."),r.ko.Po()):t&&t.code===ne.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Go(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.no(t)})()}Go(){}auth(){this.state=1;const e=this.Qo(this.Co),t=this.Co;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Co===t&&this.jo(r,i)},r=>{e(()=>{const i=new Ie(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.zo(i)})})}jo(e,t){const r=this.Qo(this.Co);this.stream=this.Wo(e,t),this.stream.Xr(()=>{r(()=>(this.state=2,this.No=this.Ys.enqueueAfterDelay(this.Do,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.no(i=>{r(()=>this.zo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.ko.vo((0,H.Z)(function*(){e.state=0,e.start()}))}zo(e){return Se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Qo(e){return t=>{this.Ys.enqueueAndForget(()=>this.Co===e?t():(Se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ij extends hB{constructor(e,t,r,i,s,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.Tt=s}Wo(e,t){return this.connection.yo("Listen",e,t)}onMessage(e){this.ko.reset();const t=function Y6(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(g=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===g?1:"REMOVE"===g?2:"CURRENT"===g?3:"RESET"===g?4:et(),i=e.targetChange.targetIds||[],s=function(g,m){return g.yt?(ut(void 0===m||"string"==typeof m),Vr.fromBase64String(m||"")):(ut(void 0===m||m instanceof Uint8Array),Vr.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(g){const m=void 0===g.code?ne.UNKNOWN:e2(g.code);return new Ie(m,g.message||"")}(c);t=new o2(r,i,s,h||null)}else if("documentChange"in e){const r=e.documentChange,i=ka(n,r.document.name),s=_r(r.document.updateTime),c=r.document.createTime?_r(r.document.createTime):gt.min(),h=new Kr({mapValue:{fields:r.document.fields}}),g=On.newFoundDocument(i,s,c,h);t=new wE(r.targetIds||[],r.removedTargetIds||[],g.key,g)}else if("documentDelete"in e){const r=e.documentDelete,i=ka(n,r.document),s=r.readTime?_r(r.readTime):gt.min(),c=On.newNoDocument(i,s);t=new wE([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=ka(n,r.document);t=new wE([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return et();{const r=e.filter,s=new B6(r.count||0);t=new i2(r.targetId,s)}}var g;return t}(this.Tt,e),r=function(i){if(!("targetChange"in i))return gt.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?gt.min():s.readTime?_r(s.readTime):gt.min()}(e);return this.listener.Ho(t,r)}Jo(e){const t={};t.database=Ov(this.Tt),t.addTarget=function(i,s){let c;const h=s.target;return c=fE(h)?{documents:g2(i,h)}:{query:cx(i,h)},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?c.resumeToken=u2(i,s.resumeToken):s.snapshotVersion.compareTo(gt.min())>0&&(c.readTime=Gg(i,s.snapshotVersion.toTimestamp())),c}(this.Tt,e);const r=function Q6(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return et()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.qo(t)}Yo(e){const t={};t.database=Ov(this.Tt),t.removeTarget=e,this.qo(t)}}class oj extends hB{constructor(e,t,r,i,s,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.Tt=s,this.Zo=!1}get Xo(){return this.Zo}start(){this.Zo=!1,this.lastStreamToken=void 0,super.start()}Go(){this.Zo&&this.tu([])}Wo(e,t){return this.connection.yo("Write",e,t)}onMessage(e){if(ut(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Zo){this.ko.reset();const t=function J6(n,e){return n&&n.length>0?(ut(void 0!==e),n.map(t=>function(r,i){let s=_r(r.updateTime?r.updateTime:i);return s.isEqual(gt.min())&&(s=_r(i)),new P6(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=_r(e.commitTime);return this.listener.eu(r,t)}return ut(!e.writeResults||0===e.writeResults.length),this.Zo=!0,this.listener.nu()}su(){const e={};e.database=Ov(this.Tt),this.qo(e)}tu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function Pv(n,e){let t;if(e instanceof $g)t={update:f2(n,e.key,e.value)};else if(e instanceof jg)t={delete:Rv(n,e.key)};else if(e instanceof Cl)t={update:f2(n,e.key,e.data),updateMask:n5(e.fieldMask)};else{if(!(e instanceof sx))return et();t={verify:Rv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const c=s.transform;if(c instanceof Ug)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ah)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Mh)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Hg)return{fieldPath:s.field.canonicalString(),increment:c.It};throw et()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Z6(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:et()),t;var i}(this.Tt,r))};this.qo(t)}}class sj extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.Tt=i,this.iu=!1}ru(){if(this.iu)throw new Ie(ne.FAILED_PRECONDITION,"The client has already been terminated.")}lo(e,t,r){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.lo(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ie(ne.UNKNOWN,i.toString())})}mo(e,t,r,i){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.mo(e,t,r,s,c,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ie(ne.UNKNOWN,s.toString())})}terminate(){this.iu=!0}}class lj{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ou=0,this.uu=null,this.cu=!0}au(){0===this.ou&&(this.hu("Unknown"),this.uu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.uu=null,this.lu("Backend didn't respond within 10 seconds."),this.hu("Offline"),Promise.resolve())))}fu(e){"Online"===this.state?this.hu("Unknown"):(this.ou++,this.ou>=1&&(this.du(),this.lu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.hu("Offline")))}set(e){this.du(),this.ou=0,"Online"===e&&(this.cu=!1),this.hu(e)}hu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}lu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.cu?(gr(t),this.cu=!1):Se("OnlineStateTracker",t)}du(){null!==this.uu&&(this.uu.cancel(),this.uu=null)}}class uj{constructor(e,t,r,i,s){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this._u=[],this.wu=new Map,this.mu=new Set,this.gu=[],this.yu=s,this.yu.Gr(h=>{r.enqueueAndForget((0,H.Z)(function*(){var g;Sl(c)&&(Se("RemoteStore","Restarting streams for network reachability change."),yield(g=(0,H.Z)(function*(m){const v=$e(m);v.mu.add(4),yield Yg(v),v.pu.set("Unknown"),v.mu.delete(4),yield qv(v)}),function(m){return g.apply(this,arguments)})(c))}))}),this.pu=new lj(r,i)}}function qv(n){return Bx.apply(this,arguments)}function Bx(){return Bx=(0,H.Z)(function*(n){if(Sl(n))for(const e of n.gu)yield e(!0)}),Bx.apply(this,arguments)}function Yg(n){return Vx.apply(this,arguments)}function Vx(){return Vx=(0,H.Z)(function*(n){for(const e of n.gu)yield e(!1)}),Vx.apply(this,arguments)}function BE(n,e){const t=$e(n);t.wu.has(e.targetId)||(t.wu.set(e.targetId,e),$x(t)?Hx(t):Qg(t).Mo()&&Ux(t,e))}function zv(n,e){const t=$e(n),r=Qg(t);t.wu.delete(e),r.Mo()&&fB(t,e),0===t.wu.size&&(r.Mo()?r.Bo():Sl(t)&&t.pu.set("Unknown"))}function Ux(n,e){n.Iu.Ot(e.targetId),Qg(n).Jo(e)}function fB(n,e){n.Iu.Ot(e),Qg(n).Yo(e)}function Hx(n){n.Iu=new j6({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ie:e=>n.wu.get(e)||null}),Qg(n).start(),n.pu.au()}function $x(n){return Sl(n)&&!Qg(n).$o()&&n.wu.size>0}function Sl(n){return 0===$e(n).mu.size}function pB(n){n.Iu=void 0}function cj(n){return jx.apply(this,arguments)}function jx(){return jx=(0,H.Z)(function*(n){n.wu.forEach((e,t)=>{Ux(n,e)})}),jx.apply(this,arguments)}function dj(n,e){return Gx.apply(this,arguments)}function Gx(){return Gx=(0,H.Z)(function*(n,e){pB(n),$x(n)?(n.pu.fu(e),Hx(n)):n.pu.set("Unknown")}),Gx.apply(this,arguments)}function hj(n,e,t){return qx.apply(this,arguments)}function qx(){return qx=(0,H.Z)(function*(n,e,t){if(n.pu.set("Online"),e instanceof o2&&2===e.state&&e.cause)try{yield(r=(0,H.Z)(function*(i,s){const c=s.cause;for(const h of s.targetIds)i.wu.has(h)&&(yield i.remoteSyncer.rejectListen(h,c),i.wu.delete(h),i.Iu.removeTarget(h))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){Se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield VE(n,r)}else if(e instanceof wE?n.Iu.Qt(e):e instanceof i2?n.Iu.Zt(e):n.Iu.Wt(e),!t.isEqual(gt.min()))try{const r=yield nB(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const c=i.Iu.ee(s);return c.targetChanges.forEach((h,g)=>{if(h.resumeToken.approximateByteSize()>0){const m=i.wu.get(g);m&&i.wu.set(g,m.withResumeToken(h.resumeToken,s))}}),c.targetMismatches.forEach(h=>{const g=i.wu.get(h);if(!g)return;i.wu.set(h,g.withResumeToken(Vr.EMPTY_BYTE_STRING,g.snapshotVersion)),fB(i,h);const m=new ic(g.target,h,1,g.sequenceNumber);Ux(i,m)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){Se("RemoteStore","Failed to raise snapshot:",r),yield VE(n,r)}var r}),qx.apply(this,arguments)}function VE(n,e,t){return zx.apply(this,arguments)}function zx(){return zx=(0,H.Z)(function*(n,e,t){if(!Ju(e))throw e;n.mu.add(1),yield Yg(n),n.pu.set("Offline"),t||(t=()=>nB(n.localStore)),n.asyncQueue.enqueueRetryable((0,H.Z)(function*(){Se("RemoteStore","Retrying IndexedDB access"),yield t(),n.mu.delete(1),yield qv(n)}))}),zx.apply(this,arguments)}function gB(n,e){return e().catch(t=>VE(n,t,e))}function Jg(n){return Wx.apply(this,arguments)}function Wx(){return Wx=(0,H.Z)(function*(n){const e=$e(n),t=lc(e);let r=e._u.length>0?e._u[e._u.length-1].batchId:-1;for(;fj(e);)try{const i=yield J5(e.localStore,r);if(null===i){0===e._u.length&&t.Bo();break}r=i.batchId,pj(e,i)}catch(i){yield VE(e,i)}mB(e)&&_B(e)}),Wx.apply(this,arguments)}function fj(n){return Sl(n)&&n._u.length<10}function pj(n,e){n._u.push(e);const t=lc(n);t.Mo()&&t.Xo&&t.tu(e.mutations)}function mB(n){return Sl(n)&&!lc(n).$o()&&n._u.length>0}function _B(n){lc(n).start()}function gj(n){return Zx.apply(this,arguments)}function Zx(){return Zx=(0,H.Z)(function*(n){lc(n).su()}),Zx.apply(this,arguments)}function mj(n){return Kx.apply(this,arguments)}function Kx(){return Kx=(0,H.Z)(function*(n){const e=lc(n);for(const t of n._u)e.tu(t.mutations)}),Kx.apply(this,arguments)}function _j(n,e,t){return Yx.apply(this,arguments)}function Yx(){return Yx=(0,H.Z)(function*(n,e,t){const r=n._u.shift(),i=fx.from(r,e,t);yield gB(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Jg(n)}),Yx.apply(this,arguments)}function yj(n,e){return Jx.apply(this,arguments)}function Jx(){return Jx=(0,H.Z)(function*(n,e){var t;e&&lc(n).Xo&&(yield(t=(0,H.Z)(function*(r,i){if(XL(s=i.code)&&s!==ne.ABORTED){const c=r._u.shift();lc(r).Fo(),yield gB(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield Jg(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),mB(n)&&_B(n)}),Jx.apply(this,arguments)}function yB(n,e){return Qx.apply(this,arguments)}function Qx(){return Qx=(0,H.Z)(function*(n,e){const t=$e(n);t.asyncQueue.verifyOperationInProgress(),Se("RemoteStore","RemoteStore received new credentials");const r=Sl(t);t.mu.add(3),yield Yg(t),r&&t.pu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.mu.delete(3),yield qv(t)}),Qx.apply(this,arguments)}function ek(){return ek=(0,H.Z)(function*(n,e){const t=$e(n);e?(t.mu.delete(2),yield qv(t)):e||(t.mu.add(2),yield Yg(t),t.pu.set("Unknown"))}),ek.apply(this,arguments)}function Qg(n){return n.Tu||(n.Tu=function(e,t,r){const i=$e(e);return i.ru(),new ij(t,i.connection,i.authCredentials,i.appCheckCredentials,i.Tt,r)}(n.datastore,n.asyncQueue,{Xr:cj.bind(null,n),no:dj.bind(null,n),Ho:hj.bind(null,n)}),n.gu.push(function(){var e=(0,H.Z)(function*(t){t?(n.Tu.Fo(),$x(n)?Hx(n):n.pu.set("Unknown")):(yield n.Tu.stop(),pB(n))});return function(t){return e.apply(this,arguments)}}())),n.Tu}function lc(n){return n.Eu||(n.Eu=function(e,t,r){const i=$e(e);return i.ru(),new oj(t,i.connection,i.authCredentials,i.appCheckCredentials,i.Tt,r)}(n.datastore,n.asyncQueue,{Xr:gj.bind(null,n),no:yj.bind(null,n),nu:mj.bind(null,n),eu:_j.bind(null,n)}),n.gu.push(function(){var e=(0,H.Z)(function*(t){t?(n.Eu.Fo(),yield Jg(n)):(yield n.Eu.stop(),n._u.length>0&&(Se("RemoteStore",`Stopping write stream with ${n._u.length} pending writes`),n._u=[]))});return function(t){return e.apply(this,arguments)}}())),n.Eu}class tk{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,s){const c=Date.now()+r,h=new tk(e,t,c,i,s);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ie(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xg(n,e){if(gr("AsyncQueue",`${e}: ${n}`),Ju(n))return new Ie(ne.UNAVAILABLE,`${e}: ${n}`);throw n}class em{constructor(e){this.comparator=e?(t,r)=>e(t,r)||He.comparator(t.key,r.key):(t,r)=>He.comparator(t.key,r.key),this.keyedMap=Mv(),this.sortedSet=new ar(this.comparator)}static emptySet(e){return new em(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof em)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new em;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class vB{constructor(){this.Au=new ar(He.comparator)}track(e){const t=e.doc.key,r=this.Au.get(t);r?0!==e.type&&3===r.type?this.Au=this.Au.insert(t,e):3===e.type&&1!==r.type?this.Au=this.Au.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Au=this.Au.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Au=this.Au.remove(t):1===e.type&&2===r.type?this.Au=this.Au.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):et():this.Au=this.Au.insert(t,e)}Ru(){const e=[];return this.Au.inorderTraversal((t,r)=>{e.push(r)}),e}}class tm{constructor(e,t,r,i,s,c,h,g,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=g,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,i,s){const c=[];return t.forEach(h=>{c.push({type:0,doc:h})}),new tm(e,t,em.emptySet(t),c,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Iv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class vj{constructor(){this.Pu=void 0,this.listeners=[]}}class bj{constructor(){this.queries=new nc(e=>LL(e),Iv),this.onlineState="Unknown",this.vu=new Set}}function nk(n,e){return rk.apply(this,arguments)}function rk(){return rk=(0,H.Z)(function*(n,e){const t=$e(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new vj),i)try{s.Pu=yield t.onListen(r)}catch(c){const h=Xg(c,`Initialization of query '${ox(e.query)}' failed`);return void e.onError(h)}t.queries.set(r,s),s.listeners.push(e),e.bu(t.onlineState),s.Pu&&e.Vu(s.Pu)&&sk(t)}),rk.apply(this,arguments)}function ik(n,e){return ok.apply(this,arguments)}function ok(){return ok=(0,H.Z)(function*(n,e){const t=$e(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const c=s.listeners.indexOf(e);c>=0&&(s.listeners.splice(c,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),ok.apply(this,arguments)}function wj(n,e){const t=$e(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const h of c.listeners)h.Vu(i)&&(r=!0);c.Pu=i}}r&&sk(t)}function Tj(n,e,t){const r=$e(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function sk(n){n.vu.forEach(e=>{e.next()})}class ak{constructor(e,t,r){this.query=e,this.Su=t,this.Du=!1,this.Cu=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new tm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Du?this.xu(e)&&(this.Su.next(e),t=!0):this.Nu(e,this.onlineState)&&(this.ku(e),t=!0),this.Cu=e,t}onError(e){this.Su.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Cu&&!this.Du&&this.Nu(this.Cu,e)&&(this.ku(this.Cu),t=!0),t}Nu(e,t){return!e.fromCache||(!this.options.$u||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}xu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Cu&&this.Cu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}ku(e){e=tm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Du=!0,this.Su.next(e)}}class TB{constructor(e){this.key=e}}class DB{constructor(e){this.key=e}}class EB{constructor(e,t){this.query=e,this.Ku=t,this.Gu=null,this.hasCachedResults=!1,this.current=!1,this.Qu=Lt(),this.mutatedKeys=Lt(),this.ju=VL(e),this.zu=new em(this.ju)}get Wu(){return this.Ku}Hu(e,t){const r=t?t.Ju:new vB,i=t?t.zu:this.zu;let s=t?t.mutatedKeys:this.mutatedKeys,c=i,h=!1;const g="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,m="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((v,D)=>{const S=i.get(v),A=Cv(this.query,D)?D:null,R=!!S&&this.mutatedKeys.has(S.key),U=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let K=!1;S&&A?S.data.isEqual(A.data)?R!==U&&(r.track({type:3,doc:A}),K=!0):this.Yu(S,A)||(r.track({type:2,doc:A}),K=!0,(g&&this.ju(A,g)>0||m&&this.ju(A,m)<0)&&(h=!0)):!S&&A?(r.track({type:0,doc:A}),K=!0):S&&!A&&(r.track({type:1,doc:S}),K=!0,(g||m)&&(h=!0)),K&&(A?(c=c.add(A),s=U?s.add(v):s.delete(v)):(c=c.delete(v),s=s.delete(v)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const v="F"===this.query.limitType?c.last():c.first();c=c.delete(v.key),s=s.delete(v.key),r.track({type:1,doc:v})}return{zu:c,Ju:r,Li:h,mutatedKeys:s}}Yu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.zu;this.zu=e.zu,this.mutatedKeys=e.mutatedKeys;const s=e.Ju.Ru();s.sort((m,v)=>function(D,S){const A=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return et()}};return A(D)-A(S)}(m.type,v.type)||this.ju(m.doc,v.doc)),this.Zu(r);const c=t?this.Xu():[],h=0===this.Qu.size&&this.current?1:0,g=h!==this.Gu;return this.Gu=h,0!==s.length||g?{snapshot:new tm(this.query,e.zu,i,s,e.mutatedKeys,0===h,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),tc:c}:{tc:c}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({zu:this.zu,Ju:new vB,mutatedKeys:this.mutatedKeys,Li:!1},!1)):{tc:[]}}ec(e){return!this.Ku.has(e)&&!!this.zu.has(e)&&!this.zu.get(e).hasLocalMutations}Zu(e){e&&(e.addedDocuments.forEach(t=>this.Ku=this.Ku.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ku=this.Ku.delete(t)),this.current=e.current)}Xu(){if(!this.current)return[];const e=this.Qu;this.Qu=Lt(),this.zu.forEach(r=>{this.ec(r.key)&&(this.Qu=this.Qu.add(r.key))});const t=[];return e.forEach(r=>{this.Qu.has(r)||t.push(new DB(r))}),this.Qu.forEach(r=>{e.has(r)||t.push(new TB(r))}),t}nc(e){this.Ku=e.Yi,this.Qu=Lt();const t=this.Hu(e.documents);return this.applyChanges(t,!0)}sc(){return tm.fromInitialDocuments(this.query,this.zu,this.mutatedKeys,0===this.Gu,this.hasCachedResults)}}class Ij{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Cj{constructor(e){this.key=e,this.ic=!1}}class Sj{constructor(e,t,r,i,s,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.rc={},this.oc=new nc(h=>LL(h),Iv),this.uc=new Map,this.cc=new Set,this.ac=new ar(He.comparator),this.hc=new Map,this.lc=new Tx,this.fc={},this.dc=new Map,this._c=Ph.Sn(),this.onlineState="Unknown",this.wc=void 0}get isPrimaryClient(){return!0===this.wc}}function Aj(n,e){return lk.apply(this,arguments)}function lk(){return lk=(0,H.Z)(function*(n,e){const t=xk(n);let r,i;const s=t.oc.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.sc();else{const c=yield Zg(t.localStore,Gi(e));t.isPrimaryClient&&BE(t.remoteStore,c);const h=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield uk(t,e,r,"current"===h,c.resumeToken)}return i}),lk.apply(this,arguments)}function uk(n,e,t,r,i){return ck.apply(this,arguments)}function ck(){return ck=(0,H.Z)(function*(n,e,t,r,i){n.mc=(D,S,A)=>{return(R=(0,H.Z)(function*(U,K,Ne,qe){let Pe=K.view.Hu(Ne);Pe.Li&&(Pe=yield RE(U.localStore,K.query,!1).then(({documents:rt})=>K.view.Hu(rt,Pe)));const nt=qe&&qe.targetChanges.get(K.targetId),Dt=K.view.applyChanges(Pe,U.isPrimaryClient,nt);return bk(U,K.targetId,Dt.tc),Dt.snapshot}),function(U,K,Ne,qe){return R.apply(this,arguments)})(n,D,S,A);var R};const s=yield RE(n.localStore,e,!0),c=new EB(e,s.Yi),h=c.Hu(s.documents),g=kv.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),m=c.applyChanges(h,n.isPrimaryClient,g);bk(n,t,m.tc);const v=new Ij(e,t,c);return n.oc.set(e,v),n.uc.has(t)?n.uc.get(t).push(e):n.uc.set(t,[e]),m.snapshot}),ck.apply(this,arguments)}function Mj(n,e){return dk.apply(this,arguments)}function dk(){return dk=(0,H.Z)(function*(n,e){const t=$e(n),r=t.oc.get(e),i=t.uc.get(r.targetId);if(i.length>1)return t.uc.set(r.targetId,i.filter(s=>!Iv(s,e))),void t.oc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Kg(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),zv(t.remoteStore,r.targetId),nm(t,r.targetId)}).catch(Yu))):(nm(t,r.targetId),yield Kg(t.localStore,r.targetId,!0))}),dk.apply(this,arguments)}function hk(){return hk=(0,H.Z)(function*(n,e,t){const r=kk(n);try{const i=yield function(s,c){const h=$e(s),g=Kn.now(),m=c.reduce((S,A)=>S.add(A.key),Lt());let v,D;return h.persistence.runTransaction("Locally write mutations","readwrite",S=>{let A=lo(),R=Lt();return h.ji.getEntries(S,m).next(U=>{A=U,A.forEach((K,Ne)=>{Ne.isValidDocument()||(R=R.add(K))})}).next(()=>h.localDocuments.getOverlayedDocuments(S,A)).next(U=>{v=U;const K=[];for(const Ne of c){const qe=L6(Ne,v.get(Ne.key).overlayedDocument);null!=qe&&K.push(new Cl(Ne.key,qe,kL(qe.value.mapValue),Un.exists(!0)))}return h.mutationQueue.addMutationBatch(S,g,K,c)}).next(U=>{D=U;const K=U.applyToLocalDocumentSet(v,R);return h.documentOverlayCache.saveOverlays(S,U.batchId,K)})}).then(()=>({batchId:D.batchId,changes:n2(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,c,h){let g=s.fc[s.currentUser.toKey()];g||(g=new ar(Ot)),g=g.insert(c,h),s.fc[s.currentUser.toKey()]=g}(r,i.batchId,t),yield Al(r,i.changes),yield Jg(r.remoteStore)}catch(i){const s=Xg(i,"Failed to persist write");t.reject(s)}}),hk.apply(this,arguments)}function IB(n,e){return fk.apply(this,arguments)}function fk(){return fk=(0,H.Z)(function*(n,e){const t=$e(n);try{const r=yield Y5(t.localStore,e);e.targetChanges.forEach((i,s)=>{const c=t.hc.get(s);c&&(ut(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.ic=!0:i.modifiedDocuments.size>0?ut(c.ic):i.removedDocuments.size>0&&(ut(c.ic),c.ic=!1))}),yield Al(t,r,e)}catch(r){yield Yu(r)}}),fk.apply(this,arguments)}function CB(n,e,t){const r=$e(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.oc.forEach((s,c)=>{const h=c.view.bu(e);h.snapshot&&i.push(h.snapshot)}),function(s,c){const h=$e(s);h.onlineState=c;let g=!1;h.queries.forEach((m,v)=>{for(const D of v.listeners)D.bu(c)&&(g=!0)}),g&&sk(h)}(r.eventManager,e),i.length&&r.rc.Ho(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function xj(n,e,t){return pk.apply(this,arguments)}function pk(){return pk=(0,H.Z)(function*(n,e,t){const r=$e(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.hc.get(e),s=i&&i.key;if(s){let c=new ar(He.comparator);c=c.insert(s,On.newNoDocument(s,gt.min()));const h=Lt().add(s),g=new xv(gt.min(),new Map,new bn(Ot),c,h);yield IB(r,g),r.ac=r.ac.remove(s),r.hc.delete(e),wk(r)}else yield Kg(r.localStore,e,!1).then(()=>nm(r,e,t)).catch(Yu)}),pk.apply(this,arguments)}function kj(n,e){return gk.apply(this,arguments)}function gk(){return gk=(0,H.Z)(function*(n,e){const t=$e(n),r=e.batch.batchId;try{const i=yield K5(t.localStore,e);vk(t,r,null),yk(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Al(t,i)}catch(i){yield Yu(i)}}),gk.apply(this,arguments)}function Rj(n,e,t){return mk.apply(this,arguments)}function mk(){return mk=(0,H.Z)(function*(n,e,t){const r=$e(n);try{const i=yield function(s,c){const h=$e(s);return h.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let m;return h.mutationQueue.lookupMutationBatch(g,c).next(v=>(ut(null!==v),m=v.keys(),h.mutationQueue.removeMutationBatch(g,v))).next(()=>h.mutationQueue.performConsistencyCheck(g)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(g,m,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,m)).next(()=>h.localDocuments.getDocuments(g,m))})}(r.localStore,e);vk(r,e,t),yk(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Al(r,i)}catch(i){yield Yu(i)}}),mk.apply(this,arguments)}function yk(n,e){(n.dc.get(e)||[]).forEach(t=>{t.resolve()}),n.dc.delete(e)}function vk(n,e,t){const r=$e(n);let i=r.fc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.fc[r.currentUser.toKey()]=i}}function nm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.uc.get(e))n.oc.delete(r),t&&n.rc.gc(r,t);n.uc.delete(e),n.isPrimaryClient&&n.lc.ds(e).forEach(r=>{n.lc.containsKey(r)||SB(n,r)})}function SB(n,e){n.cc.delete(e.path.canonicalString());const t=n.ac.get(e);null!==t&&(zv(n.remoteStore,t),n.ac=n.ac.remove(e),n.hc.delete(t),wk(n))}function bk(n,e,t){for(const r of t)r instanceof TB?(n.lc.addReference(r.key,e),Pj(n,r)):r instanceof DB?(Se("SyncEngine","Document no longer in limbo: "+r.key),n.lc.removeReference(r.key,e),n.lc.containsKey(r.key)||SB(n,r.key)):et()}function Pj(n,e){const t=e.key,r=t.path.canonicalString();n.ac.get(t)||n.cc.has(r)||(Se("SyncEngine","New document in limbo: "+t),n.cc.add(r),wk(n))}function wk(n){for(;n.cc.size>0&&n.ac.size<n.maxConcurrentLimboResolutions;){const e=n.cc.values().next().value;n.cc.delete(e);const t=new He(en.fromString(e)),r=n._c.next();n.hc.set(r,new Cj(t)),n.ac=n.ac.insert(t,r),BE(n.remoteStore,new ic(Gi(Vg(t.path)),r,2,Ro.at))}}function Al(n,e,t){return Tk.apply(this,arguments)}function Tk(){return Tk=(0,H.Z)(function*(n,e,t){const r=$e(n),i=[],s=[],c=[];var h;r.oc.isEmpty()||(r.oc.forEach((h,g)=>{c.push(r.mc(g,e,t).then(m=>{if((m||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(g.targetId,m?.fromCache?"not-current":"current"),m){i.push(m);const v=Cx.Ni(g.targetId,m);s.push(v)}}))}),yield Promise.all(c),r.rc.Ho(i),yield(h=(0,H.Z)(function*(g,m){const v=$e(g);try{yield v.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>Q.forEach(m,S=>Q.forEach(S.Ci,A=>v.persistence.referenceDelegate.addReference(D,S.targetId,A)).next(()=>Q.forEach(S.xi,A=>v.persistence.referenceDelegate.removeReference(D,S.targetId,A)))))}catch(D){if(!Ju(D))throw D;Se("LocalStore","Failed to update sequence numbers: "+D)}for(const D of m){const S=D.targetId;if(!D.fromCache){const A=v.Ki.get(S),U=A.withLastLimboFreeSnapshotVersion(A.snapshotVersion);v.Ki=v.Ki.insert(S,U)}}}),function(g,m){return h.apply(this,arguments)})(r.localStore,s))}),Tk.apply(this,arguments)}function Fj(n,e){return Dk.apply(this,arguments)}function Dk(){return Dk=(0,H.Z)(function*(n,e){const t=$e(n);if(!t.currentUser.isEqual(e)){Se("SyncEngine","User change. New user:",e.toKey());const r=yield tB(t.localStore,e);t.currentUser=e,(i=t).dc.forEach(c=>{c.forEach(h=>{h.reject(new Ie(ne.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.dc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Al(t,r.Wi)}var i}),Dk.apply(this,arguments)}function Lj(n,e){const t=$e(n),r=t.hc.get(e);if(r&&r.ic)return Lt().add(r.key);{let i=Lt();const s=t.uc.get(e);if(!s)return i;for(const c of s){const h=t.oc.get(c);i=i.unionWith(h.view.Wu)}return i}}function xk(n){const e=$e(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=IB.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Lj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xj.bind(null,e),e.rc.Ho=wj.bind(null,e.eventManager),e.rc.gc=Tj.bind(null,e.eventManager),e}function kk(n){const e=$e(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Rj.bind(null,e),e}class zj{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,H.Z)(function*(){t.Tt=Gv(e.databaseInfo.databaseId),t.sharedClientState=t.Ic(e),t.persistence=t.Tc(e),yield t.persistence.start(),t.localStore=t.Ec(e),t.gcScheduler=t.Ac(e,t.localStore),t.indexBackfillerScheduler=t.Rc(e,t.localStore)})()}Ac(e,t){return null}Rc(e,t){return null}Ec(e){return function eB(n,e,t,r){return new Z5(n,e,t,r)}(this.persistence,new X2,e.initialUser,this.Tt)}Tc(e){return new J2(xE.qs,this.Tt)}Ic(e){return new uB}terminate(){var e=this;return(0,H.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Rk{initialize(e,t){var r=this;return(0,H.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>CB(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Fj.bind(null,r.syncEngine),yield function Xx(n,e){return ek.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new bj}createDatastore(e){const t=Gv(e.databaseInfo.databaseId),r=new rj(e.databaseInfo);return new sj(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=h=>CB(this.syncEngine,h,0),c=cB.C()?new cB:new ej,new uj(t,r,i,s,c);var t,r,i,s,c}createSyncEngine(e,t){return function(r,i,s,c,h,g,m){const v=new Sj(r,i,s,c,h,g);return m&&(v.wc=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,H.Z)(function*(t){const r=$e(t);Se("RemoteStore","RemoteStore shutting down."),r.mu.add(5),yield Yg(r),r.yu.shutdown(),r.pu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class UE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.vc(this.observer.next,e)}error(e){this.observer.error?this.vc(this.observer.error,e):gr("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Qj{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Zr.UNAUTHENTICATED,this.clientId=sL.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,H.Z)(function*(h){Se("FirestoreClient","Received user=",h.uid),yield s.authCredentialListener(h),s.user=h});return function(h){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Se("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,H.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ie(ne.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,H.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Xg(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function xB(n,e){return Ok.apply(this,arguments)}function Ok(){return Ok=(0,H.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Se("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,H.Z)(function*(s){r.isEqual(s)||(yield tB(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),Ok.apply(this,arguments)}function kB(n,e){return Pk.apply(this,arguments)}function Pk(){return Pk=(0,H.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Fk(n);Se("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>yB(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>yB(e.remoteStore,s)),n.onlineComponents=e}),Pk.apply(this,arguments)}function Fk(n){return Lk.apply(this,arguments)}function Lk(){return Lk=(0,H.Z)(function*(n){return n.offlineComponents||(Se("FirestoreClient","Using default OfflineComponentProvider"),yield xB(n,new zj)),n.offlineComponents}),Lk.apply(this,arguments)}function HE(n){return Bk.apply(this,arguments)}function Bk(){return Bk=(0,H.Z)(function*(n){return n.onlineComponents||(Se("FirestoreClient","Using default OnlineComponentProvider"),yield kB(n,new Rk)),n.onlineComponents}),Bk.apply(this,arguments)}function rm(n){return Hk.apply(this,arguments)}function Hk(){return Hk=(0,H.Z)(function*(n){const e=yield HE(n),t=e.eventManager;return t.onListen=Aj.bind(null,e.syncEngine),t.onUnlisten=Mj.bind(null,e.syncEngine),t}),Hk.apply(this,arguments)}const LB=new Map;function $k(n,e,t){if(!t)throw new Ie(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function BB(n){if(!He.isDocumentKey(n))throw new Ie(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function VB(n){if(He.isDocumentKey(n))throw new Ie(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function jE(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":et()}function Jt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ie(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=jE(n);throw new Ie(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class HB{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ie(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ie(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function sG(n,e,t,r){if(!0===e&&!0===r)throw new Ie(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wv{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new HB({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ie(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ie(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new HB(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new t6;switch(t.type){case"gapi":return new o6(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ie(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=LB.get(e);t&&(Se("ComponentProvider","Removing Datastore"),LB.delete(e),t.terminate())}(this),Promise.resolve()}}class yr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yr(this.firestore,e,this._key)}}class gi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new gi(this.firestore,e,this._query)}}class Oa extends gi{constructor(e,t,r){super(e,t,Vg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yr(this.firestore,null,new He(e))}withConverter(e){return new Oa(this.firestore,e,this._path)}}function lG(n,e,...t){if(n=(0,Le.m9)(n),$k("collection","path",e),n instanceof Wv){const r=en.fromString(e,...t);return VB(r),new Oa(n,null,r)}{if(!(n instanceof yr||n instanceof Oa))throw new Ie(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(en.fromString(e,...t));return VB(r),new Oa(n.firestore,null,r)}}function GE(n,e,...t){if(n=(0,Le.m9)(n),1===arguments.length&&(e=sL.R()),$k("doc","path",e),n instanceof Wv){const r=en.fromString(e,...t);return BB(r),new yr(n,null,new He(r))}{if(!(n instanceof yr||n instanceof Oa))throw new Ie(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(en.fromString(e,...t));return BB(r),new yr(n.firestore,n instanceof Oa?n.converter:null,new He(r))}}class uG{constructor(){this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new Fx(this,"async_queue_retry"),this.Hc=()=>{const t=LE();t&&Se("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ko.Vo()};const e=LE();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Hc)}get isShuttingDown(){return this.Kc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Jc(),this.Yc(e)}enterRestrictedMode(e){if(!this.Kc){this.Kc=!0,this.zc=e||!1;const t=LE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Hc)}}enqueue(e){if(this.Jc(),this.Kc)return new Promise(()=>{});const t=new Br;return this.Yc(()=>this.Kc&&this.zc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Uc.push(e),this.Zc()))}Zc(){var e=this;return(0,H.Z)(function*(){if(0!==e.Uc.length){try{yield e.Uc[0](),e.Uc.shift(),e.ko.reset()}catch(t){if(!Ju(t))throw t;Se("AsyncQueue","Operation failed with retryable error: "+t)}e.Uc.length>0&&e.ko.vo(()=>e.Zc())}})()}Yc(e){const t=this.qc.then(()=>(this.jc=!0,e().catch(r=>{throw this.Qc=r,this.jc=!1,gr("INTERNAL UNHANDLED ERROR: ",function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),c}(r)),r}).then(r=>(this.jc=!1,r))));return this.qc=t,t}enqueueAfterDelay(e,t,r){this.Jc(),this.Wc.indexOf(e)>-1&&(t=0);const i=tk.createAndSchedule(this,e,t,r,s=>this.Xc(s));return this.Gc.push(i),i}Jc(){this.Qc&&et()}verifyOperationInProgress(){}ta(){var e=this;return(0,H.Z)(function*(){let t;do{t=e.qc,yield t}while(t!==e.qc)})()}ea(e){for(const t of this.Gc)if(t.timerId===e)return!0;return!1}na(e){return this.ta().then(()=>{this.Gc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Gc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ta()})}sa(e){this.Wc.push(e)}Xc(e){const t=this.Gc.indexOf(e);this.Gc.splice(t,1)}}class Pn extends Wv{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new uG,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||jB(this),this._firestoreClient.terminate()}}function dG(n,e){const t="object"==typeof n?n:(0,mn.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,mn._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(0,Le.P0)("firestore");s&&function aG(n,e,t,r={}){var i;const s=(n=Jt(n,Wv))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&Rg("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,h;if("string"==typeof r.mockUserToken)c=r.mockUserToken,h=Zr.MOCK_USER;else{c=(0,Le.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Ie(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Zr(g)}n._authCredentials=new n6(new iL(c,h))}}(i,...s)}return i}function Mr(n){return n._firestoreClient||jB(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function jB(n){var e;const t=n._freezeSettings(),r=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new y6(n._databaseId,s,n._persistenceKey,(h=t).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var s,h;n._firestoreClient=new Qj(n._authCredentials,n._appCheckCredentials,n._queue,r)}class Lh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Lh(Vr.fromBase64String(e))}catch(t){throw new Ie(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Lh(Vr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class im{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ie(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class zB{constructor(e){this._methodName=e}}class Gk{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ie(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ie(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ot(this._lat,e._lat)||Ot(this._long,e._long)}}const fG=/^__.*__$/;class pG{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Cl(e,this.data,this.fieldMask,t,this.fieldTransforms):new $g(e,this.data,t,this.fieldTransforms)}}function ZB(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw et()}}class qE{constructor(e,t,r,i,s,c){this.settings=e,this.databaseId=t,this.Tt=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ia(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ra(){return this.settings.ra}oa(e){return new qE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.Tt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ua(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.oa({path:r,ca:!1});return i.aa(e),i}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.oa({path:r,ca:!1});return i.ia(),i}la(e){return this.oa({path:void 0,ca:!0})}fa(e){return WE(e,this.settings.methodName,this.settings.da||!1,this.path,this.settings._a)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ia(){if(this.path)for(let e=0;e<this.path.length;e++)this.aa(this.path.get(e))}aa(e){if(0===e.length)throw this.fa("Document fields must not be empty");if(ZB(this.ra)&&fG.test(e))throw this.fa('Document fields cannot begin and end with "__"')}}class gG{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.Tt=r||Gv(e)}wa(e,t,r,i=!1){return new qE({ra:e,methodName:t,_a:r,path:mr.emptyPath(),ca:!1,da:i},this.databaseId,this.Tt,this.ignoreUndefinedProperties)}}function om(n){const e=n._freezeSettings(),t=Gv(n._databaseId);return new gG(n._databaseId,!!e.ignoreUndefinedProperties,t)}function qk(n,e,t,r,i,s={}){const c=n.wa(s.merge||s.mergeFields?2:0,e,t,i);Wk("Data must be an object, but it was:",c,r);const h=XB(r,c);let g,m;if(s.merge)g=new ao(c.fieldMask),m=c.fieldTransforms;else if(s.mergeFields){const v=[];for(const D of s.mergeFields){const S=Yv(e,D,t);if(!c.contains(S))throw new Ie(ne.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);tV(v,S)||v.push(S)}g=new ao(v),m=c.fieldTransforms.filter(D=>g.covers(D.field))}else g=null,m=c.fieldTransforms;return new pG(new Kr(h),g,m)}function Bh(n,e){if(eV(n=(0,Le.m9)(n)))return Wk("Unsupported field value:",e,n),XB(n,e);if(n instanceof zB)return function(t,r){if(!ZB(r.ra))throw r.fa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.fa(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ca&&4!==e.ra)throw e.fa("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const c of t){let h=Bh(c,r.la(s));null==h&&(h={nullValue:"NULL_VALUE"}),i.push(h),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Le.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return $L(r.Tt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Kn.fromDate(t);return{timestampValue:Gg(r.Tt,i)}}if(t instanceof Kn){const i=new Kn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Gg(r.Tt,i)}}if(t instanceof Gk)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Lh)return{bytesValue:u2(r.Tt,t._byteString)};if(t instanceof yr){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r.fa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:ax(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.fa(`Unsupported field value: ${jE(t)}`)}(n,e)}function XB(n,e){const t={};return fL(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Th(n,(r,i)=>{const s=Bh(i,e.ua(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function eV(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Kn||n instanceof Gk||n instanceof Lh||n instanceof yr||n instanceof zB)}function Wk(n,e,t){if(!eV(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=jE(t);throw e.fa("an object"===r?n+" a custom object":n+" "+r)}var r}function Yv(n,e,t){if((e=(0,Le.m9)(e))instanceof im)return e._internalPath;if("string"==typeof e)return zE(n,e);throw WE("Field path arguments must be of type string or ",n,!1,void 0,t)}const vG=new RegExp("[~\\*/\\[\\]]");function zE(n,e,t){if(e.search(vG)>=0)throw WE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new im(...e.split("."))._internalPath}catch{throw WE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function WE(n,e,t,r,i){const s=r&&!r.isEmpty(),c=void 0!==i;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let g="";return(s||c)&&(g+=" (found",s&&(g+=` in field ${r}`),c&&(g+=` in document ${i}`),g+=")"),new Ie(ne.INVALID_ARGUMENT,h+n+g)}function tV(n,e){return n.some(t=>t.isEqual(e))}class Zk{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new yr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new bG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ZE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class bG extends Zk{data(){return super.data()}}function ZE(n,e){return"string"==typeof e?zE(n,e):e instanceof im?e._internalPath:e._delegate._internalPath}function Yk(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Vh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class am extends Zk{constructor(e,t,r,i,s,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new QE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(ZE("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class QE extends am{data(e={}){return super.data(e)}}class lm{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Vh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new QE(this._firestore,this._userDataWriter,r.key,r,new Vh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ie(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new QE(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Vh(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const h=new QE(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Vh(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let g=-1,m=-1;return 0!==c.type&&(g=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),1!==c.type&&(s=s.add(c.doc),m=s.indexOf(c.doc.key)),{type:EG(c.type),doc:h,oldIndex:g,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function EG(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return et()}}class uc extends class TG{convertValue(e,t="none"){switch(Eh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return sr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Dh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw et()}}convertObject(e,t){const r={};return Th(e.fields,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new Gk(sr(e.latitude),sr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=gL(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(bv(e));default:return null}}convertTimestamp(e){const t=Qu(e);return new Kn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=en.fromString(e);ut(v2(r));const i=new wh(r.get(1),r.get(3)),s=new He(r.popFirst(5));return i.isEqual(t)||gr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yr(this.firestore,null,t)}}function CG(n){n=Jt(n,gi);const e=Jt(n.firestore,Pn),t=Mr(e),r=new uc(e);return function nV(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ie(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),function FB(n,e,t={}){const r=new Br;return n.asyncQueue.enqueueAndForget((0,H.Z)(function*(){return function(i,s,c,h,g){const m=new UE({next:D=>{s.enqueueAndForget(()=>ik(i,v)),D.fromCache&&"server"===h.source?g.reject(new Ie(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(D)},error:D=>g.reject(D)}),v=new ak(c,m,{includeMetadataChanges:!0,$u:!0});return nk(i,v)}(yield rm(n),n.asyncQueue,e,t,r)})),r.promise}(t,n._query).then(i=>new lm(e,r,n,i))}function SG(n,e,t){n=Jt(n,yr);const r=Jt(n.firestore,Pn),i=Yk(n.converter,e,t);return Qv(r,[qk(om(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Un.none())])}function MG(n,e){const t=Jt(n.firestore,Pn),r=GE(n),i=Yk(n.converter,e);return Qv(t,[qk(om(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Un.exists(!1))]).then(()=>r)}function Qv(n,e){return function(t,r){const i=new Br;return t.asyncQueue.enqueueAndForget((0,H.Z)(function*(){return function Nj(n,e,t){return hk.apply(this,arguments)}(yield function Uk(n){return HE(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(Mr(n),e)}!function(n,e=!0){kg=mn.SDK_VERSION,(0,mn._registerComponent)(new wa.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),c=new Pn(new r6(t.getProvider("auth-internal")),new s6(t.getProvider("app-check-internal")),function(h,g){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Ie(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wh(h.options.projectId,g)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),(0,mn.registerVersion)(rL,"3.9.0",n),(0,mn.registerVersion)(rL,"3.9.0","esm2017")}();class eI{constructor(e){return e}}const cV="firestore",Qk=new o.OlP("angularfire2.firestore-instances");function FG(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new eI(r)}}const LG={provide:class OG{constructor(){return(0,un.vb)(cV)}},deps:[[new o.FiY,Qk]]},BG={provide:eI,useFactory:function PG(n,e){const t=(0,un.JM)(cV,n,e);return t&&new eI(t)},deps:[[new o.FiY,Qk],gl]};let VG=(()=>{class n{constructor(){(0,xs.KN)("angularfire",un.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[BG,LG]}),n})();function UG(n,...e){return{ngModule:VG,providers:[{provide:Qk,useFactory:FG(n),multi:!0,deps:[o.R0b,o.zs3,un.HU,zd,[new o.FiY,UP],[new o.FiY,Dy],...e]}]}}const HG=(0,un.u3)(MG,!0),Xv=(0,un.u3)(lG,!0),$G=(0,un.u3)(CG,!0),jG=(0,un.u3)(dG,!0),GG=(0,un.u3)(SG,!0);let tI=(()=>{class n{constructor(t){this.firestore=t}addArticulo(t){var r=this;return(0,H.Z)(function*(){const i=Xv(r.firestore,"articulos");try{yield HG(i,t),console.log("Articulo added successfully")}catch(s){console.error("Error adding articulo: ",s)}})()}getArticulos(){var t=this;return(0,H.Z)(function*(){const r=Xv(t.firestore,"articulos"),i=yield $G(r),s=[];return i.forEach(c=>{const h=c.data();h.id=c.id,s.push(h)}),s})()}getArticulo(t){var r=this;return(0,H.Z)(function*(){if(!t)return console.error("Invalid ID: ",t),null;const i=GE(Xv(r.firestore,"articulos"),t),s=yield function IG(n){n=Jt(n,yr);const e=Jt(n.firestore,Pn);return function PB(n,e,t={}){const r=new Br;return n.asyncQueue.enqueueAndForget((0,H.Z)(function*(){return function(i,s,c,h,g){const m=new UE({next:D=>{s.enqueueAndForget(()=>ik(i,v));const S=D.docs.has(c);!S&&D.fromCache?g.reject(new Ie(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&D.fromCache&&h&&"server"===h.source?g.reject(new Ie(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(D)},error:D=>g.reject(D)}),v=new ak(Vg(c.path),m,{includeMetadataChanges:!0,$u:!0});return nk(i,v)}(yield rm(n),n.asyncQueue,e,t,r)})),r.promise}(Mr(e),n._key).then(t=>function Jk(n,e,t){const r=t.docs.get(e._key),i=new uc(n);return new am(n,i,e._key,r,new Vh(t.hasPendingWrites,t.fromCache),e.converter)}(e,n,t))}(i);if(s.exists()){const c=s.data();return c.id=s.id,c}return console.error("Articulo not found: ",t),null})()}editArticulo(t){var r=this;return(0,H.Z)(function*(){const i=Xv(r.firestore,"articulos");try{yield GG(GE(i,t.id),t),console.log("Articulo edited successfully")}catch(s){console.error("Error editing articulo: ",s)}})()}deleteArticulo(t){var r=this;return(0,H.Z)(function*(){const i=GE(Xv(r.firestore,"articulos"),t);try{yield function AG(n){return Qv(Jt(n.firestore,Pn),[new jg(n._key,Un.none())])}(i),console.log("Articulo deleted successfully")}catch(s){console.error("Error deleting articulo: ",s)}})()}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(eI))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qG=(()=>{class n{constructor(t){this.router=t}ngOnInit(){}navigateToArticle(t){this.router.navigate(["/articulo",this.articuloID])}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(gn))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-supporting-section"]],inputs:{title:"title",description:"description",backgroundImageUrl:"backgroundImageUrl",articuloID:"articuloID"},decls:14,vars:3,consts:[[1,"grid"],[1,"d-none","d-sm-block","g-col-2","g-col-md-2","g-col-sm-1"],[1,"g-lg-col-8","g-col-md-8","g-col-sm-12","supporting-section-container"],[1,"description-container"],["type","button",1,"btn","btn-link",3,"click"],[1,"img-container"],[3,"src"]],template:function(t,r){1&t&&(o.TgZ(0,"section",0),o._UZ(1,"div",1),o.TgZ(2,"div",2)(3,"div",3)(4,"h2"),o._uU(5),o.qZA(),o.TgZ(6,"p"),o._uU(7),o._UZ(8,"br"),o.TgZ(9,"button",4),o.NdJ("click",function(){return r.navigateToArticle(r.articuloID)}),o._uU(10," Seguir leyendo... "),o.qZA()()(),o.TgZ(11,"div",5),o._UZ(12,"img",6),o.qZA()(),o._UZ(13,"div",1),o.qZA()),2&t&&(o.xp6(5),o.Oqu(r.title),o.xp6(2),o.hij(" ",r.description," "),o.xp6(5),o.s9C("src",r.backgroundImageUrl,o.LSH))},styles:["section[_ngcontent-%COMP%]{background-color:#d5ecf261!important}.supporting-section-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}.supporting-section-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:1;flex-basis:50%}.img-container[_ngcontent-%COMP%]{padding:0;display:flex;justify-content:center;align-items:flex-end}.description-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem;justify-content:center;padding:5rem 0;width:100%}.img-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding-top:10rem;width:100%;height:auto;filter:grayscale(100%);-webkit-filter:grayscale(100%);padding-left:5rem}button[_ngcontent-%COMP%]{text-align:left;padding:0;font-size:1.1rem;text-decoration:none;margin-bottom:.35rem}@media (max-width: 1400px){img[_ngcontent-%COMP%]{padding:0 2rem!important}}@media (max-width: 767.98px){.supporting-section-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:auto}.img-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding:2rem 2rem 0}.grid[_ngcontent-%COMP%]{display:flex;padding:0 2rem}}@media (max-width: 575.98px){.description-container[_ngcontent-%COMP%]{padding:1rem}.img-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding:0 .5rem;width:90%}}","section[_ngcontent-%COMP%]{background-color:#fff}h2[_ngcontent-%COMP%]{font-size:2.15rem}@media (max-width: 1450px){.content[_ngcontent-%COMP%]{padding-left:5rem}.sub-title[_ngcontent-%COMP%]{font-size:2.75rem}}@media (max-width: 767.98px){.content[_ngcontent-%COMP%]{padding-left:2rem}}@media (max-width: 576px){.sub-title[_ngcontent-%COMP%]{font-size:1.75rem;margin-bottom:1.5rem}}"]}),n})(),zG=(()=>{class n{constructor(t,r){this.articuloService=t,this.router=r,this.articulos=[]}ngOnInit(){this.getArticulos()}getArticulos(){var t=this;return(0,H.Z)(function*(){t.articulos=yield t.articuloService.getArticulos()})()}navigateToArticle(t){this.router.navigate(["/articulo",t])}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(tI),o.Y36(gn))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-destacados"]],decls:19,vars:0,consts:[["id","destacados",1,"destacados-container","grid"],[1,"g-col-2"],[1,"g-col-8"],[1,"grid","secciones"],[1,"secciones-container","g-col-11","g-start-3"],[1,"seccion-item","tdah"],[1,"seccion-title-container"],[1,"seccion-item","padres"],[1,"seccion-item","hijos"]],template:function(t,r){1&t&&(o.TgZ(0,"div",0),o._UZ(1,"div",1),o.TgZ(2,"div",2)(3,"h2"),o._uU(4,"Secciones destacadas"),o.qZA(),o.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"h3"),o._uU(10,"TDAH"),o.qZA()()(),o.TgZ(11,"div",7)(12,"div",6)(13,"h3"),o._uU(14,"Padres"),o.qZA()()(),o.TgZ(15,"div",8)(16,"div",6)(17,"h3"),o._uU(18,"J\xf3venes"),o.qZA()()()()()()())},styles:[".destacados-container[_ngcontent-%COMP%]{background:rgb(77,95,122);background:linear-gradient(135deg,rgba(77,95,122) 0%,rgb(51,67,90) 55%,rgba(48,63,85,1) 100%);width:100%;padding-top:4rem;color:#fff}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:#fff}h3[_ngcontent-%COMP%]{font-weight:400!important;font-size:2.1rem}.secciones[_ngcontent-%COMP%]{padding-top:5rem}.secciones-container[_ngcontent-%COMP%]{background-color:#000;height:22rem;align-self:flex-end;display:flex;flex-wrap:wrap;overflow:hidden}.secciones-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex-basis:33.33%;background-repeat:no-repeat;background-size:cover;background-position:center}.seccion-item[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:flex-end;position:relative;float:left}.seccion-item[_ngcontent-%COMP%]:hover{filter:brightness(1.75);cursor:pointer}.seccion-title-container[_ngcontent-%COMP%]{background-color:#0000004d;flex-basis:60%;height:6rem;padding:1.5rem;justify-content:end;display:flex;align-items:end;margin-bottom:4rem}.tdah[_ngcontent-%COMP%], .padres[_ngcontent-%COMP%], .hijos[_ngcontent-%COMP%]{transition:all .5s}.tdah[_ngcontent-%COMP%]:hover, .tdah[_ngcontent-%COMP%]:focus, .padres[_ngcontent-%COMP%]:hover, .padres[_ngcontent-%COMP%]:focus, .hijos[_ngcontent-%COMP%]:hover, .hijos[_ngcontent-%COMP%]:focus{transform:scale(1.1);transform-origin:bottom 10px}.tdah[_ngcontent-%COMP%]{background:linear-gradient(45deg,rgba(7,0,72,.8),rgba(76,3,109,.8)),url(/mental-behavior/electrodos.5e4d7491c8c7bac2.jpg)}.padres[_ngcontent-%COMP%]{background:linear-gradient(45deg,rgba(7,0,72,.6),rgba(87,65,34)),url(/mental-behavior/padres.5ee5028fd6131637.webp)}.hijos[_ngcontent-%COMP%]{background:linear-gradient(45deg,rgba(7,0,72,.8),rgba(255,131,7,.8)),url(/mental-behavior/jovenes.b5e3613820ebcd68.jpeg)}@media (max-width: 1199.98px){.secciones-container[_ngcontent-%COMP%]{height:30rem}.secciones[_ngcontent-%COMP%]{display:flex}.secciones-container[_ngcontent-%COMP%]{flex-grow:1}.secciones-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex-basis:100%}}","section[_ngcontent-%COMP%]{background-color:#fff}h2[_ngcontent-%COMP%]{font-size:2.15rem}@media (max-width: 1450px){.content[_ngcontent-%COMP%]{padding-left:5rem}.sub-title[_ngcontent-%COMP%]{font-size:2.75rem}}@media (max-width: 767.98px){.content[_ngcontent-%COMP%]{padding-left:2rem}}@media (max-width: 576px){.sub-title[_ngcontent-%COMP%]{font-size:1.75rem;margin-bottom:1.5rem}}"]}),n})(),dV=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n}),n})(),Uh=(()=>{class n extends dV{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=o.n5z(n)))(r||n)}}(),n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})();const mi=new o.OlP("NgValueAccessor"),KG={provide:mi,useExisting:(0,o.Gpc)(()=>um),multi:!0},JG=new o.OlP("CompositionEventMode");let um=(()=>{class n extends dV{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function YG(){const n=V()?V().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(JG,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&o.NdJ("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[o._Bn([KG]),o.qOj]}),n})();const _i=new o.OlP("NgValidators"),dc=new o.OlP("NgAsyncValidators");function mV(n){return function cc(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function nI(n){return null}function TV(n){return null!=n}function DV(n){return(0,o.QGY)(n)?(0,fn.D)(n):n}function EV(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function IV(n,e){return e.map(t=>t(n))}function CV(n){return n.map(e=>function e4(n){return!n.validate}(e)?e:t=>e.validate(t))}function Xk(n){return null!=n?function SV(n){if(!n)return null;const e=n.filter(TV);return 0==e.length?null:function(t){return EV(IV(t,e))}}(CV(n)):null}function eR(n){return null!=n?function AV(n){if(!n)return null;const e=n.filter(TV);return 0==e.length?null:function(t){return function WG(...n){const e=(0,eo.jO)(n),{args:t,keys:r}=Cf(n),i=new Tr.y(s=>{const{length:c}=t;if(!c)return void s.complete();const h=new Array(c);let g=c,m=c;for(let v=0;v<c;v++){let D=!1;(0,jo.Xf)(t[v]).subscribe((0,Dn.x)(s,S=>{D||(D=!0,m--),h[v]=S},()=>g--,void 0,()=>{(!g||!D)&&(m||s.next(r?Xa(r,h):h),s.complete())}))}});return e?i.pipe(Yl(e)):i}(IV(t,e).map(DV)).pipe((0,Qe.U)(EV))}}(CV(n)):null}function MV(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function tR(n){return n?Array.isArray(n)?n:[n]:[]}function rI(n,e){return Array.isArray(n)?n.includes(e):n===e}function kV(n,e){const t=tR(e);return tR(n).forEach(i=>{rI(t,i)||t.push(i)}),t}function RV(n,e){return tR(e).filter(t=>!rI(n,t))}class OV{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Xk(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=eR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class zi extends OV{get formDirective(){return null}get path(){return null}}class hc extends OV{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class PV{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let iI=(()=>{class n extends PV{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(hc,2))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&o.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[o.qOj]}),n})(),FV=(()=>{class n extends PV{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(zi,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&o.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[o.qOj]}),n})();const eb="VALID",sI="INVALID",cm="PENDING",tb="DISABLED";function oR(n){return(aI(n)?n.validators:n)||null}function BV(n){return Array.isArray(n)?Xk(n):n||null}function sR(n,e){return(aI(e)?e.asyncValidators:n)||null}function VV(n){return Array.isArray(n)?eR(n):n||null}function aI(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class $V{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=BV(this._rawValidators),this._composedAsyncValidatorFn=VV(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===eb}get invalid(){return this.status===sI}get pending(){return this.status==cm}get disabled(){return this.status===tb}get enabled(){return this.status!==tb}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=BV(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=VV(e)}addValidators(e){this.setValidators(kV(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(kV(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(RV(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(RV(e,this._rawAsyncValidators))}hasValidator(e){return rI(this._rawValidators,e)}hasAsyncValidator(e){return rI(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=cm,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=tb,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=eb,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===eb||this.status===cm)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?tb:eb}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=cm,this._hasOwnPendingAsyncValidator=!0;const t=DV(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?tb:this.errors?sI:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(cm)?cm:this._anyControlsHaveStatus(sI)?sI:eb}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){aI(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class aR extends $V{constructor(e,t,r){super(oR(t),sR(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function HV(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new o.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function UV(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new o.vHH(1e3,"");if(!r[t])throw new o.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function nb(n,e){lR(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function u4(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&jV(n,e)})}(n,e),function d4(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function c4(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&jV(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function l4(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function cI(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function lR(n,e){const t=function NV(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(MV(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function xV(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(MV(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();cI(e._rawValidators,i),cI(e._rawAsyncValidators,i)}function jV(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const m4={provide:zi,useExisting:(0,o.Gpc)(()=>hI)},rb=(()=>Promise.resolve())();let hI=(()=>{class n extends zi{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new o.vpe,this.form=new aR({},Xk(t),eR(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){rb.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),nb(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){rb.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){rb.then(()=>{const r=this._findContainer(t.path),i=new aR({});(function GV(n,e){lR(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){rb.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){rb.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function zV(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(_i,10),o.Y36(dc,10))},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&o.NdJ("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([m4]),o.qOj]}),n})();function WV(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function ZV(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const KV=class extends $V{constructor(e=null,t,r){super(oR(t),sR(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),aI(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=ZV(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){WV(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){WV(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){ZV(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},v4={provide:hc,useExisting:(0,o.Gpc)(()=>ib)},QV=(()=>Promise.resolve())();let ib=(()=>{class n extends hc{constructor(t,r,i,s,c){super(),this._changeDetectorRef=c,this.control=new KV,this._registered=!1,this.update=new o.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function cR(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===um?t=s:function p4(n){return Object.getPrototypeOf(n.constructor)===Uh}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function uR(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){nb(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){QV.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,o.D6c)(r);QV.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function lI(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(zi,9),o.Y36(_i,10),o.Y36(dc,10),o.Y36(mi,10),o.Y36(o.sBO,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o._Bn([v4]),o.qOj,o.TTD]}),n})(),XV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),tU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const M4={provide:mi,useExisting:(0,o.Gpc)(()=>pR),multi:!0};function lU(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let pR=(()=>{class n extends Uh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=lU(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function N4(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=o.n5z(n)))(r||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&o.NdJ("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[o._Bn([M4]),o.qOj]}),n})(),uU=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(lU(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(pR,9))},n.\u0275dir=o.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const x4={provide:mi,useExisting:(0,o.Gpc)(()=>gR),multi:!0};function cU(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let gR=(()=>{class n extends Uh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(s=>this._getOptionId(s));r=(s,c)=>{s._setSelected(i.indexOf(c.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const c=s;for(let h=0;h<c.length;h++){const m=this._getOptionValue(c[h].value);i.push(m)}}else{const c=r.options;for(let h=0;h<c.length;h++){const g=c[h];if(g.selected){const m=this._getOptionValue(g.value);i.push(m)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function k4(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=o.n5z(n)))(r||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&o.NdJ("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[o._Bn([x4]),o.qOj]}),n})(),dU=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(cU(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(cU(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(gR,9))},n.\u0275dir=o.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),Hh=(()=>{class n{constructor(){this._validator=nI}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):nI,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,features:[o.TTD]}),n})();const P4={provide:_i,useExisting:(0,o.Gpc)(()=>ob),multi:!0};let ob=(()=>{class n extends Hh{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=o.D6c,this.createValidator=t=>mV}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=o.n5z(n)))(r||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&o.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[o._Bn([P4]),o.qOj]}),n})(),H4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[tU]}),n})(),fI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[H4]}),n})();var mR=x(4986),j4=x(3532);var pI=x(5032);new Tr.y(pI.Z);var q4=x(1144);const z4=["addListener","removeListener"],W4=["addEventListener","removeEventListener"],Z4=["on","off"];function yi(n,e,t,r){if((0,Ii.m)(t)&&(r=t,t=void 0),r)return yi(n,e,t).pipe(Yl(r));const[i,s]=function J4(n){return(0,Ii.m)(n.addEventListener)&&(0,Ii.m)(n.removeEventListener)}(n)?W4.map(c=>h=>n[c](e,h,t)):function K4(n){return(0,Ii.m)(n.addListener)&&(0,Ii.m)(n.removeListener)}(n)?z4.map(DU(n,e)):function Y4(n){return(0,Ii.m)(n.on)&&(0,Ii.m)(n.off)}(n)?Z4.map(DU(n,e)):[];if(!i&&(0,q4.z)(n))return(0,w.z)(c=>yi(c,e,t))((0,jo.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Tr.y(c=>{const h=(...g)=>c.next(1<g.length?g:g[0]);return i(h),()=>s(h)})}function DU(n,e){return t=>r=>n[t](e,r)}var EU=x(6451);const{isArray:Q4}=Array;function Wi(n){return(0,pn.e)((e,t)=>{(0,jo.Xf)(n).subscribe((0,Dn.x)(t,()=>t.complete(),pI.Z)),!t.closed&&e.subscribe(t)})}function _R(...n){const e=(0,eo.jO)(n);return(0,pn.e)((t,r)=>{const i=n.length,s=new Array(i);let c=n.map(()=>!1),h=!1;for(let g=0;g<i;g++)(0,jo.Xf)(n[g]).subscribe((0,Dn.x)(r,m=>{s[g]=m,!h&&!c[g]&&(c[g]=!0,(h=c.every(bo.y))&&(c=null))},pI.Z));t.subscribe((0,Dn.x)(r,g=>{if(h){const m=[g,...s];r.next(e?e(...m):m)}}))})}function CU(n,e){return e?t=>vs(e.pipe(Kt(1),function rq(){return(0,pn.e)((n,e)=>{n.subscribe((0,Dn.x)(e,pI.Z))})}()),t.pipe(CU(n))):(0,w.z)((t,r)=>n(t,r).pipe(Kt(1),Wn(t)))}function SU(n,e=mR.z){const t=function wU(n=0,e,t=mR.P){let r=-1;return null!=e&&((0,j4.K)(e)?t=e:r=e),new Tr.y(i=>{let s=function G4(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let c=0;return t.schedule(function(){i.closed||(i.next(c++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(n,e);return CU(()=>t)}x(3099);const dm=["*"],vq=["defaultDayTemplate"],bq=["content"];function wq(n,e){if(1&n&&o._UZ(0,"div",7),2&n){const r=e.currentMonth,i=e.selected,s=e.disabled,c=e.focused;o.Q6J("date",e.date)("currentMonth",r)("selected",i)("disabled",s)("focused",c)}}function Tq(n,e){if(1&n&&(o.TgZ(0,"div",12),o._uU(1),o.qZA()),2&n){const t=o.oxw().$implicit,r=o.oxw(2);o.xp6(1),o.AsE(" ",r.i18n.getMonthFullName(t.number,t.year)," ",r.i18n.getYearNumerals(t.year)," ")}}function Dq(n,e){if(1&n&&(o.TgZ(0,"div",9),o.YNc(1,Tq,2,2,"div",10),o._UZ(2,"ngb-datepicker-month",11),o.qZA()),2&n){const t=e.$implicit,r=o.oxw(2);o.xp6(1),o.Q6J("ngIf","none"===r.navigation||r.displayMonths>1&&"select"===r.navigation),o.xp6(1),o.Q6J("month",t.firstDate)}}function Eq(n,e){if(1&n&&o.YNc(0,Dq,3,2,"div",8),2&n){const t=o.oxw();o.Q6J("ngForOf",t.model.months)}}function Iq(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"ngb-datepicker-navigation",13),o.NdJ("navigate",function(i){o.CHM(t);const s=o.oxw();return o.KtG(s.onNavigateEvent(i))})("select",function(i){o.CHM(t);const s=o.oxw();return o.KtG(s.onNavigateDateSelect(i))}),o.qZA()}if(2&n){const t=o.oxw();o.Q6J("date",t.model.firstDate)("months",t.model.months)("disabled",t.model.disabled)("showSelect","select"===t.model.navigation)("prevDisabled",t.model.prevDisabled)("nextDisabled",t.model.nextDisabled)("selectBoxes",t.model.selectBoxes)}}function Cq(n,e){}function Sq(n,e){}function Aq(n,e){1&n&&o._UZ(0,"div",5)}function Mq(n,e){if(1&n&&(o.TgZ(0,"div",6),o._uU(1),o.qZA()),2&n){const t=e.$implicit,r=o.oxw(2);o.xp6(1),o.hij(" ",r.i18n.getWeekdayShortName(t)," ")}}function Nq(n,e){if(1&n&&(o.TgZ(0,"div",2),o.YNc(1,Aq,1,0,"div",3),o.YNc(2,Mq,2,1,"div",4),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Q6J("ngIf",t.datepicker.showWeekNumbers),o.xp6(1),o.Q6J("ngForOf",t.viewModel.weekdays)}}function xq(n,e){if(1&n&&(o.TgZ(0,"div",11),o._uU(1),o.qZA()),2&n){const t=o.oxw(2).$implicit,r=o.oxw();o.xp6(1),o.Oqu(r.i18n.getWeekNumerals(t.number))}}function kq(n,e){}function Rq(n,e){if(1&n&&o.YNc(0,kq,0,0,"ng-template",14),2&n){const t=o.oxw().$implicit,r=o.oxw(3);o.Q6J("ngTemplateOutlet",r.datepicker.dayTemplate)("ngTemplateOutletContext",t.context)}}function Oq(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",12),o.NdJ("click",function(i){const c=o.CHM(t).$implicit;return o.oxw(3).doSelect(c),o.KtG(i.preventDefault())}),o.YNc(1,Rq,1,2,"ng-template",13),o.qZA()}if(2&n){const t=e.$implicit;o.ekj("disabled",t.context.disabled)("hidden",t.hidden)("ngb-dp-today",t.context.today),o.Q6J("tabindex",t.tabindex),o.uIk("aria-label",t.ariaLabel),o.xp6(1),o.Q6J("ngIf",!t.hidden)}}function Pq(n,e){if(1&n&&(o.TgZ(0,"div",8),o.YNc(1,xq,2,1,"div",9),o.YNc(2,Oq,2,9,"div",10),o.qZA()),2&n){const t=o.oxw().$implicit,r=o.oxw();o.xp6(1),o.Q6J("ngIf",r.datepicker.showWeekNumbers),o.xp6(1),o.Q6J("ngForOf",t.days)}}function Fq(n,e){1&n&&o.YNc(0,Pq,3,2,"div",7),2&n&&o.Q6J("ngIf",!e.$implicit.collapsed)}function Lq(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"ngb-datepicker-navigation-select",7),o.NdJ("select",function(i){o.CHM(t);const s=o.oxw();return o.KtG(s.select.emit(i))}),o.qZA()}if(2&n){const t=o.oxw();o.Q6J("date",t.date)("disabled",t.disabled)("months",t.selectBoxes.months)("years",t.selectBoxes.years)}}function Bq(n,e){1&n&&o._UZ(0,"div",0)}function Vq(n,e){1&n&&o._UZ(0,"div",0)}function Uq(n,e){if(1&n&&(o.YNc(0,Bq,1,0,"div",9),o.TgZ(1,"div",10),o._uU(2),o.qZA(),o.YNc(3,Vq,1,0,"div",9)),2&n){const t=e.$implicit,r=e.index,i=o.oxw(2);o.Q6J("ngIf",r>0),o.xp6(2),o.AsE(" ",i.i18n.getMonthFullName(t.number,t.year)," ",i.i18n.getYearNumerals(t.year)," "),o.xp6(1),o.Q6J("ngIf",r!==i.months.length-1)}}function Hq(n,e){if(1&n&&o.YNc(0,Uq,4,4,"ng-template",8),2&n){const t=o.oxw();o.Q6J("ngForOf",t.months)}}const $q=["ngbDatepickerDayView",""],jq=["month"],Gq=["year"];function qq(n,e){if(1&n&&(o.TgZ(0,"option",5),o._uU(1),o.qZA()),2&n){const t=e.$implicit,r=o.oxw();o.Q6J("value",t),o.uIk("aria-label",r.i18n.getMonthFullName(t,null==r.date?null:r.date.year)),o.xp6(1),o.Oqu(r.i18n.getMonthShortName(t,null==r.date?null:r.date.year))}}function zq(n,e){if(1&n&&(o.TgZ(0,"option",5),o._uU(1),o.qZA()),2&n){const t=e.$implicit,r=o.oxw();o.Q6J("value",t),o.xp6(1),o.Oqu(r.i18n.getYearNumerals(t))}}const Wq=["dialog"];function C8(n,e){1&n&&o._uU(0),2&n&&o.Oqu(100===e.fill?"\u2605":"\u2606")}function S8(n,e){}function A8(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"span",2),o._uU(1),o.qZA(),o.TgZ(2,"span",3),o.NdJ("mouseenter",function(){const s=o.CHM(t).index,c=o.oxw();return o.KtG(c.enter(s+1))})("click",function(){const s=o.CHM(t).index,c=o.oxw();return o.KtG(c.handleClick(s+1))}),o.YNc(3,S8,0,0,"ng-template",4),o.qZA()}if(2&n){const t=e.index,r=o.oxw(),i=o.MAs(1);o.xp6(1),o.hij("(",t<r.nextRate?"*":" ",")"),o.xp6(1),o.Udp("cursor",r.readonly||r.disabled?"default":"pointer"),o.xp6(1),o.Q6J("ngTemplateOutlet",r.starTemplate||r.starTemplateFromContent||i)("ngTemplateOutletContext",r.contexts[t])}}function O8(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",11),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.changeHour(i.hourStep))}),o._UZ(1,"span",12),o.TgZ(2,"span",13),o.SDv(3,14),o.qZA()()}if(2&n){const t=o.oxw();o.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),o.Q6J("disabled",t.disabled)}}function P8(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",11),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.changeHour(-i.hourStep))}),o._UZ(1,"span",15),o.TgZ(2,"span",13),o.SDv(3,16),o.qZA()()}if(2&n){const t=o.oxw();o.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),o.Q6J("disabled",t.disabled)}}function F8(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",11),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.changeMinute(i.minuteStep))}),o._UZ(1,"span",12),o.TgZ(2,"span",13),o.SDv(3,17),o.qZA()()}if(2&n){const t=o.oxw();o.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),o.Q6J("disabled",t.disabled)}}function L8(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",11),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.changeMinute(-i.minuteStep))}),o._UZ(1,"span",15),o.TgZ(2,"span",13),o.SDv(3,18),o.qZA()()}if(2&n){const t=o.oxw();o.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),o.Q6J("disabled",t.disabled)}}function B8(n,e){1&n&&(o.TgZ(0,"div",5),o._uU(1,":"),o.qZA())}function V8(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",11),o.NdJ("click",function(){o.CHM(t);const i=o.oxw(2);return o.KtG(i.changeSecond(i.secondStep))}),o._UZ(1,"span",12),o.TgZ(2,"span",13),o.SDv(3,21),o.qZA()()}if(2&n){const t=o.oxw(2);o.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),o.Q6J("disabled",t.disabled)}}function U8(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",11),o.NdJ("click",function(){o.CHM(t);const i=o.oxw(2);return o.KtG(i.changeSecond(-i.secondStep))}),o._UZ(1,"span",15),o.TgZ(2,"span",13),o.SDv(3,22),o.qZA()()}if(2&n){const t=o.oxw(2);o.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),o.Q6J("disabled",t.disabled)}}function H8(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",19),o.YNc(1,V8,4,7,"button",3),o.TgZ(2,"input",20),o.NdJ("change",function(i){o.CHM(t);const s=o.oxw();return o.KtG(s.updateSecond(i.target.value))})("input",function(i){o.CHM(t);const s=o.oxw();return o.KtG(s.formatInput(i.target))})("keydown.ArrowUp",function(i){o.CHM(t);const s=o.oxw();return s.changeSecond(s.secondStep),o.KtG(i.preventDefault())})("keydown.ArrowDown",function(i){o.CHM(t);const s=o.oxw();return s.changeSecond(-s.secondStep),o.KtG(i.preventDefault())}),o.qZA(),o.YNc(3,U8,4,7,"button",3),o.qZA()}if(2&n){const t=o.oxw();o.xp6(1),o.Q6J("ngIf",t.spinners),o.xp6(1),o.ekj("form-control-sm",t.isSmallSize)("form-control-lg",t.isLargeSize),o.Q6J("value",t.formatMinSec(null==t.model?null:t.model.second))("readOnly",t.readonlyInputs)("disabled",t.disabled),o.xp6(1),o.Q6J("ngIf",t.spinners)}}function $8(n,e){1&n&&o._UZ(0,"div",5)}function j8(n,e){if(1&n&&(o.ynx(0),o.SDv(1,27),o.BQk()),2&n){const t=o.oxw(2);o.xp6(1),o.pQV(t.i18n.getAfternoonPeriod()),o.QtT(1)}}function G8(n,e){if(1&n&&o.SDv(0,28),2&n){const t=o.oxw(2);o.pQV(t.i18n.getMorningPeriod()),o.QtT(0)}}function q8(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",23)(1,"button",24),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.toggleMeridian())}),o.YNc(2,j8,2,1,"ng-container",25),o.YNc(3,G8,1,1,"ng-template",null,26,o.W1O),o.qZA()()}if(2&n){const t=o.MAs(4),r=o.oxw();o.xp6(1),o.ekj("btn-sm",r.isSmallSize)("btn-lg",r.isLargeSize)("disabled",r.disabled),o.Q6J("disabled",r.disabled),o.xp6(1),o.Q6J("ngIf",r.model&&r.model.hour>=12)("ngIfElse",t)}}function K8(n,e){if(1&n&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&n){const t=o.oxw().$implicit,r=o.oxw();o.Tol(r.highlightClass),o.xp6(1),o.Oqu(t)}}function Y8(n,e){if(1&n&&o._uU(0),2&n){const t=o.oxw().$implicit;o.Oqu(t)}}function J8(n,e){if(1&n&&(o.YNc(0,K8,2,3,"span",1),o.YNc(1,Y8,1,1,"ng-template",null,2,o.W1O)),2&n){const t=e.odd,r=o.MAs(2);o.Q6J("ngIf",t)("ngIfElse",r)}}function Q8(n,e){if(1&n&&o._UZ(0,"ngb-highlight",2),2&n){const r=e.term;o.Q6J("result",(0,e.formatter)(e.result))("term",r)}}function X8(n,e){}const ez=function(n,e,t){return{result:n,term:e,formatter:t}};function tz(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",3),o.NdJ("mouseenter",function(){const s=o.CHM(t).index,c=o.oxw();return o.KtG(c.markActive(s))})("click",function(){const s=o.CHM(t).$implicit,c=o.oxw();return o.KtG(c.select(s))}),o.YNc(1,X8,0,0,"ng-template",4),o.qZA()}if(2&n){const t=e.$implicit,r=e.index,i=o.oxw(),s=o.MAs(1);o.ekj("active",r===i.activeIdx),o.Q6J("id",i.id+"-"+r),o.xp6(1),o.Q6J("ngTemplateOutlet",i.resultTemplate||s)("ngTemplateOutletContext",o.kEZ(5,ez,t,i.term,i.formatter))}}function vi(n){return parseInt(`${n}`,10)}function sb(n){return null!=n?`${n}`:""}function gI(n){return"string"==typeof n}function lr(n){return!isNaN(vi(n))}function Yn(n){return"number"==typeof n&&isFinite(n)&&Math.floor(n)===n}function fc(n){return null!=n}function hm(n){return lr(n)?`0${n}`.slice(-2):""}function AU(n,e){return n&&n.className&&n.className.split&&n.className.split(/\s+/).indexOf(e)>=0}typeof Element<"u"&&!Element.prototype.closest&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(n){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(n))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});let xU=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[tr]}),n})(),kU=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[tr]}),n})(),TR=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","ngbButtonLabel",""]],hostVars:8,hostBindings:function(t,r){2&t&&o.ekj("btn",!0)("active",r.active)("disabled",r.disabled)("focus",r.focused)}}),n})();const az={provide:mi,useExisting:(0,o.Gpc)(()=>RU),multi:!0};let RU=(()=>{let n=class{constructor(t,r){this._label=t,this._cd=r,this.disabled=!1,this.valueChecked=!0,this.valueUnChecked=!1,this.onChange=i=>{},this.onTouched=()=>{}}set focused(t){this._label.focused=t,t||this.onTouched()}onInputChange(t){const r=t.target.checked?this.valueChecked:this.valueUnChecked;this.onChange(r),this.onTouched(),this.writeValue(r)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._label.disabled=t}writeValue(t){this.checked=t===this.valueChecked,this._label.active=this.checked,this._cd.markForCheck()}};return n.\u0275fac=function(t){return new(t||n)(o.Y36(TR),o.Y36(o.sBO))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngbButton","","type","checkbox"]],hostVars:2,hostBindings:function(t,r){1&t&&o.NdJ("change",function(s){return r.onInputChange(s)})("focus",function(){return r.focused=!0})("blur",function(){return r.focused=!1}),2&t&&o.Ikx("checked",r.checked)("disabled",r.disabled)},inputs:{disabled:"disabled",valueChecked:"valueChecked",valueUnChecked:"valueUnChecked"},features:[o._Bn([az])]}),(0,M.gn)([(0,o.IIB)()],n.prototype,"disabled",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"valueChecked",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"valueUnChecked",void 0),n})();const lz={provide:mi,useExisting:(0,o.Gpc)(()=>DR),multi:!0};let uz=0,DR=(()=>{let n=class{constructor(){this._radios=new Set,this._value=null,this.name="ngb-radio-"+uz++,this.onChange=t=>{},this.onTouched=()=>{}}get disabled(){return this._disabled}set disabled(t){this.setDisabledState(t)}onRadioChange(t){this.writeValue(t.value),this.onChange(t.value)}onRadioValueUpdate(){this._updateRadiosValue()}register(t){this._radios.add(t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._disabled=t,this._updateRadiosDisabled()}unregister(t){this._radios.delete(t)}writeValue(t){this._value=t,this._updateRadiosValue()}_updateRadiosValue(){this._radios.forEach(t=>t.updateValue(this._value))}_updateRadiosDisabled(){this._radios.forEach(t=>t.updateDisabled())}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","ngbRadioGroup",""]],hostAttrs:["role","radiogroup"],inputs:{name:"name"},features:[o._Bn([lz])]}),(0,M.gn)([(0,o.IIB)()],n.prototype,"name",void 0),n})(),OU=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),PU=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[tr]}),n})(),FU=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();class Qr{constructor(e,t,r){this.year=Yn(e)?e:null,this.month=Yn(t)?t:null,this.day=Yn(r)?r:null}static from(e){return e instanceof Qr?e:e?new Qr(e.year,e.month,e.day):null}equals(e){return null!=e&&this.year===e.year&&this.month===e.month&&this.day===e.day}before(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day<e.day:this.month<e.month:this.year<e.year)}after(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day>e.day:this.month>e.month:this.year>e.year)}}function LU(n){return new Qr(n.getFullYear(),n.getMonth()+1,n.getDate())}function yI(n){const e=new Date(n.year,n.month-1,n.day,12);return isNaN(e.getTime())||e.setFullYear(n.year),e}function fz(){return new pz}let vI=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,o.Yz7)({factory:fz,token:n,providedIn:"root"}),n})(),pz=(()=>{let n=class extends vI{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(t,r="d",i=1){let s=yI(t),c=!0,h=s.getMonth();switch(r){case"y":s.setFullYear(s.getFullYear()+i);break;case"m":h+=i,s.setMonth(h),h%=12,h<0&&(h+=12);break;case"d":s.setDate(s.getDate()+i),c=!1;break;default:return t}return c&&s.getMonth()!==h&&s.setDate(0),LU(s)}getPrev(t,r="d",i=1){return this.getNext(t,r,-i)}getWeekday(t){let i=yI(t).getDay();return 0===i?7:i}getWeekNumber(t,r){7===r&&(r=0);const c=yI(t[(11-r)%7]);c.setDate(c.getDate()+4-(c.getDay()||7));const h=c.getTime();return c.setMonth(0),c.setDate(1),Math.floor(Math.round((h-c.getTime())/864e5)/7)+1}getToday(){return LU(new Date)}isValid(t){if(!(t&&Yn(t.year)&&Yn(t.month)&&Yn(t.day)&&0!==t.year))return!1;const r=yI(t);return!isNaN(r.getTime())&&r.getFullYear()===t.year&&r.getMonth()+1===t.month&&r.getDate()===t.day}};return n.\u0275fac=function(){let e;return function(r){return(e||(e=o.n5z(n)))(r||n)}}(),n.\u0275prov=o.Yz7({token:n,factory:function(e){return n.\u0275fac(e)}}),n})();function fm(n,e){return!function gz(n,e){return!n&&!e||!!n&&!!e&&n.equals(e)}(n,e)}function BU(n,e){return!(!n&&!e||n&&e&&n.year===e.year&&n.month===e.month)}function bI(n,e,t){return n&&e&&n.before(e)?e:n&&t&&n.after(t)?t:n||null}function IR(n,e){const{minDate:t,maxDate:r,disabled:i,markDisabled:s}=e;return!(null==n||i||s&&s(n,{year:n.year,month:n.month})||t&&n.before(t)||r&&n.after(r))}let jh=(()=>{let n=class{getDayNumerals(t){return`${t.day}`}getWeekNumerals(t){return`${t}`}getYearNumerals(t){return`${t}`}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,o.Yz7)({factory:function(){return function Ez(n){return new Iz(n)}((0,o.LFG)(o.soG))},token:n,providedIn:"root"}),n})(),Iz=(()=>{let n=class extends jh{constructor(t){super(),this._locale=t;const r=Ee(t,Oe.Standalone,je.Short);this._weekdaysShort=r.map((i,s)=>r[(s+1)%7]),this._monthsShort=De(t,Oe.Standalone,je.Abbreviated),this._monthsFull=De(t,Oe.Standalone,je.Wide)}getWeekdayShortName(t){return this._weekdaysShort[t-1]||""}getMonthShortName(t){return this._monthsShort[t-1]||""}getMonthFullName(t){return this._monthsFull[t-1]||""}getDayAriaLabel(t){return ln(new Date(t.year,t.month-1,t.day),"fullDate",this._locale)}};return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.soG))},n.\u0275prov=o.Yz7({token:n,factory:function(e){return n.\u0275fac(e)}}),n=(0,M.gn)([(0,M.fM)(0,(0,o.tBr)(o.soG))],n),n})(),CR=(()=>{let n=class{constructor(t,r){this._calendar=t,this._i18n=r,this._VALIDATORS={dayTemplateData:i=>{if(this._state.dayTemplateData!==i)return{dayTemplateData:i}},displayMonths:i=>{if(Yn(i=vi(i))&&i>0&&this._state.displayMonths!==i)return{displayMonths:i}},disabled:i=>{if(this._state.disabled!==i)return{disabled:i}},firstDayOfWeek:i=>{if(Yn(i=vi(i))&&i>=0&&this._state.firstDayOfWeek!==i)return{firstDayOfWeek:i}},focusVisible:i=>{if(this._state.focusVisible!==i&&!this._state.disabled)return{focusVisible:i}},markDisabled:i=>{if(this._state.markDisabled!==i)return{markDisabled:i}},maxDate:i=>{const s=this.toValidDate(i,null);if(fm(this._state.maxDate,s))return{maxDate:s}},minDate:i=>{const s=this.toValidDate(i,null);if(fm(this._state.minDate,s))return{minDate:s}},navigation:i=>{if(this._state.navigation!==i)return{navigation:i}},outsideDays:i=>{if(this._state.outsideDays!==i)return{outsideDays:i}}},this._model$=new wr.x,this._dateSelect$=new wr.x,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]}}}get model$(){return this._model$.pipe(Cn(t=>t.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe(Cn(t=>null!==t))}set(t){let r=Object.keys(t).map(i=>this._VALIDATORS[i](t[i])).reduce((i,s)=>Object.assign(Object.assign({},i),s),{});Object.keys(r).length>0&&this._nextState(r)}focus(t){const r=this.toValidDate(t,null);null!=r&&!this._state.disabled&&fm(this._state.focusDate,r)&&this._nextState({focusDate:t})}focusSelect(){IR(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(t){const r=this.toValidDate(t,this._calendar.getToday());null!=r&&!this._state.disabled&&(!this._state.firstDate||BU(this._state.firstDate,r))&&this._nextState({firstDate:r})}select(t,r={}){const i=this.toValidDate(t,null);null!=i&&!this._state.disabled&&(fm(this._state.selectedDate,i)&&this._nextState({selectedDate:i}),r.emitEvent&&IR(i,this._state)&&this._dateSelect$.next(i))}toValidDate(t,r){const i=Qr.from(t);return void 0===r&&(r=this._calendar.getToday()),this._calendar.isValid(i)?i:r}getMonth(t){for(let r of this._state.months)if(t.month===r.number&&t.year===r.year)return r;throw new Error(`month ${t.month} of year ${t.year} not found`)}_nextState(t){const r=this._updateState(t);this._patchContexts(r),this._state=r,this._model$.next(this._state)}_patchContexts(t){const{months:r,displayMonths:i,selectedDate:s,focusDate:c,focusVisible:h,disabled:g,outsideDays:m}=t;t.months.forEach(v=>{v.weeks.forEach(D=>{D.days.forEach(S=>{c&&(S.context.focused=c.equals(S.date)&&h),S.tabindex=!g&&c&&S.date.equals(c)&&c.month===v.number?0:-1,!0===g&&(S.context.disabled=!0),void 0!==s&&(S.context.selected=null!==s&&s.equals(S.date)),v.number!==S.date.month&&(S.hidden="hidden"===m||"collapsed"===m||i>1&&S.date.after(r[0].firstDate)&&S.date.before(r[i-1].lastDate))})})})}_updateState(t){const r=Object.assign({},this._state,t);let i=r.firstDate;if(("minDate"in t||"maxDate"in t)&&(function mz(n,e){if(e&&n&&e.before(n))throw new Error(`'maxDate' ${e} should be greater than 'minDate' ${n}`)}(r.minDate,r.maxDate),r.focusDate=bI(r.focusDate,r.minDate,r.maxDate),r.firstDate=bI(r.firstDate,r.minDate,r.maxDate),i=r.focusDate),"disabled"in t&&(r.focusVisible=!1),"selectedDate"in t&&0===this._state.months.length&&(i=r.selectedDate),"focusVisible"in t||"focusDate"in t&&(r.focusDate=bI(r.focusDate,r.minDate,r.maxDate),i=r.focusDate,0!==r.months.length&&r.focusDate&&!r.focusDate.before(r.firstDate)&&!r.focusDate.after(r.lastDate)))return r;if("firstDate"in t&&(r.firstDate=bI(r.firstDate,r.minDate,r.maxDate),i=r.firstDate),i){const c=function wz(n,e,t,r,i){const{displayMonths:s,months:c}=t,h=c.splice(0,c.length);return Array.from({length:s},(m,v)=>{const D=Object.assign(n.getNext(e,"m",v),{day:1});if(c[v]=null,!i){const S=h.findIndex(A=>A.firstDate.equals(D));-1!==S&&(c[v]=h.splice(S,1)[0])}return D}).forEach((m,v)=>{null===c[v]&&(c[v]=function Tz(n,e,t,r,i={}){const{dayTemplateData:s,minDate:c,maxDate:h,firstDayOfWeek:g,markDisabled:m,outsideDays:v}=t,D=n.getToday();i.firstDate=null,i.lastDate=null,i.number=e.month,i.year=e.year,i.weeks=i.weeks||[],i.weekdays=i.weekdays||[],e=function Dz(n,e,t){const r=n.getDaysPerWeek(),i=new Qr(e.year,e.month,1),s=n.getWeekday(i)%r;return n.getPrev(i,"d",(r+s-t)%r)}(n,e,g);for(let S=0;S<n.getWeeksPerMonth();S++){let A=i.weeks[S];A||(A=i.weeks[S]={number:0,days:[],collapsed:!0});const R=A.days;for(let U=0;U<n.getDaysPerWeek();U++){0===S&&(i.weekdays[U]=n.getWeekday(e));const K=new Qr(e.year,e.month,e.day),Ne=n.getNext(K),qe=r.getDayAriaLabel(K);let Pe=!!(c&&K.before(c)||h&&K.after(h));!Pe&&m&&(Pe=m(K,{month:i.number,year:i.year}));let nt=K.equals(D),Dt=s?s(K,{month:i.number,year:i.year}):void 0;null===i.firstDate&&K.month===i.number&&(i.firstDate=K),K.month===i.number&&Ne.month!==i.number&&(i.lastDate=K);let rt=R[U];rt||(rt=R[U]={}),rt.date=K,rt.context=Object.assign(rt.context||{},{$implicit:K,date:K,data:Dt,currentMonth:i.number,currentYear:i.year,disabled:Pe,focused:!1,selected:!1,today:nt}),rt.tabindex=-1,rt.ariaLabel=qe,rt.hidden=!1,e=Ne}A.number=n.getWeekNumber(R.map(U=>U.date),g),A.collapsed="collapsed"===v&&R[0].date.month!==i.number&&R[R.length-1].date.month!==i.number}return i}(n,m,t,r,h.shift()||{}))}),c}(this._calendar,i,r,this._i18n,"dayTemplateData"in t||"firstDayOfWeek"in t||"markDisabled"in t||"minDate"in t||"maxDate"in t||"disabled"in t||"outsideDays"in t);r.months=c,r.firstDate=c[0].firstDate,r.lastDate=c[c.length-1].lastDate,"selectedDate"in t&&!IR(r.selectedDate,r)&&(r.selectedDate=null),"firstDate"in t&&(!r.focusDate||r.focusDate.before(r.firstDate)||r.focusDate.after(r.lastDate))&&(r.focusDate=i);const h=!this._state.firstDate||this._state.firstDate.year!==r.firstDate.year,g=!this._state.firstDate||this._state.firstDate.month!==r.firstDate.month;"select"===r.navigation?(("minDate"in t||"maxDate"in t||0===r.selectBoxes.years.length||h)&&(r.selectBoxes.years=function yz(n,e,t){if(!n)return[];const r=e?Math.max(e.year,n.year-500):n.year-10,s=(t?Math.min(t.year,n.year+500):n.year+10)-r+1,c=Array(s);for(let h=0;h<s;h++)c[h]=r+h;return c}(r.firstDate,r.minDate,r.maxDate)),("minDate"in t||"maxDate"in t||0===r.selectBoxes.months.length||h)&&(r.selectBoxes.months=function _z(n,e,t,r){if(!e)return[];let i=n.getMonths(e.year);if(t&&e.year===t.year){const s=i.findIndex(c=>c===t.month);i=i.slice(s)}if(r&&e.year===r.year){const s=i.findIndex(c=>c===r.month);i=i.slice(0,s+1)}return i}(this._calendar,r.firstDate,r.minDate,r.maxDate))):r.selectBoxes={years:[],months:[]},("arrows"===r.navigation||"select"===r.navigation)&&(g||h||"minDate"in t||"maxDate"in t||"disabled"in t)&&(r.prevDisabled=r.disabled||function bz(n,e,t){const r=Object.assign(n.getPrev(e,"m"),{day:1});return null!=t&&(r.year===t.year&&r.month<t.month||r.year<t.year&&1===t.month)}(this._calendar,r.firstDate,r.minDate),r.nextDisabled=r.disabled||function vz(n,e,t){const r=Object.assign(n.getNext(e,"m"),{day:1});return null!=t&&r.after(t)}(this._calendar,r.lastDate,r.maxDate))}return r}};return n.\u0275fac=function(t){return new(t||n)(o.LFG(vI),o.LFG(jh))},n.\u0275prov=o.Yz7({token:n,factory:function(e){return n.\u0275fac(e)}}),n})();var pm=(()=>(function(n){n[n.PREV=0]="PREV",n[n.NEXT=1]="NEXT"}(pm||(pm={})),pm))();let SR=(()=>{let n=class{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekdays=!0,this.showWeekNumbers=!1}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,o.Yz7)({factory:function(){return new n},token:n,providedIn:"root"}),n})();function Cz(){return new Sz}let AR=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,o.Yz7)({factory:Cz,token:n,providedIn:"root"}),n})(),Sz=(()=>{let n=class extends AR{fromModel(t){return t&&Yn(t.year)&&Yn(t.month)&&Yn(t.day)?{year:t.year,month:t.month,day:t.day}:null}toModel(t){return t&&Yn(t.year)&&Yn(t.month)&&Yn(t.day)?{year:t.year,month:t.month,day:t.day}:null}};return n.\u0275fac=function(){let e;return function(r){return(e||(e=o.n5z(n)))(r||n)}}(),n.\u0275prov=o.Yz7({token:n,factory:function(e){return n.\u0275fac(e)}}),n})();const Az={provide:mi,useExisting:(0,o.Gpc)(()=>MR),multi:!0};let VU=(()=>{let n=class{constructor(t){this.templateRef=t}};return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["ng-template","ngbDatepickerContent",""]]}),n})(),MR=(()=>{let n=class{constructor(t,r,i,s,c,h,g,m){this._service=t,this._calendar=r,this.i18n=i,this._elementRef=h,this._ngbDateAdapter=g,this._ngZone=m,this._controlValue=null,this._destroyed$=new wr.x,this._publicState={},this.navigate=new o.vpe,this.dateSelect=new o.vpe,this.select=this.dateSelect,this.onChange=v=>{},this.onTouched=()=>{},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekdays","showWeekNumbers","startDate"].forEach(v=>this[v]=s[v]),t.dateSelect$.pipe(Wi(this._destroyed$)).subscribe(v=>{this.dateSelect.emit(v)}),t.model$.pipe(Wi(this._destroyed$)).subscribe(v=>{const D=v.firstDate,S=this.model?this.model.firstDate:null;this._publicState={maxDate:v.maxDate,minDate:v.minDate,firstDate:v.firstDate,lastDate:v.lastDate,focusedDate:v.focusDate,months:v.months.map(Ne=>Ne.firstDate)};let A=!1;if(!D.equals(S)&&(this.navigate.emit({current:S?{year:S.year,month:S.month}:null,next:{year:D.year,month:D.month},preventDefault:()=>A=!0}),A&&null!==S))return void this._service.open(S);const R=v.selectedDate,U=v.focusDate,K=this.model?this.model.focusDate:null;this.model=v,fm(R,this._controlValue)&&(this._controlValue=R,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(R))),fm(U,K)&&K&&v.focusVisible&&this.focus(),c.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}focusDate(t){this._service.focus(Qr.from(t))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe(Kt(1)).subscribe(()=>{const t=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');t&&t.focus()})}navigateTo(t){this._service.open(Qr.from(t?t.day?t:Object.assign(Object.assign({},t),{day:1}):null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const t=yi(this._contentEl.nativeElement,"focusin"),r=yi(this._contentEl.nativeElement,"focusout"),{nativeElement:i}=this._elementRef;(0,EU.T)(t,r).pipe(Cn(({target:s,relatedTarget:c})=>!(AU(s,"ngb-dp-day")&&AU(c,"ngb-dp-day")&&i.contains(s)&&i.contains(c))),Wi(this._destroyed$)).subscribe(({type:s})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===s})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const t={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays"].forEach(r=>t[r]=this[r]),this._service.set(t),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(t){const r={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays"].filter(i=>i in t).forEach(i=>r[i]=this[i]),this._service.set(r),"startDate"in t){const{currentValue:i,previousValue:s}=t.startDate;BU(s,i)&&this.navigateTo(this.startDate)}}onDateSelect(t){this._service.focus(t),this._service.select(t,{emitEvent:!0})}onNavigateDateSelect(t){this._service.open(t)}onNavigateEvent(t){switch(t){case pm.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case pm.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._service.set({disabled:t})}writeValue(t){this._controlValue=Qr.from(this._ngbDateAdapter.fromModel(t)),this._service.select(this._controlValue)}};return n.\u0275fac=function(t){return new(t||n)(o.Y36(CR),o.Y36(vI),o.Y36(jh),o.Y36(SR),o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(AR),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngb-datepicker"]],contentQueries:function(t,r,i){if(1&t&&o.Suo(i,VU,7),2&t){let s;o.iGM(s=o.CRH())&&(r.contentTemplate=s.first)}},viewQuery:function(t,r){if(1&t&&(o.Gf(vq,7),o.Gf(bq,7)),2&t){let i;o.iGM(i=o.CRH())&&(r._defaultDayTemplate=i.first),o.iGM(i=o.CRH())&&(r._contentEl=i.first)}},inputs:{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekdays:"showWeekdays",showWeekNumbers:"showWeekNumbers",startDate:"startDate"},outputs:{navigate:"navigate",dateSelect:"dateSelect",select:"select"},exportAs:["ngbDatepicker"],features:[o._Bn([Az,CR]),o.TTD],decls:10,vars:5,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],["content",""],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select"]],template:function(t,r){if(1&t&&(o.YNc(0,wq,1,5,"ng-template",null,0,o.W1O),o.YNc(2,Eq,1,1,"ng-template",null,1,o.W1O),o.TgZ(4,"div",2),o.YNc(5,Iq,1,7,"ngb-datepicker-navigation",3),o.qZA(),o.TgZ(6,"div",4,5),o.YNc(8,Cq,0,0,"ng-template",6),o.qZA(),o.YNc(9,Sq,0,0,"ng-template",6)),2&t){const i=o.MAs(3);o.xp6(5),o.Q6J("ngIf","none"!==r.navigation),o.xp6(1),o.ekj("ngb-dp-months",!r.contentTemplate),o.xp6(2),o.Q6J("ngTemplateOutlet",(null==r.contentTemplate?null:r.contentTemplate.templateRef)||i),o.xp6(1),o.Q6J("ngTemplateOutlet",r.footerTemplate)}},dependencies:function(){return[Ln,Pt,ri,Nz,xz,Uz]},styles:["ngb-datepicker{border:1px solid #dfdfdf;border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}.ngb-dp-body{z-index:1050}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-months{display:-ms-flexbox;display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}"],encapsulation:2,changeDetection:0}),(0,M.gn)([(0,o.i9L)("defaultDayTemplate",{static:!0})],n.prototype,"_defaultDayTemplate",void 0),(0,M.gn)([(0,o.i9L)("content",{static:!0})],n.prototype,"_contentEl",void 0),(0,M.gn)([(0,o.aQ5)(VU,{static:!0})],n.prototype,"contentTemplate",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"dayTemplate",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"dayTemplateData",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"displayMonths",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"firstDayOfWeek",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"footerTemplate",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"markDisabled",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"maxDate",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"minDate",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"navigation",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"outsideDays",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"showWeekdays",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"showWeekNumbers",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"startDate",void 0),(0,M.gn)([(0,o.r_U)()],n.prototype,"navigate",void 0),(0,M.gn)([(0,o.r_U)()],n.prototype,"dateSelect",void 0),(0,M.gn)([(0,o.r_U)()],n.prototype,"select",void 0),n})();var Gt=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(Gt||(Gt={})),Gt))();let Mz=(()=>{let n=class{processKey(t,r){const{state:i,calendar:s}=r;switch(t.which){case Gt.PageUp:r.focusDate(s.getPrev(i.focusedDate,t.shiftKey?"y":"m",1));break;case Gt.PageDown:r.focusDate(s.getNext(i.focusedDate,t.shiftKey?"y":"m",1));break;case Gt.End:r.focusDate(t.shiftKey?i.maxDate:i.lastDate);break;case Gt.Home:r.focusDate(t.shiftKey?i.minDate:i.firstDate);break;case Gt.ArrowLeft:r.focusDate(s.getPrev(i.focusedDate,"d",1));break;case Gt.ArrowUp:r.focusDate(s.getPrev(i.focusedDate,"d",s.getDaysPerWeek()));break;case Gt.ArrowRight:r.focusDate(s.getNext(i.focusedDate,"d",1));break;case Gt.ArrowDown:r.focusDate(s.getNext(i.focusedDate,"d",s.getDaysPerWeek()));break;case Gt.Enter:case Gt.Space:r.focusSelect();break;default:return}t.preventDefault(),t.stopPropagation()}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,o.Yz7)({factory:function(){return new n},token:n,providedIn:"root"}),n})(),Nz=(()=>{let n=class{constructor(t,r,i,s){this.i18n=t,this.datepicker=r,this._keyboardService=i,this._service=s}set month(t){this.viewModel=this._service.getMonth(t)}onKeyDown(t){this._keyboardService.processKey(t,this.datepicker)}doSelect(t){!t.context.disabled&&!t.hidden&&this.datepicker.onDateSelect(t.date)}};return n.\u0275fac=function(t){return new(t||n)(o.Y36(jh),o.Y36(MR),o.Y36(Mz),o.Y36(CR))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(t,r){1&t&&o.NdJ("keydown",function(s){return r.onKeyDown(s)})},inputs:{month:"month"},decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"tabindex","click"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&(o.YNc(0,Nq,3,2,"div",0),o.YNc(1,Fq,1,1,"ng-template",1)),2&t&&(o.Q6J("ngIf",r.datepicker.showWeekdays),o.xp6(1),o.Q6J("ngForOf",r.viewModel.weeks))},dependencies:[Ln,Pt,ri],styles:['ngb-datepicker-month{display:block}.ngb-dp-week-number,.ngb-dp-weekday{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:#5bc0de;color:var(--info)}.ngb-dp-week{border-radius:.25rem;display:-ms-flexbox;display:flex}.ngb-dp-weekdays{border-bottom:1px solid rgba(0,0,0,.125);border-radius:0;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-day,.ngb-dp-week-number,.ngb-dp-weekday{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}'],encapsulation:2}),(0,M.gn)([(0,o.IIB)()],n.prototype,"month",null),n})(),xz=(()=>{let n=class{constructor(t){this.i18n=t,this.navigation=pm,this.months=[],this.navigate=new o.vpe,this.select=new o.vpe}onClickPrev(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}};return n.\u0275fac=function(t){return new(t||n)(o.Y36(jh))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngb-datepicker-navigation"]],inputs:{months:"months",date:"date",disabled:"disabled",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},decls:8,vars:4,consts:function(){let e,t,r,i;return e=$localize`:@@ngb.datepicker.previous-monthc3b08b07b5ab98e7cdcf18df39355690ab7d38848586908745456864217:Previous month`,t=$localize`:@@ngb.datepicker.previous-monthc3b08b07b5ab98e7cdcf18df39355690ab7d38848586908745456864217:Previous month`,r=$localize`:@@ngb.datepicker.next-month4bd046985cfe13040d5ef0cd881edce0968a111a3628374603023447227:Next month`,i=$localize`:@@ngb.datepicker.next-month4bd046985cfe13040d5ef0cd881edce0968a111a3628374603023447227:Next month`,[[1,"ngb-dp-arrow"],["type","button","aria-label",e,"title",t,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],["type","button","aria-label",r,"title",i,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years","select"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]]},template:function(t,r){1&t&&(o.TgZ(0,"div",0)(1,"button",1),o.NdJ("click",function(s){return r.onClickPrev(s)}),o._UZ(2,"span",2),o.qZA()(),o.YNc(3,Lq,1,4,"ngb-datepicker-navigation-select",3),o.YNc(4,Hq,1,1,null,4),o.TgZ(5,"div",5)(6,"button",6),o.NdJ("click",function(s){return r.onClickNext(s)}),o._UZ(7,"span",2),o.qZA()()),2&t&&(o.xp6(1),o.Q6J("disabled",r.prevDisabled),o.xp6(2),o.Q6J("ngIf",r.showSelect),o.xp6(1),o.Q6J("ngIf",!r.showSelect),o.xp6(2),o.Q6J("disabled",r.nextDisabled))},dependencies:function(){return[Ln,Pt,Hz]},styles:["ngb-datepicker-navigation{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;-webkit-transform:rotate(-135deg);transform:rotate(-135deg)}.right .ngb-dp-navigation-chevron{-webkit-transform:rotate(45deg);transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow{display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{-ms-flex-pack:end;justify-content:flex-end}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:-ms-flexbox;display:flex;-ms-flex:1 1 9rem;flex:1 1 9rem}"],encapsulation:2,changeDetection:0}),(0,M.gn)([(0,o.IIB)()],n.prototype,"date",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"disabled",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"months",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"showSelect",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"prevDisabled",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"nextDisabled",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"selectBoxes",void 0),(0,M.gn)([(0,o.r_U)()],n.prototype,"navigate",void 0),(0,M.gn)([(0,o.r_U)()],n.prototype,"select",void 0),n})();const wI=(n,e)=>!!e&&e.some(t=>t.contains(n)),UU=(n,e)=>!e||null!=function rz(n,e){return!e||typeof n.closest>"u"?null:n.closest(e)}(n,e),kz=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function lb(n,e,t,r,i,s,c,h){t&&n.runOutsideAngular((n=>kz?()=>setTimeout(()=>n(),100):n)(()=>{const m=yi(e,"keydown").pipe(Wi(i),Cn(S=>S.which===Gt.Escape),(0,ue.b)(S=>S.preventDefault())),v=yi(e,"mousedown").pipe((0,Qe.U)(S=>{const A=S.target;return 2!==S.button&&!wI(A,c)&&("inside"===t?wI(A,s)&&UU(A,h):"outside"===t?!wI(A,s):UU(A,h)||!wI(A,s))}),Wi(i)),D=yi(e,"mouseup").pipe(_R(v),Cn(([S,A])=>A),SU(0),Wi(i));(function eq(...n){return 1===(n=function X4(n){return 1===n.length&&Q4(n[0])?n[0]:n}(n)).length?(0,jo.Xf)(n[0]):new Tr.y(function tq(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push((0,jo.Xf)(n[r]).subscribe((0,Dn.x)(e,i=>{if(t){for(let s=0;s<t.length;s++)s!==r&&t[s].unsubscribe();t=null}e.next(i)})))}}(n))})([m.pipe((0,Qe.U)(S=>0)),D.pipe((0,Qe.U)(S=>1))]).subscribe(S=>n.run(()=>r(S)))}))}const HU=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function $U(n){const e=Array.from(n.querySelectorAll(HU)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}const jU=(n,e,t,r=!1)=>{n.runOutsideAngular(()=>{const i=yi(e,"focusin").pipe(Wi(t),(0,Qe.U)(s=>s.target));yi(e,"keydown").pipe(Wi(t),Cn(s=>s.which===Gt.Tab),_R(i)).subscribe(([s,c])=>{const[h,g]=$U(e);(c===h||c===e)&&s.shiftKey&&(g.focus(),s.preventDefault()),c===g&&!s.shiftKey&&(h.focus(),s.preventDefault())}),r&&yi(e,"click").pipe(Wi(t),_R(i),(0,Qe.U)(s=>s[1])).subscribe(s=>s.focus())})},Pz=/\s+/,GU=new class Oz{getAllStyles(e){return window.getComputedStyle(e)}getStyle(e,t){return this.getAllStyles(e)[t]}isStaticPositioned(e){return"static"===(this.getStyle(e,"position")||"static")}offsetParent(e){let t=e.offsetParent||document.documentElement;for(;t&&t!==document.documentElement&&this.isStaticPositioned(t);)t=t.offsetParent;return t||document.documentElement}position(e,t=!0){let r,i={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(e,"position"))r=e.getBoundingClientRect(),r={top:r.top,bottom:r.bottom,left:r.left,right:r.right,height:r.height,width:r.width};else{const s=this.offsetParent(e);r=this.offset(e,!1),s!==document.documentElement&&(i=this.offset(s,!1)),i.top+=s.clientTop,i.left+=s.clientLeft}return r.top-=i.top,r.bottom-=i.top,r.left-=i.left,r.right-=i.left,t&&(r.top=Math.round(r.top),r.bottom=Math.round(r.bottom),r.left=Math.round(r.left),r.right=Math.round(r.right)),r}offset(e,t=!0){const r=e.getBoundingClientRect(),i_top=window.pageYOffset-document.documentElement.clientTop,i_left=window.pageXOffset-document.documentElement.clientLeft;let s={height:r.height||e.offsetHeight,width:r.width||e.offsetWidth,top:r.top+i_top,bottom:r.bottom+i_top,left:r.left+i_left,right:r.right+i_left};return t&&(s.height=Math.round(s.height),s.width=Math.round(s.width),s.top=Math.round(s.top),s.bottom=Math.round(s.bottom),s.left=Math.round(s.left),s.right=Math.round(s.right)),s}positionElements(e,t,r,i){const[s="top",c="center"]=r.split("-"),h=i?this.offset(e,!1):this.position(e,!1),g=this.getAllStyles(t),m=parseFloat(g.marginTop),v=parseFloat(g.marginBottom),D=parseFloat(g.marginLeft),S=parseFloat(g.marginRight);let A=0,R=0;switch(s){case"top":A=h.top-(t.offsetHeight+m+v);break;case"bottom":A=h.top+h.height;break;case"left":R=h.left-(t.offsetWidth+D+S);break;case"right":R=h.left+h.width}switch(c){case"top":A=h.top;break;case"bottom":A=h.top+h.height-t.offsetHeight;break;case"left":R=h.left;break;case"right":R=h.left+h.width-t.offsetWidth;break;case"center":"top"===s||"bottom"===s?R=h.left+h.width/2-t.offsetWidth/2:A=h.top+h.height/2-t.offsetHeight/2}t.style.transform=`translate(${Math.round(R)}px, ${Math.round(A)}px)`;const U=t.getBoundingClientRect(),K=document.documentElement,Ne=window.innerHeight||K.clientHeight,qe=window.innerWidth||K.clientWidth;return U.left>=0&&U.top>=0&&U.right<=qe&&U.bottom<=Ne}};function ub(n,e,t,r,i){let s=Array.isArray(t)?t:t.split(Pz);const c=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],h=e.classList,g=A=>{const[R,U]=A.split("-"),K=[];return i&&(K.push(`${i}-${R}`),U&&K.push(`${i}-${R}-${U}`),K.forEach(Ne=>{h.add(Ne)})),K};i&&c.forEach(A=>{h.remove(`${i}-${A}`)});let m=s.findIndex(A=>"auto"===A);m>=0&&c.forEach(function(A){null==s.find(R=>-1!==R.search("^"+A))&&s.splice(m++,1,A)});const v=e.style;v.position="absolute",v.top="0",v.left="0",v["will-change"]="transform";let D=null,S=!1;for(D of s){let A=g(D);if(GU.positionElements(n,e,D,r)){S=!0;break}i&&A.forEach(R=>{h.remove(R)})}return S||(D=s[0],g(D),GU.positionElements(n,e,D,r)),D}function Fz(){return new Lz}let qU=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,o.Yz7)({factory:Fz,token:n,providedIn:"root"}),n})(),Lz=(()=>{let n=class extends qU{parse(t){if(null!=t){const r=t.trim().split("-");if(1===r.length&&lr(r[0]))return{year:vi(r[0]),month:null,day:null};if(2===r.length&&lr(r[0])&&lr(r[1]))return{year:vi(r[0]),month:vi(r[1]),day:null};if(3===r.length&&lr(r[0])&&lr(r[1])&&lr(r[2]))return{year:vi(r[0]),month:vi(r[1]),day:vi(r[2])}}return null}format(t){return t?`${t.year}-${lr(t.month)?hm(t.month):""}-${lr(t.day)?hm(t.day):""}`:""}};return n.\u0275fac=function(){let e;return function(r){return(e||(e=o.n5z(n)))(r||n)}}(),n.\u0275prov=o.Yz7({token:n,factory:function(e){return n.\u0275fac(e)}}),n})(),zU=(()=>{let n=class extends SR{constructor(){super(...arguments),this.autoClose=!0,this.placement=["bottom-left","bottom-right","top-left","top-right"],this.restoreFocus=!0}};return n.\u0275fac=function(){let e;return function(r){return(e||(e=o.n5z(n)))(r||n)}}(),n.\u0275prov=(0,o.Yz7)({factory:function(){return new n},token:n,providedIn:"root"}),n})();const Bz={provide:mi,useExisting:(0,o.Gpc)(()=>WU),multi:!0},Vz={provide:_i,useExisting:(0,o.Gpc)(()=>WU),multi:!0};let WU=(()=>{let n=class{constructor(t,r,i,s,c,h,g,m,v,D,S){this._parserFormatter=t,this._elRef=r,this._vcRef=i,this._renderer=s,this._cfr=c,this._ngZone=h,this._calendar=g,this._dateAdapter=m,this._document=v,this._changeDetector=D,this._cRef=null,this._disabled=!1,this._elWithFocus=null,this._model=null,this.dateSelect=new o.vpe,this.navigate=new o.vpe,this.closed=new o.vpe,this._onChange=A=>{},this._onTouched=()=>{},this._validatorChange=()=>{},["autoClose","container","positionTarget","placement"].forEach(A=>this[A]=S[A]),this._zoneSubscription=h.onStable.subscribe(()=>this._updatePopupPosition())}get disabled(){return this._disabled}set disabled(t){this._disabled=""===t||t&&"false"!==t,this.isOpen()&&this._cRef.instance.setDisabledState(this._disabled)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}registerOnValidatorChange(t){this._validatorChange=t}setDisabledState(t){this.disabled=t}validate(t){const{value:r}=t;if(null!=r){const i=this._fromDateStruct(this._dateAdapter.fromModel(r));if(!i)return{ngbDate:{invalid:r}};if(this.minDate&&i.before(Qr.from(this.minDate)))return{ngbDate:{minDate:{minDate:this.minDate,actual:r}}};if(this.maxDate&&i.after(Qr.from(this.maxDate)))return{ngbDate:{maxDate:{maxDate:this.maxDate,actual:r}}}}return null}writeValue(t){this._model=this._fromDateStruct(this._dateAdapter.fromModel(t)),this._writeModelValue(this._model)}manualDateChange(t,r=!1){const i=t!==this._inputValue;i&&(this._inputValue=t,this._model=this._fromDateStruct(this._parserFormatter.parse(t))),(i||!r)&&this._onChange(this._model?this._dateAdapter.toModel(this._model):""===t?null:t),r&&this._model&&this._writeModelValue(this._model)}isOpen(){return!!this._cRef}open(){if(!this.isOpen()){const t=this._cfr.resolveComponentFactory(MR);this._cRef=this._vcRef.createComponent(t),this._applyPopupStyling(this._cRef.location.nativeElement),this._applyDatepickerInputs(this._cRef.instance),this._subscribeForDatepickerOutputs(this._cRef.instance),this._cRef.instance.ngOnInit(),this._cRef.instance.writeValue(this._dateAdapter.toModel(this._model)),this._cRef.instance.registerOnChange(r=>{this.writeValue(r),this._onChange(r),this._onTouched()}),this._cRef.changeDetectorRef.detectChanges(),this._cRef.instance.setDisabledState(this.disabled),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._cRef.location.nativeElement),this._elWithFocus=this._document.activeElement,jU(this._ngZone,this._cRef.location.nativeElement,this.closed,!0),this._cRef.instance.focus(),lb(this._ngZone,this._document,this.autoClose,()=>this.close(),this.closed,[],[this._elRef.nativeElement,this._cRef.location.nativeElement])}}close(){if(this.isOpen()){this._vcRef.remove(this._vcRef.indexOf(this._cRef.hostView)),this._cRef=null,this.closed.emit(),this._changeDetector.markForCheck();let t=this._elWithFocus;gI(this.restoreFocus)?t=this._document.querySelector(this.restoreFocus):void 0!==this.restoreFocus&&(t=this.restoreFocus),t&&t.focus?t.focus():this._document.body.focus()}}toggle(){this.isOpen()?this.close():this.open()}navigateTo(t){this.isOpen()&&this._cRef.instance.navigateTo(t)}onBlur(){this._onTouched()}onFocus(){this._elWithFocus=this._elRef.nativeElement}ngOnChanges(t){(t.minDate||t.maxDate)&&(this._validatorChange(),this.isOpen()&&(t.minDate&&(this._cRef.instance.minDate=this.minDate),t.maxDate&&(this._cRef.instance.maxDate=this.maxDate),this._cRef.instance.ngOnChanges(t)))}ngOnDestroy(){this.close(),this._zoneSubscription.unsubscribe()}_applyDatepickerInputs(t){["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showNavigation","showWeekdays","showWeekNumbers"].forEach(r=>{void 0!==this[r]&&(t[r]=this[r])}),t.startDate=this.startDate||this._model}_applyPopupStyling(t){this._renderer.addClass(t,"dropdown-menu"),this._renderer.addClass(t,"show"),"body"===this.container&&this._renderer.addClass(t,"ngb-dp-body")}_subscribeForDatepickerOutputs(t){t.navigate.subscribe(r=>this.navigate.emit(r)),t.dateSelect.subscribe(r=>{this.dateSelect.emit(r),(!0===this.autoClose||"inside"===this.autoClose)&&this.close()})}_writeModelValue(t){const r=this._parserFormatter.format(t);this._inputValue=r,this._renderer.setProperty(this._elRef.nativeElement,"value",r),this.isOpen()&&(this._cRef.instance.writeValue(this._dateAdapter.toModel(t)),this._onTouched())}_fromDateStruct(t){const r=t?new Qr(t.year,t.month,t.day):null;return this._calendar.isValid(r)?r:null}_updatePopupPosition(){if(!this._cRef)return;let t;if(t=gI(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget instanceof HTMLElement?this.positionTarget:this._elRef.nativeElement,this.positionTarget&&!t)throw new Error("ngbDatepicker could not find element declared in [positionTarget] to position against.");ub(t,this._cRef.location.nativeElement,this.placement,"body"===this.container)}};return n.\u0275fac=function(t){return new(t||n)(o.Y36(qU),o.Y36(o.SBq),o.Y36(o.s_b),o.Y36(o.Qsj),o.Y36(o._Vd),o.Y36(o.R0b),o.Y36(vI),o.Y36(AR),o.Y36(Y),o.Y36(o.sBO),o.Y36(zU))},n.\u0275dir=o.lG2({type:n,selectors:[["input","ngbDatepicker",""]],hostVars:1,hostBindings:function(t,r){1&t&&o.NdJ("input",function(s){return r.manualDateChange(s.target.value)})("change",function(s){return r.manualDateChange(s.target.value,!0)})("focus",function(){return r.onFocus()})("blur",function(){return r.onBlur()}),2&t&&o.Ikx("disabled",r.disabled)},inputs:{disabled:"disabled",autoClose:"autoClose",dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",minDate:"minDate",maxDate:"maxDate",navigation:"navigation",outsideDays:"outsideDays",placement:"placement",restoreFocus:"restoreFocus",showWeekdays:"showWeekdays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",container:"container",positionTarget:"positionTarget"},outputs:{dateSelect:"dateSelect",navigate:"navigate",closed:"closed"},exportAs:["ngbDatepicker"],features:[o._Bn([Bz,Vz,{provide:SR,useExisting:zU}]),o.TTD]}),(0,M.gn)([(0,o.IIB)()],n.prototype,"autoClose",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"dayTemplate",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"dayTemplateData",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"displayMonths",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"firstDayOfWeek",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"footerTemplate",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"markDisabled",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"minDate",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"maxDate",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"navigation",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"outsideDays",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"placement",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"restoreFocus",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"showWeekdays",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"showWeekNumbers",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"startDate",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"container",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"positionTarget",void 0),(0,M.gn)([(0,o.r_U)()],n.prototype,"dateSelect",void 0),(0,M.gn)([(0,o.r_U)()],n.prototype,"navigate",void 0),(0,M.gn)([(0,o.r_U)()],n.prototype,"closed",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"disabled",null),n=(0,M.gn)([(0,M.fM)(8,(0,o.tBr)(Y))],n),n})(),Uz=(()=>{let n=class{constructor(t){this.i18n=t}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}};return n.\u0275fac=function(t){return new(t||n)(o.Y36(jh))},n.\u0275cmp=o.Xpm({type:n,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(t,r){2&t&&o.ekj("bg-primary",r.selected)("text-white",r.selected)("text-muted",r.isMuted())("outside",r.isMuted())("active",r.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},attrs:$q,decls:1,vars:1,template:function(t,r){1&t&&o._uU(0),2&t&&o.Oqu(r.i18n.getDayNumerals(r.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:0 0}[ngbDatepickerDayView].outside{opacity:.5}"],encapsulation:2,changeDetection:0}),(0,M.gn)([(0,o.IIB)()],n.prototype,"currentMonth",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"date",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"disabled",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"focused",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"selected",void 0),n})(),Hz=(()=>{let n=class{constructor(t,r){this.i18n=t,this._renderer=r,this.select=new o.vpe,this._month=-1,this._year=-1}changeMonth(t){this.select.emit(new Qr(this.date.year,vi(t),1))}changeYear(t){this.select.emit(new Qr(vi(t),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}};return n.\u0275fac=function(t){return new(t||n)(o.Y36(jh),o.Y36(o.Qsj))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(t,r){if(1&t&&(o.Gf(jq,7,o.SBq),o.Gf(Gq,7,o.SBq)),2&t){let i;o.iGM(i=o.CRH())&&(r.monthSelect=i.first),o.iGM(i=o.CRH())&&(r.yearSelect=i.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},decls:6,vars:4,consts:function(){let e,t,r,i;return e=$localize`:@@ngb.datepicker.select-month1dbc84807f35518112f62e5775d1daebd3d8462b2253869508135064750:Select month`,t=$localize`:@@ngb.datepicker.select-month1dbc84807f35518112f62e5775d1daebd3d8462b2253869508135064750:Select month`,r=$localize`:@@ngb.datepicker.select-year8ceb09d002bf0c5d1cac171dfbffe1805d2b39628852264961585484321:Select year`,i=$localize`:@@ngb.datepicker.select-year8ceb09d002bf0c5d1cac171dfbffe1805d2b39628852264961585484321:Select year`,[["aria-label",e,"title",t,1,"custom-select",3,"disabled","change"],["month",""],[3,"value",4,"ngFor","ngForOf"],["aria-label",r,"title",i,1,"custom-select",3,"disabled","change"],["year",""],[3,"value"]]},template:function(t,r){1&t&&(o.TgZ(0,"select",0,1),o.NdJ("change",function(s){return r.changeMonth(s.target.value)}),o.YNc(2,qq,2,3,"option",2),o.qZA(),o.TgZ(3,"select",3,4),o.NdJ("change",function(s){return r.changeYear(s.target.value)}),o.YNc(5,zq,2,2,"option",2),o.qZA()),2&t&&(o.Q6J("disabled",r.disabled),o.xp6(2),o.Q6J("ngForOf",r.months),o.xp6(1),o.Q6J("disabled",r.disabled),o.xp6(2),o.Q6J("ngForOf",r.years))},dependencies:[Ln,uU,dU],styles:["ngb-datepicker-navigation-select>.custom-select{-ms-flex:1 1 auto;flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.custom-select:focus{z-index:1}ngb-datepicker-navigation-select>.custom-select::-ms-value{background-color:transparent!important}"],encapsulation:2,changeDetection:0}),(0,M.gn)([(0,o.IIB)()],n.prototype,"date",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"disabled",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"months",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"years",void 0),(0,M.gn)([(0,o.r_U)()],n.prototype,"select",void 0),(0,M.gn)([(0,o.i9L)("month",{static:!0,read:o.SBq})],n.prototype,"monthSelect",void 0),(0,M.gn)([(0,o.i9L)("year",{static:!0,read:o.SBq})],n.prototype,"yearSelect",void 0),n})();new Date(1882,10,12),new Date(2174,10,25);let XU=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[tr,fI]}),n})(),Kz=(()=>{let n=class{constructor(){this.autoClose=!0,this.placement=["bottom-left","bottom-right","top-left","top-right"]}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,o.Yz7)({factory:function(){return new n},token:n,providedIn:"root"}),n})();var RR;let e3=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["",8,"navbar"]]}),n})(),OR=(()=>{let n=class{constructor(t){this.elementRef=t,this._disabled=!1}set disabled(t){this._disabled=""===t||!0===t}get disabled(){return this._disabled}};return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:2,hostBindings:function(t,r){2&t&&o.ekj("disabled",r.disabled)},inputs:{disabled:"disabled"}}),(0,M.gn)([(0,o.IIB)()],n.prototype,"disabled",null),n})(),PR=(()=>{let n=class{constructor(t,r){this.dropdown=t,this.placement="bottom",this.isOpen=!1,this.nativeElement=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(o.Y36((0,o.Gpc)(()=>gc)),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(t,r,i){if(1&t&&o.Suo(i,OR,4),2&t){let s;o.iGM(s=o.CRH())&&(r.menuItems=s)}},hostVars:5,hostBindings:function(t,r){1&t&&o.NdJ("keydown.ArrowUp",function(s){return r.dropdown.onKeyDown(s)})("keydown.ArrowDown",function(s){return r.dropdown.onKeyDown(s)})("keydown.Home",function(s){return r.dropdown.onKeyDown(s)})("keydown.End",function(s){return r.dropdown.onKeyDown(s)})("keydown.Enter",function(s){return r.dropdown.onKeyDown(s)})("keydown.Space",function(s){return r.dropdown.onKeyDown(s)})("keydown.Tab",function(s){return r.dropdown.onKeyDown(s)})("keydown.Shift.Tab",function(s){return r.dropdown.onKeyDown(s)}),2&t&&(o.uIk("x-placement",r.placement),o.ekj("dropdown-menu",!0)("show",r.dropdown.isOpen()))}}),(0,M.gn)([(0,o.AcB)(OR)],n.prototype,"menuItems",void 0),n=(0,M.gn)([(0,M.fM)(0,(0,o.tBr)((0,o.Gpc)(()=>gc)))],n),n})(),hb=(()=>{let n=class{constructor(t,r){this.dropdown=t,this.nativeElement=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(o.Y36((0,o.Gpc)(()=>gc)),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:["aria-haspopup","true",1,"dropdown-toggle"],hostVars:1,hostBindings:function(t,r){2&t&&o.uIk("aria-expanded",r.dropdown.isOpen())}}),n=(0,M.gn)([(0,M.fM)(0,(0,o.tBr)((0,o.Gpc)(()=>gc)))],n),n})(),pc=RR=class extends hb{constructor(e,t){super(e,t)}};pc.\u0275fac=function(e){return new(e||pc)(o.Y36((0,o.Gpc)(()=>gc)),o.Y36(o.SBq))},pc.\u0275dir=o.lG2({type:pc,selectors:[["","ngbDropdownToggle",""]],hostAttrs:["aria-haspopup","true",1,"dropdown-toggle"],hostVars:1,hostBindings:function(e,t){1&e&&o.NdJ("click",function(){return t.dropdown.toggle()})("keydown.ArrowUp",function(i){return t.dropdown.onKeyDown(i)})("keydown.ArrowDown",function(i){return t.dropdown.onKeyDown(i)})("keydown.Home",function(i){return t.dropdown.onKeyDown(i)})("keydown.End",function(i){return t.dropdown.onKeyDown(i)})("keydown.Tab",function(i){return t.dropdown.onKeyDown(i)})("keydown.Shift.Tab",function(i){return t.dropdown.onKeyDown(i)}),2&e&&o.uIk("aria-expanded",t.dropdown.isOpen())},features:[o._Bn([{provide:hb,useExisting:(0,o.Gpc)(()=>RR)}]),o.qOj]}),pc.ctorParameters=()=>[{type:void 0,decorators:[{type:o.tBr,args:[(0,o.Gpc)(()=>gc)]}]},{type:o.SBq}],pc=RR=(0,M.gn)([(0,M.fM)(0,(0,o.tBr)((0,o.Gpc)(()=>gc)))],pc);let gc=(()=>{let n=class{constructor(t,r,i,s,c,h,g){this._changeDetector=t,this._document=i,this._ngZone=s,this._elementRef=c,this._renderer=h,this._closed$=new wr.x,this._bodyContainer=null,this._open=!1,this.openChange=new o.vpe,this.placement=r.placement,this.container=r.container,this.autoClose=r.autoClose,this.display=g?"static":"dynamic",this._zoneSubscription=s.onStable.subscribe(()=>{this._positionMenu()})}ngAfterContentInit(){this._ngZone.onStable.pipe(Kt(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(t){t.container&&this._open&&this._applyContainer(this.container),t.placement&&!t.placement.isFirstChange&&this._applyPlacementClasses()}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&this._anchor.nativeElement.focus())}_setCloseHandlers(){lb(this._ngZone,this._document,this.autoClose,t=>{this.close(),0===t&&this._anchor.nativeElement.focus()},this._closed$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._closed$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this._resetContainer(),this._closed$.next(),this._zoneSubscription.unsubscribe()}onKeyDown(t){const r=t.which,i=this._getMenuElements();let s=-1,c=null;const h=this._isEventFromToggle(t);if(!h&&i.length&&i.forEach((g,m)=>{g.contains(t.target)&&(c=g),g===this._document.activeElement&&(s=m)}),r!==Gt.Space&&r!==Gt.Enter){if(r!==Gt.Tab){if(h||c){if(this.open(),i.length){switch(r){case Gt.ArrowDown:s=Math.min(s+1,i.length-1);break;case Gt.ArrowUp:if(this._isDropup()&&-1===s){s=i.length-1;break}s=Math.max(s-1,0);break;case Gt.Home:s=0;break;case Gt.End:s=i.length-1}i[s].focus()}t.preventDefault()}}else if(t.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===t.target)return void("body"!==this.container||t.shiftKey?t.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){const g=this._menu.nativeElement.querySelectorAll(HU);t.shiftKey&&t.target===g[0]?(this._anchor.nativeElement.focus(),t.preventDefault()):!t.shiftKey&&t.target===g[g.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else yi(t.target,"focusout").pipe(Kt(1)).subscribe(({relatedTarget:g})=>{this._elementRef.nativeElement.contains(g)||this.close()})}}else c&&(!0===this.autoClose||"inside"===this.autoClose)&&yi(c,"click").pipe(Kt(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(t){return this._anchor.nativeElement.contains(t.target)}_getMenuElements(){const t=this._menu;return null==t?[]:t.menuItems.filter(r=>!r.disabled).map(r=>r.elementRef.nativeElement)}_positionMenu(){const t=this._menu;this.isOpen()&&t&&this._applyPlacementClasses("dynamic"===this.display?ub(this._anchor.nativeElement,this._bodyContainer||this._menu.nativeElement,this.placement,"body"===this.container):this._getFirstPlacement(this.placement))}_getFirstPlacement(t){return Array.isArray(t)?t[0]:t.split(" ")[0]}_resetContainer(){const t=this._renderer;if(this._menu){const i=this._menu.nativeElement;t.appendChild(this._elementRef.nativeElement,i),t.removeStyle(i,"position"),t.removeStyle(i,"transform")}this._bodyContainer&&(t.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(t=null){if(this._resetContainer(),"body"===t){const r=this._renderer,i=this._menu.nativeElement,s=this._bodyContainer=this._bodyContainer||r.createElement("div");r.setStyle(s,"position","absolute"),r.setStyle(i,"position","static"),r.setStyle(s,"z-index","1050"),r.appendChild(s,i),r.appendChild(this._document.body,s)}}_applyPlacementClasses(t){const r=this._menu;if(r){t||(t=this._getFirstPlacement(this.placement));const i=this._renderer,s=this._elementRef.nativeElement;i.removeClass(s,"dropup"),i.removeClass(s,"dropdown"),r.placement="static"===this.display?null:t;const c=-1!==t.search("^top")?"dropup":"dropdown";i.addClass(s,c);const h=this._bodyContainer;h&&(i.removeClass(h,"dropup"),i.removeClass(h,"dropdown"),i.addClass(h,c))}}};return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.sBO),o.Y36(Kz),o.Y36(Y),o.Y36(o.R0b),o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(e3,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngbDropdown",""]],contentQueries:function(t,r,i){if(1&t&&(o.Suo(i,PR,5),o.Suo(i,hb,5)),2&t){let s;o.iGM(s=o.CRH())&&(r._menu=s.first),o.iGM(s=o.CRH())&&(r._anchor=s.first)}},hostVars:2,hostBindings:function(t,r){2&t&&o.ekj("show",r.isOpen())},inputs:{_open:["open","_open"],placement:"placement",container:"container",autoClose:"autoClose",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[o.TTD]}),(0,M.gn)([(0,o.aQ5)(PR,{static:!1})],n.prototype,"_menu",void 0),(0,M.gn)([(0,o.aQ5)(hb,{static:!1})],n.prototype,"_anchor",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"autoClose",void 0),(0,M.gn)([(0,o.IIB)("open")],n.prototype,"_open",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"placement",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"container",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"display",void 0),(0,M.gn)([(0,o.r_U)()],n.prototype,"openChange",void 0),n=(0,M.gn)([(0,M.fM)(2,(0,o.tBr)(Y)),(0,M.fM)(6,(0,o.FiY)())],n),n})(),t3=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),n3=(()=>{let n=class{constructor(){this.backdrop=!0,this.keyboard=!0}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,o.Yz7)({factory:function(){return new n},token:n,providedIn:"root"}),n})();class zh{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}class FR{constructor(e,t,r,i,s,c){this._type=e,this._injector=t,this._viewContainerRef=r,this._renderer=i,this._componentFactoryResolver=s,this._applicationRef=c,this._windowRef=null,this._contentRef=null}open(e,t){return this._windowRef||(this._contentRef=this._getContentRef(e,t),this._windowRef=this._viewContainerRef.createComponent(this._componentFactoryResolver.resolveComponentFactory(this._type),this._viewContainerRef.length,this._injector,this._contentRef.nodes)),this._windowRef}close(){var e;this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null,null!==(e=this._contentRef)&&void 0!==e&&e.viewRef&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null))}_getContentRef(e,t){if(e){if(e instanceof o.Rgc){const r=e.createEmbeddedView(t);return this._applicationRef.attachView(r),new zh([r.rootNodes],r)}return new zh([[this._renderer.createText(`${e}`)]])}return new zh([])}}const Yz=()=>{};let r3=(()=>{let n=class{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):Yz}_adjustBody(t){const r=this._document.body,i=r.style.paddingRight,s=parseFloat(window.getComputedStyle(r)["padding-right"]);return r.style["padding-right"]=`${s+t}px`,()=>r.style["padding-right"]=i}_isPresent(t){const r=this._document.body.getBoundingClientRect();return window.innerWidth-(r.left+r.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const r=this._document.body;r.appendChild(t);const i=t.getBoundingClientRect().width-t.clientWidth;return r.removeChild(t),i}};return n.\u0275fac=function(t){return new(t||n)(o.LFG(Y))},n.\u0275prov=(0,o.Yz7)({factory:function(){return new n((0,o.LFG)(Y))},token:n,providedIn:"root"}),n=(0,M.gn)([(0,M.fM)(0,(0,o.tBr)(Y))],n),n})(),Jz=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:2,hostBindings:function(t,r){2&t&&o.Tol("modal-backdrop fade show"+(r.backdropClass?" "+r.backdropClass:""))},inputs:{backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,r){},encapsulation:2}),(0,M.gn)([(0,o.IIB)()],n.prototype,"backdropClass",void 0),n})();class i3{close(e){}dismiss(e){}}class Qz{constructor(e,t,r,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,e.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,c)=>{this._resolve=s,this._reject=c}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}close(e){this._windowCmptRef&&(this._resolve(e),this._removeModalElements())}_dismiss(e){this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();t&&t.then?t.then(r=>{!1!==r&&this._dismiss(e)},()=>{}):!1!==t&&this._dismiss(e)}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.location.nativeElement;if(e.parentNode.removeChild(e),this._windowCmptRef.destroy(),this._backdropCmptRef){const t=this._backdropCmptRef.location.nativeElement;t.parentNode.removeChild(t),this._backdropCmptRef.destroy()}this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._backdropCmptRef=null,this._contentRef=null}}var fb=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(fb||(fb={})),fb))();let Xz=(()=>{let n=class{constructor(t,r,i){this._document=t,this._elRef=r,this._zone=i,this._closed$=new wr.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new o.vpe}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement}ngAfterViewInit(){const{nativeElement:t}=this._elRef;if(this._zone.runOutsideAngular(()=>{yi(t,"keydown").pipe(Wi(this._closed$),Cn(i=>i.which===Gt.Escape&&this.keyboard)).subscribe(i=>requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(fb.ESC))}));let r=!1;yi(this._dialogEl.nativeElement,"mousedown").pipe(Wi(this._closed$),(0,ue.b)(()=>r=!1),Dr(()=>yi(t,"mouseup").pipe(Wi(this._closed$),Kt(1))),Cn(({target:i})=>t===i)).subscribe(()=>{r=!0}),yi(t,"click").pipe(Wi(this._closed$)).subscribe(({target:i})=>{!0===this.backdrop&&t===i&&!r&&this._zone.run(()=>this.dismiss(fb.BACKDROP_CLICK)),r=!1})}),!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=$U(t)[0];(r||i||t).focus()}}ngOnDestroy(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null}),this._closed$.next()}};return n.\u0275fac=function(t){return new(t||n)(o.Y36(Y),o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,r){if(1&t&&o.Gf(Wq,7),2&t){let i;o.iGM(i=o.CRH())&&(r._dialogEl=i.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:5,hostBindings:function(t,r){2&t&&(o.uIk("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),o.Tol("modal fade show d-block"+(r.windowClass?" "+r.windowClass:"")))},inputs:{backdrop:"backdrop",keyboard:"keyboard",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:dm,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,r){1&t&&(o.F$t(),o.TgZ(0,"div",0,1)(2,"div",2),o.Hsn(3),o.qZA()()),2&t&&o.Tol("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+(r.scrollable?" modal-dialog-scrollable":""))},styles:["ngb-modal-window .component-host-scrollable{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow:hidden}"],encapsulation:2}),(0,M.gn)([(0,o.i9L)("dialog",{static:!0})],n.prototype,"_dialogEl",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"ariaLabelledBy",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"ariaDescribedBy",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"backdrop",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"centered",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"keyboard",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"scrollable",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"size",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"windowClass",void 0),(0,M.gn)([(0,o.r_U)("dismiss")],n.prototype,"dismissEvent",void 0),n=(0,M.gn)([(0,M.fM)(0,(0,o.tBr)(Y))],n),n})(),o3=(()=>{let n=class{constructor(t,r,i,s,c,h){this._applicationRef=t,this._injector=r,this._document=i,this._scrollBar=s,this._rendererFactory=c,this._ngZone=h,this._activeWindowCmptHasChanged=new wr.x,this._ariaHiddenValues=new Map,this._backdropAttributes=["backdropClass"],this._modalRefs=[],this._windowAttributes=["ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeInstances=new o.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const g=this._windowCmpts[this._windowCmpts.length-1];jU(this._ngZone,g.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(g.location.nativeElement)}})}open(t,r,i,s){const c=s.container instanceof HTMLElement?s.container:fc(s.container)?this._document.querySelector(s.container):this._document.body,h=this._rendererFactory.createRenderer(null,null),g=this._scrollBar.compensate(),m=()=>{this._modalRefs.length||(h.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!c)throw new Error(`The specified modal container "${s.container||"body"}" was not found in the DOM.`);const v=new i3,D=this._getContentRef(t,s.injector||r,i,v,s);let S=!1!==s.backdrop?this._attachBackdrop(t,c):void 0,A=this._attachWindowComponent(t,c,D),R=new Qz(A,D,S,s.beforeDismiss);return this._registerModalRef(R),this._registerWindowCmpt(A),R.result.then(g,g),R.result.then(m,m),v.close=U=>{R.close(U)},v.dismiss=U=>{R.dismiss(U)},this._applyWindowOptions(A.instance,s),1===this._modalRefs.length&&h.addClass(this._document.body,"modal-open"),S&&S.instance&&this._applyBackdropOptions(S.instance,s),R}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,r){let s=t.resolveComponentFactory(Jz).create(this._injector);return this._applicationRef.attachView(s.hostView),r.appendChild(s.location.nativeElement),s}_attachWindowComponent(t,r,i){let c=t.resolveComponentFactory(Xz).create(this._injector,i.nodes);return this._applicationRef.attachView(c.hostView),r.appendChild(c.location.nativeElement),c}_applyWindowOptions(t,r){this._windowAttributes.forEach(i=>{fc(r[i])&&(t[i]=r[i])})}_applyBackdropOptions(t,r){this._backdropAttributes.forEach(i=>{fc(r[i])&&(t[i]=r[i])})}_getContentRef(t,r,i,s,c){return i?i instanceof o.Rgc?this._createFromTemplateRef(i,s):gI(i)?this._createFromString(i):this._createFromComponent(t,r,i,s,c):new zh([])}_createFromTemplateRef(t,r){const s=t.createEmbeddedView({$implicit:r,close(c){r.close(c)},dismiss(c){r.dismiss(c)}});return this._applicationRef.attachView(s),new zh([s.rootNodes],s)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new zh([[r]])}_createFromComponent(t,r,i,s,c){const h=t.resolveComponentFactory(i),g=o.zs3.create({providers:[{provide:i3,useValue:s}],parent:r}),m=h.create(g),v=m.location.nativeElement;return c.scrollable&&v.classList.add("component-host-scrollable"),this._applicationRef.attachView(m.hostView),new zh([[v]],m.hostView,m)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}};return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.z2F),o.LFG(o.zs3),o.LFG(Y),o.LFG(r3),o.LFG(o.FYo),o.LFG(o.R0b))},n.\u0275prov=(0,o.Yz7)({factory:function(){return new n((0,o.LFG)(o.z2F),(0,o.LFG)(o.gxx),(0,o.LFG)(Y),(0,o.LFG)(r3),(0,o.LFG)(o.FYo),(0,o.LFG)(o.R0b))},token:n,providedIn:"root"}),n=(0,M.gn)([(0,M.fM)(2,(0,o.tBr)(Y))],n),n})(),s3=(()=>{let n=class{constructor(t,r,i,s){this._moduleCFR=t,this._injector=r,this._modalStack=i,this._config=s}open(t,r={}){const i=Object.assign({},this._config,r);return this._modalStack.open(this._moduleCFR,this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}};return n.\u0275fac=function(t){return new(t||n)(o.LFG(o._Vd),o.LFG(o.zs3),o.LFG(o3),o.LFG(n3))},n.\u0275prov=(0,o.Yz7)({factory:function(){return new n((0,o.LFG)(o._Vd),(0,o.LFG)(o.gxx),(0,o.LFG)(o3),(0,o.LFG)(n3))},token:n,providedIn:"root"}),n})(),a3=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[s3]}),n})(),u3=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[tr]}),n})(),c3=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[tr]}),n})(),f3=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[tr]}),n})(),p3=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[tr]}),n})(),h7=(()=>{let n=class{constructor(){this.max=10,this.readonly=!1,this.resettable=!1}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,o.Yz7)({factory:function(){return new n},token:n,providedIn:"root"}),n})();const f7={provide:mi,useExisting:(0,o.Gpc)(()=>p7),multi:!0};let p7=(()=>{let n=class{constructor(t,r){this._changeDetectorRef=r,this.contexts=[],this.disabled=!1,this.hover=new o.vpe,this.leave=new o.vpe,this.rateChange=new o.vpe(!0),this.onChange=i=>{},this.onTouched=()=>{},this.max=t.max,this.readonly=t.readonly}ariaValueText(){return`${this.nextRate} out of ${this.max}`}enter(t){!this.readonly&&!this.disabled&&this._updateState(t),this.hover.emit(t)}handleBlur(){this.onTouched()}handleClick(t){!this.readonly&&!this.disabled&&this.update(this.resettable&&this.rate===t?0:t)}handleKeyDown(t){switch(t.which){case Gt.ArrowDown:case Gt.ArrowLeft:this.update(this.rate-1);break;case Gt.ArrowUp:case Gt.ArrowRight:this.update(this.rate+1);break;case Gt.Home:this.update(0);break;case Gt.End:this.update(this.max);break;default:return}t.preventDefault()}ngOnChanges(t){t.rate&&this.update(this.rate)}ngOnInit(){this.contexts=Array.from({length:this.max},(t,r)=>({fill:0,index:r})),this._updateState(this.rate)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(t){this.disabled=t}update(t,r=!0){const i=function vR(n,e,t=0){return Math.max(Math.min(n,e),t)}(t,this.max,0);!this.readonly&&!this.disabled&&this.rate!==i&&(this.rate=i,this.rateChange.emit(this.rate)),r&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(t){this.update(t,!1),this._changeDetectorRef.markForCheck()}_getFillValue(t){const r=this.nextRate-t;return r>=1?100:r<1&&r>0?parseInt((100*r).toFixed(2),10):0}_updateState(t){this.nextRate=t,this.contexts.forEach((r,i)=>r.fill=this._getFillValue(i))}};return n.\u0275fac=function(t){return new(t||n)(o.Y36(h7),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngb-rating"]],contentQueries:function(t,r,i){if(1&t&&o.Suo(i,o.Rgc,5),2&t){let s;o.iGM(s=o.CRH())&&(r.starTemplateFromContent=s.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(t,r){1&t&&o.NdJ("blur",function(){return r.handleBlur()})("keydown",function(s){return r.handleKeyDown(s)})("mouseleave",function(){return r.reset()}),2&t&&(o.Ikx("tabindex",r.disabled?-1:0),o.uIk("aria-valuemax",r.max)("aria-valuenow",r.nextRate)("aria-valuetext",r.ariaValueText())("aria-disabled",!!r.readonly||null))},inputs:{max:"max",readonly:"readonly",rate:"rate",resettable:"resettable",starTemplate:"starTemplate"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},features:[o._Bn([f7]),o.TTD],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"sr-only"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&(o.YNc(0,C8,1,1,"ng-template",null,0,o.W1O),o.YNc(2,A8,4,5,"ng-template",1)),2&t&&(o.xp6(2),o.Q6J("ngForOf",r.contexts))},dependencies:[Ln,ri],encapsulation:2,changeDetection:0}),(0,M.gn)([(0,o.IIB)()],n.prototype,"max",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"rate",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"readonly",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"resettable",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"starTemplate",void 0),(0,M.gn)([(0,o.aQ5)(o.Rgc,{static:!1})],n.prototype,"starTemplateFromContent",void 0),(0,M.gn)([(0,o.r_U)()],n.prototype,"hover",void 0),(0,M.gn)([(0,o.r_U)()],n.prototype,"leave",void 0),(0,M.gn)([(0,o.r_U)()],n.prototype,"rateChange",void 0),n})(),g3=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[tr]}),n})(),m3=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[tr]}),n})();class _3{constructor(e,t,r){this.hour=vi(e),this.minute=vi(t),this.second=vi(r)}changeHour(e=1){this.updateHour((isNaN(this.hour)?0:this.hour)+e)}updateHour(e){this.hour=lr(e)?(e<0?24+e:e)%24:NaN}changeMinute(e=1){this.updateMinute((isNaN(this.minute)?0:this.minute)+e)}updateMinute(e){lr(e)?(this.minute=e%60<0?60+e%60:e%60,this.changeHour(Math.floor(e/60))):this.minute=NaN}changeSecond(e=1){this.updateSecond((isNaN(this.second)?0:this.second)+e)}updateSecond(e){lr(e)?(this.second=e<0?60+e%60:e%60,this.changeMinute(Math.floor(e/60))):this.second=NaN}isValid(e=!0){return lr(this.hour)&&lr(this.minute)&&(!e||lr(this.second))}toString(){return`${this.hour||0}:${this.minute||0}:${this.second||0}`}}let _7=(()=>{let n=class{constructor(){this.meridian=!1,this.spinners=!0,this.seconds=!1,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.disabled=!1,this.readonlyInputs=!1,this.size="medium"}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,o.Yz7)({factory:function(){return new n},token:n,providedIn:"root"}),n})();function y7(){return new v7}let y3=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,o.Yz7)({factory:y7,token:n,providedIn:"root"}),n})(),v7=(()=>{let n=class extends y3{fromModel(t){return t&&Yn(t.hour)&&Yn(t.minute)?{hour:t.hour,minute:t.minute,second:Yn(t.second)?t.second:null}:null}toModel(t){return t&&Yn(t.hour)&&Yn(t.minute)?{hour:t.hour,minute:t.minute,second:Yn(t.second)?t.second:null}:null}};return n.\u0275fac=function(){let e;return function(r){return(e||(e=o.n5z(n)))(r||n)}}(),n.\u0275prov=o.Yz7({token:n,factory:function(e){return n.\u0275fac(e)}}),n})(),v3=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,o.Yz7)({factory:function(){return function b7(n){return new w7(n)}((0,o.LFG)(o.soG))},token:n,providedIn:"root"}),n})(),w7=(()=>{let n=class extends v3{constructor(t){super(),this._periods=fe(t,Oe.Standalone,je.Narrow)}getMorningPeriod(){return this._periods[0]}getAfternoonPeriod(){return this._periods[1]}};return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.soG))},n.\u0275prov=o.Yz7({token:n,factory:function(e){return n.\u0275fac(e)}}),n=(0,M.gn)([(0,M.fM)(0,(0,o.tBr)(o.soG))],n),n})();const T7=/[^0-9]/g,D7={provide:mi,useExisting:(0,o.Gpc)(()=>E7),multi:!0};let E7=(()=>{let n=class{constructor(t,r,i,s){this._config=t,this._ngbTimeAdapter=r,this._cd=i,this.i18n=s,this.onChange=c=>{},this.onTouched=()=>{},this.meridian=t.meridian,this.spinners=t.spinners,this.seconds=t.seconds,this.hourStep=t.hourStep,this.minuteStep=t.minuteStep,this.secondStep=t.secondStep,this.disabled=t.disabled,this.readonlyInputs=t.readonlyInputs,this.size=t.size}set hourStep(t){this._hourStep=Yn(t)?t:this._config.hourStep}get hourStep(){return this._hourStep}set minuteStep(t){this._minuteStep=Yn(t)?t:this._config.minuteStep}get minuteStep(){return this._minuteStep}set secondStep(t){this._secondStep=Yn(t)?t:this._config.secondStep}get secondStep(){return this._secondStep}writeValue(t){const r=this._ngbTimeAdapter.fromModel(t);this.model=r?new _3(r.hour,r.minute,r.second):new _3,!this.seconds&&(!r||!lr(r.second))&&(this.model.second=0),this._cd.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}changeHour(t){this.model.changeHour(t),this.propagateModelChange()}changeMinute(t){this.model.changeMinute(t),this.propagateModelChange()}changeSecond(t){this.model.changeSecond(t),this.propagateModelChange()}updateHour(t){const r=this.model.hour>=12,i=vi(t);this.model.updateHour(this.meridian&&(r&&i<12||!r&&12===i)?i+12:i),this.propagateModelChange()}updateMinute(t){this.model.updateMinute(vi(t)),this.propagateModelChange()}updateSecond(t){this.model.updateSecond(vi(t)),this.propagateModelChange()}toggleMeridian(){this.meridian&&this.changeHour(12)}formatInput(t){t.value=t.value.replace(T7,"")}formatHour(t){return lr(t)?hm(this.meridian?t%12==0?12:t%12:t%24):hm(NaN)}formatMinSec(t){return hm(lr(t)?t:NaN)}get isSmallSize(){return"small"===this.size}get isLargeSize(){return"large"===this.size}ngOnChanges(t){t.seconds&&!this.seconds&&this.model&&!lr(this.model.second)&&(this.model.second=0,this.propagateModelChange(!1))}propagateModelChange(t=!0){t&&this.onTouched(),this.model.isValid(this.seconds)?this.onChange(this._ngbTimeAdapter.toModel({hour:this.model.hour,minute:this.model.minute,second:this.model.second})):this.onChange(this._ngbTimeAdapter.toModel(null))}};return n.\u0275fac=function(t){return new(t||n)(o.Y36(_7),o.Y36(y3),o.Y36(o.sBO),o.Y36(v3))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngb-timepicker"]],inputs:{meridian:"meridian",spinners:"spinners",seconds:"seconds",hourStep:"hourStep",minuteStep:"minuteStep",secondStep:"secondStep",readonlyInputs:"readonlyInputs",size:"size"},features:[o._Bn([D7]),o.TTD],decls:16,vars:25,consts:function(){let e,t,r,i,s,c,h,g,m,v,D,S,A,R;return e=$localize`:@@ngb.timepicker.HHce676ab1d6d98f85c836381cf100a4a91ef95a1f4043638465245303811:HH`,t=$localize`:@@ngb.timepicker.hours3bbce5fef7e1151da052a4e529453edb340e39128070396816726827304:Hours`,r=$localize`:@@ngb.timepicker.MM72c8edf6a50068a05bde70991e36b1e881f4ca541647282246509919852:MM`,i=$localize`:@@ngb.timepicker.minutes41e62daa962947c0d23ded0981975d1bddf0bf385531237363767747080:Minutes`,s=$localize`:@@ngb.timepicker.increment-hourscb74bc1d625a6c1742f0d7d47306cf495780c2185939278348542933629:Increment hours`,c=$localize`:@@ngb.timepicker.decrement-hours147c7a19429da7d999e247d22e33fee370b1691b3651829882940481818:Decrement hours`,h=$localize`:@@ngb.timepicker.increment-minutesf5a4a3bc05e053f6732475d0e74875ec01c3a348180147720391025024:Increment minutes`,g=$localize`:@@ngb.timepicker.decrement-minutesc1a6899e529c096da5b660385d4e77fe1f7ad2717447789825403243588:Decrement minutes`,m=$localize`:@@ngb.timepicker.SSebe38d36a40a2383c5fefa9b4608ffbda08bd4a33628127143071124194:SS`,v=$localize`:@@ngb.timepicker.seconds4f2ed9e71a7c981db3e50ae2fedb28aff2ec4e6c8874012390997067175:Seconds`,D=$localize`:@@ngb.timepicker.increment-seconds912322ecee7d659d04dcf494a70e22e49d334b265364772110539092174:Increment seconds`,S=$localize`:@@ngb.timepicker.decrement-seconds5db47ac104294243a70eb9124fbea9d0004ddf69753633511487974857:Decrement seconds`,A=$localize`:@@ngb.timepicker.PM8d6e691e10306c1b34c6b26805151aaea320ef7f3564199131264287502:${"\ufffd0\ufffd"}:INTERPOLATION:`,R=$localize`:@@ngb.timepicker.AM69a1f176a93998876952adac57c3bc3863b6105e4592818992509942761:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[3,"disabled"],[1,"ngb-tp"],[1,"ngb-tp-input-container","ngb-tp-hour"],["tabindex","-1","type","button","class","btn btn-link",3,"btn-sm","btn-lg","disabled","click",4,"ngIf"],["type","text","maxlength","2","inputmode","numeric","placeholder",e,"aria-label",t,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","input","keydown.ArrowUp","keydown.ArrowDown"],[1,"ngb-tp-spacer"],[1,"ngb-tp-input-container","ngb-tp-minute"],["type","text","maxlength","2","inputmode","numeric","placeholder",r,"aria-label",i,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","input","keydown.ArrowUp","keydown.ArrowDown"],["class","ngb-tp-spacer",4,"ngIf"],["class","ngb-tp-input-container ngb-tp-second",4,"ngIf"],["class","ngb-tp-meridian",4,"ngIf"],["tabindex","-1","type","button",1,"btn","btn-link",3,"disabled","click"],[1,"chevron","ngb-tp-chevron"],[1,"sr-only"],s,[1,"chevron","ngb-tp-chevron","bottom"],c,h,g,[1,"ngb-tp-input-container","ngb-tp-second"],["type","text","maxlength","2","inputmode","numeric","placeholder",m,"aria-label",v,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","input","keydown.ArrowUp","keydown.ArrowDown"],D,S,[1,"ngb-tp-meridian"],["type","button",1,"btn","btn-outline-primary",3,"disabled","click"],[4,"ngIf","ngIfElse"],["am",""],A,R]},template:function(t,r){1&t&&(o.TgZ(0,"fieldset",0)(1,"div",1)(2,"div",2),o.YNc(3,O8,4,7,"button",3),o.TgZ(4,"input",4),o.NdJ("change",function(s){return r.updateHour(s.target.value)})("input",function(s){return r.formatInput(s.target)})("keydown.ArrowUp",function(s){return r.changeHour(r.hourStep),s.preventDefault()})("keydown.ArrowDown",function(s){return r.changeHour(-r.hourStep),s.preventDefault()}),o.qZA(),o.YNc(5,P8,4,7,"button",3),o.qZA(),o.TgZ(6,"div",5),o._uU(7,":"),o.qZA(),o.TgZ(8,"div",6),o.YNc(9,F8,4,7,"button",3),o.TgZ(10,"input",7),o.NdJ("change",function(s){return r.updateMinute(s.target.value)})("input",function(s){return r.formatInput(s.target)})("keydown.ArrowUp",function(s){return r.changeMinute(r.minuteStep),s.preventDefault()})("keydown.ArrowDown",function(s){return r.changeMinute(-r.minuteStep),s.preventDefault()}),o.qZA(),o.YNc(11,L8,4,7,"button",3),o.qZA(),o.YNc(12,B8,2,0,"div",8),o.YNc(13,H8,4,9,"div",9),o.YNc(14,$8,1,0,"div",8),o.YNc(15,q8,5,9,"div",10),o.qZA()()),2&t&&(o.ekj("disabled",r.disabled),o.Q6J("disabled",r.disabled),o.xp6(3),o.Q6J("ngIf",r.spinners),o.xp6(1),o.ekj("form-control-sm",r.isSmallSize)("form-control-lg",r.isLargeSize),o.Q6J("value",r.formatHour(null==r.model?null:r.model.hour))("readOnly",r.readonlyInputs)("disabled",r.disabled),o.xp6(1),o.Q6J("ngIf",r.spinners),o.xp6(4),o.Q6J("ngIf",r.spinners),o.xp6(1),o.ekj("form-control-sm",r.isSmallSize)("form-control-lg",r.isLargeSize),o.Q6J("value",r.formatMinSec(null==r.model?null:r.model.minute))("readOnly",r.readonlyInputs)("disabled",r.disabled),o.xp6(1),o.Q6J("ngIf",r.spinners),o.xp6(1),o.Q6J("ngIf",r.seconds),o.xp6(1),o.Q6J("ngIf",r.seconds),o.xp6(1),o.Q6J("ngIf",r.meridian),o.xp6(1),o.Q6J("ngIf",r.meridian))},dependencies:[Pt],styles:['ngb-timepicker{font-size:1rem}.ngb-tp{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.ngb-tp-input-container{width:4em}.ngb-tp-chevron::before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);vertical-align:middle;width:.69em}.ngb-tp-chevron.bottom:before{top:-.3em;-webkit-transform:rotate(135deg);transform:rotate(135deg)}.ngb-tp-input{text-align:center}.ngb-tp-hour,.ngb-tp-meridian,.ngb-tp-minute,.ngb-tp-second{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:distribute;justify-content:space-around}.ngb-tp-spacer{width:1em;text-align:center}'],encapsulation:2}),(0,M.gn)([(0,o.IIB)()],n.prototype,"meridian",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"spinners",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"seconds",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"hourStep",null),(0,M.gn)([(0,o.IIB)()],n.prototype,"minuteStep",null),(0,M.gn)([(0,o.IIB)()],n.prototype,"secondStep",null),(0,M.gn)([(0,o.IIB)()],n.prototype,"readonlyInputs",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"size",void 0),n})(),b3=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[tr]}),n})(),T3=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[tr]}),n})(),D3=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),M7=(()=>{let n=class{constructor(){this.highlightClass="ngb-highlight"}ngOnChanges(t){const r=sb(this.result),s=(Array.isArray(this.term)?this.term:[this.term]).map(c=>function nz(n){return n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(sb(c))).filter(c=>c);this.parts=s.length?r.split(new RegExp(`(${s.join("|")})`,"gmi")):[r]}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term"},features:[o.TTD],decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],[3,"class",4,"ngIf","ngIfElse"],["even",""]],template:function(t,r){1&t&&o.YNc(0,J8,3,2,"ng-template",0),2&t&&o.Q6J("ngForOf",r.parts)},dependencies:[Ln,Pt],styles:[".ngb-highlight{font-weight:700}"],encapsulation:2,changeDetection:0}),(0,M.gn)([(0,o.IIB)()],n.prototype,"highlightClass",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"result",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"term",void 0),n})(),N7=(()=>{let n=class{constructor(){this.activeIdx=0,this.focusFirst=!0,this.formatter=sb,this.selectEvent=new o.vpe,this.activeChangeEvent=new o.vpe}hasActive(){return this.activeIdx>-1&&this.activeIdx<this.results.length}getActive(){return this.results[this.activeIdx]}markActive(t){this.activeIdx=t,this._activeChanged()}next(){this.activeIdx===this.results.length-1?this.activeIdx=this.focusFirst?(this.activeIdx+1)%this.results.length:-1:this.activeIdx++,this._activeChanged()}prev(){this.activeIdx<0?this.activeIdx=this.results.length-1:0===this.activeIdx?this.activeIdx=this.focusFirst?this.results.length-1:-1:this.activeIdx--,this._activeChanged()}resetActive(){this.activeIdx=this.focusFirst?0:-1,this._activeChanged()}select(t){this.selectEvent.emit(t)}ngOnInit(){this.resetActive()}_activeChanged(){this.activeChangeEvent.emit(this.activeIdx>=0?this.id+"-"+this.activeIdx:void 0)}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngb-typeahead-window"]],hostAttrs:["role","listbox",1,"dropdown-menu","show"],hostVars:1,hostBindings:function(t,r){1&t&&o.NdJ("mousedown",function(s){return s.preventDefault()}),2&t&&o.Ikx("id",r.id)},inputs:{focusFirst:"focusFirst",formatter:"formatter",id:"id",results:"results",term:"term",resultTemplate:"resultTemplate"},outputs:{selectEvent:"select",activeChangeEvent:"activeChange"},exportAs:["ngbTypeaheadWindow"],decls:3,vars:1,consts:[["rt",""],["ngFor","",3,"ngForOf"],[3,"result","term"],["type","button","role","option",1,"dropdown-item",3,"id","mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&(o.YNc(0,Q8,1,2,"ng-template",null,0,o.W1O),o.YNc(2,tz,2,9,"ng-template",1)),2&t&&(o.xp6(2),o.Q6J("ngForOf",r.results))},dependencies:[Ln,ri,M7],encapsulation:2}),(0,M.gn)([(0,o.IIB)()],n.prototype,"id",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"focusFirst",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"results",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"term",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"formatter",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"resultTemplate",void 0),(0,M.gn)([(0,o.r_U)("select")],n.prototype,"selectEvent",void 0),(0,M.gn)([(0,o.r_U)("activeChange")],n.prototype,"activeChangeEvent",void 0),n})();const ZR=new o.OlP("live announcer delay",{providedIn:"root",factory:function x7(){return 100}});function E3(n,e=!1){let t=n.body.querySelector("#ngb-live");return null==t&&e&&(t=n.createElement("div"),t.setAttribute("id","ngb-live"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-atomic","true"),t.classList.add("sr-only"),n.body.appendChild(t)),t}let k7=(()=>{let n=class{constructor(t,r){this._document=t,this._delay=r}ngOnDestroy(){const t=E3(this._document);t&&t.parentElement.removeChild(t)}say(t){const r=E3(this._document,!0),i=this._delay;if(null!=r){r.textContent="";const s=()=>r.textContent=t;null===i?s():setTimeout(s,i)}}};return n.\u0275fac=function(t){return new(t||n)(o.LFG(Y),o.LFG(ZR))},n.\u0275prov=(0,o.Yz7)({factory:function(){return new n((0,o.LFG)(Y),(0,o.LFG)(ZR))},token:n,providedIn:"root"}),n=(0,M.gn)([(0,M.fM)(0,(0,o.tBr)(Y)),(0,M.fM)(1,(0,o.tBr)(ZR))],n),n})(),R7=(()=>{let n=class{constructor(){this.editable=!0,this.focusFirst=!0,this.showHint=!1,this.placement=["bottom-left","bottom-right","top-left","top-right"]}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,o.Yz7)({factory:function(){return new n},token:n,providedIn:"root"}),n})();const O7={provide:mi,useExisting:(0,o.Gpc)(()=>F7),multi:!0};let P7=0,F7=(()=>{let n=class{constructor(t,r,i,s,c,h,g,m,v,D,S,A){this._elementRef=t,this._renderer=i,this._live=m,this._document=v,this._ngZone=D,this._changeDetector=S,this._subscription=null,this._closed$=new wr.x,this._inputValueBackup=null,this._windowRef=null,this.autocomplete="off",this.placement="bottom-left",this.selectItem=new o.vpe,this.activeDescendant=null,this.popupId="ngb-typeahead-"+P7++,this._onTouched=()=>{},this._onChange=R=>{},this.container=h.container,this.editable=h.editable,this.focusFirst=h.focusFirst,this.showHint=h.showHint,this.placement=h.placement,this._valueChanges=yi(t.nativeElement,"input").pipe((0,Qe.U)(R=>R.target.value)),this._resubscribeTypeahead=new on(null),this._popupService=new FR(N7,s,r,i,c,A),this._zoneSubscription=g.onStable.subscribe(()=>{this.isPopupOpen()&&ub(this._elementRef.nativeElement,this._windowRef.location.nativeElement,this.placement,"body"===this.container)})}ngOnInit(){const r=this._valueChanges.pipe((0,ue.b)(s=>{this._inputValueBackup=this.showHint?s:null,this._onChange(this.editable?s:void 0)})).pipe(this.ngbTypeahead),i=this._resubscribeTypeahead.pipe(Dr(()=>r));this._subscription=this._subscribeToUserInput(i)}ngOnDestroy(){this._closePopup(),this._unsubscribeFromUserInput(),this._zoneSubscription.unsubscribe()}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}writeValue(t){this._writeInputValue(this._formatItemForInput(t)),this.showHint&&(this._inputValueBackup=t)}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}dismissPopup(){this.isPopupOpen()&&(this._resubscribeTypeahead.next(null),this._closePopup(),this.showHint&&null!==this._inputValueBackup&&this._writeInputValue(this._inputValueBackup),this._changeDetector.markForCheck())}isPopupOpen(){return null!=this._windowRef}handleBlur(){this._resubscribeTypeahead.next(null),this._onTouched()}handleKeyDown(t){if(this.isPopupOpen())switch(t.which){case Gt.ArrowDown:t.preventDefault(),this._windowRef.instance.next(),this._showHint();break;case Gt.ArrowUp:t.preventDefault(),this._windowRef.instance.prev(),this._showHint();break;case Gt.Enter:case Gt.Tab:const r=this._windowRef.instance.getActive();fc(r)&&(t.preventDefault(),t.stopPropagation(),this._selectResult(r)),this._closePopup()}}_openPopup(){this.isPopupOpen()||(this._inputValueBackup=this._elementRef.nativeElement.value,this._windowRef=this._popupService.open(),this._windowRef.instance.id=this.popupId,this._windowRef.instance.selectEvent.subscribe(t=>this._selectResultClosePopup(t)),this._windowRef.instance.activeChangeEvent.subscribe(t=>this.activeDescendant=t),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._changeDetector.markForCheck(),lb(this._ngZone,this._document,"outside",()=>this.dismissPopup(),this._closed$,[this._elementRef.nativeElement,this._windowRef.location.nativeElement]))}_closePopup(){this._closed$.next(),this._popupService.close(),this._windowRef=null,this.activeDescendant=null}_selectResult(t){let r=!1;this.selectItem.emit({item:t,preventDefault:()=>{r=!0}}),this._resubscribeTypeahead.next(null),r||(this.writeValue(t),this._onChange(t))}_selectResultClosePopup(t){this._selectResult(t),this._closePopup()}_showHint(){var t;if(this.showHint&&(null===(t=this._windowRef)||void 0===t?void 0:t.instance.hasActive())&&null!=this._inputValueBackup){const r=this._inputValueBackup.toLowerCase(),i=this._formatItemForInput(this._windowRef.instance.getActive());r===i.substr(0,this._inputValueBackup.length).toLowerCase()?(this._writeInputValue(this._inputValueBackup+i.substr(this._inputValueBackup.length)),this._elementRef.nativeElement.setSelectionRange.apply(this._elementRef.nativeElement,[this._inputValueBackup.length,i.length])):this._writeInputValue(i)}}_formatItemForInput(t){return null!=t&&this.inputFormatter?this.inputFormatter(t):sb(t)}_writeInputValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",sb(t))}_subscribeToUserInput(t){return t.subscribe(r=>{r&&0!==r.length?(this._openPopup(),this._windowRef.instance.focusFirst=this.focusFirst,this._windowRef.instance.results=r,this._windowRef.instance.term=this._elementRef.nativeElement.value,this.resultFormatter&&(this._windowRef.instance.formatter=this.resultFormatter),this.resultTemplate&&(this._windowRef.instance.resultTemplate=this.resultTemplate),this._windowRef.instance.resetActive(),this._windowRef.changeDetectorRef.detectChanges(),this._showHint()):this._closePopup();const i=r?r.length:0;this._live.say(0===i?"No results available":`${i} result${1===i?"":"s"} available`)})}_unsubscribeFromUserInput(){this._subscription&&this._subscription.unsubscribe(),this._subscription=null}};return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.s_b),o.Y36(o.Qsj),o.Y36(o.zs3),o.Y36(o._Vd),o.Y36(R7),o.Y36(o.R0b),o.Y36(k7),o.Y36(Y),o.Y36(o.R0b),o.Y36(o.sBO),o.Y36(o.z2F))},n.\u0275dir=o.lG2({type:n,selectors:[["input","ngbTypeahead",""]],hostAttrs:["autocapitalize","off","autocorrect","off","role","combobox","aria-multiline","false"],hostVars:7,hostBindings:function(t,r){1&t&&o.NdJ("blur",function(){return r.handleBlur()})("keydown",function(s){return r.handleKeyDown(s)}),2&t&&(o.Ikx("autocomplete",r.autocomplete),o.uIk("aria-autocomplete",r.showHint?"both":"list")("aria-activedescendant",r.activeDescendant)("aria-owns",r.isPopupOpen()?r.popupId:null)("aria-expanded",r.isPopupOpen()),o.ekj("open",r.isPopupOpen()))},inputs:{autocomplete:"autocomplete",placement:"placement",container:"container",editable:"editable",focusFirst:"focusFirst",showHint:"showHint",inputFormatter:"inputFormatter",ngbTypeahead:"ngbTypeahead",resultFormatter:"resultFormatter",resultTemplate:"resultTemplate"},outputs:{selectItem:"selectItem"},exportAs:["ngbTypeahead"],features:[o._Bn([O7])]}),(0,M.gn)([(0,o.IIB)()],n.prototype,"autocomplete",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"container",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"editable",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"focusFirst",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"inputFormatter",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"ngbTypeahead",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"resultFormatter",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"resultTemplate",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"showHint",void 0),(0,M.gn)([(0,o.IIB)()],n.prototype,"placement",void 0),(0,M.gn)([(0,o.r_U)()],n.prototype,"selectItem",void 0),n=(0,M.gn)([(0,M.fM)(8,(0,o.tBr)(Y))],n),n})(),I3=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[tr]}),n})();const L7=[xU,kU,OU,PU,FU,XU,t3,a3,u3,c3,f3,p3,g3,b3,T3,D3,I3,m3];let B7=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[L7,xU,kU,OU,PU,FU,XU,t3,a3,u3,c3,f3,p3,g3,b3,T3,D3,I3,m3]}),n})();function V7(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",11)(1,"div",12)(2,"h4",13),o._uU(3," Por favor elige la prueba que deseas realizar "),o.qZA(),o.TgZ(4,"button",14),o.NdJ("click",function(){const s=o.CHM(t).$implicit;return o.KtG(s.dismiss("Cross click"))}),o.qZA()(),o.TgZ(5,"div",15)(6,"div"),o.O4$(),o.TgZ(7,"svg",16),o._UZ(8,"path",17),o.qZA(),o.kcU(),o.TgZ(9,"button",18),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.navigateToTest("adulto"))}),o._uU(10," Para j\xf3venes y adultos (mayores de edad) "),o.qZA()(),o.TgZ(11,"div"),o.O4$(),o.TgZ(12,"svg",19),o._UZ(13,"path",20),o.qZA(),o.kcU(),o.TgZ(14,"button",18),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.navigateToTest("nino"))}),o._uU(15," Para ni\xf1os (los padres deben responderlo) "),o.qZA()()()()}}let U7=(()=>{class n{constructor(t,r){this.router=t,this.modalService=r,this.title="appBootstrap"}ngOnInit(){}scrolltoDestacados(t){document.getElementById(t).scrollIntoView()}open(t){this.modalService.open(t)}navigateToTest(t){this.modalService.dismissAll(),this.router.navigate(["/tests",t])}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(gn),o.Y36(s3))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-billboard"]],decls:16,vars:2,consts:[[1,"billboard"],[1,"background-image"],[1,"grid",2,"z-index","1"],[1,"g-col-2"],[1,"g-col-8"],[1,"billboard-cta-container"],[1,"sub-title"],[1,"buttons"],[1,"button","test-btn",3,"click"],[1,"button",3,"click"],["mymodal",""],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-person"],["d","M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4Zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10Z"],["type","button",1,"btn","btn-link",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-people"],["d","M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1h8Zm-7.978-1A.261.261 0 0 1 7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002a.274.274 0 0 1-.014.002H7.022ZM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM6.936 9.28a5.88 5.88 0 0 0-1.23-.247A7.35 7.35 0 0 0 5 9c-4 0-5 3-5 4 0 .667.333 1 1 1h4.216A2.238 2.238 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816ZM4.92 10A5.493 5.493 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275ZM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0Zm3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4Z"]],template:function(t,r){if(1&t){const i=o.EpF();o.TgZ(0,"div",0),o._UZ(1,"div",1),o.TgZ(2,"div",2),o._UZ(3,"div",3),o.TgZ(4,"div",4)(5,"div",5)(6,"h1",6),o._uU(7," \xbfTe gustar\xeda saber qu\xe9 tan probable es que tengas TDAH? "),o.qZA(),o.TgZ(8,"div",7)(9,"button",8),o.NdJ("click",function(){o.CHM(i);const c=o.MAs(14);return o.KtG(r.open(c))}),o._uU(10," \xa1Claro! "),o.qZA(),o.TgZ(11,"button",9),o.NdJ("click",function(){return r.scrolltoDestacados("destacados")}),o._uU(12," Tal vez despu\xe9s "),o.qZA()()()(),o.YNc(13,V7,16,0,"ng-template",null,10,o.W1O),o._UZ(15,"div",3),o.qZA()()}2&t&&(o.xp6(6),o.Q6J("@swipeUpIn",void 0),o.xp6(2),o.Q6J("@swipeDownIn",void 0))},styles:[".billboard[_ngcontent-%COMP%]{position:relative;height:100vh;overflow:hidden;display:flex;align-items:center}.background-image[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-repeat:no-repeat;background-size:cover;background-position:center;background-image:linear-gradient(to right,rgba(0,0,0,.1) 0%,rgba(255,255,255,0) 100%),url(/mental-behavior/brain-bg.81b24283288db51f.jpg);z-index:1}.billboard-cta-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:50%}.sub-title[_ngcontent-%COMP%]{font-size:3.15rem;margin-bottom:3rem;color:#fff}.buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;gap:1.5rem;flex-wrap:wrap;width:95%}.button[_ngcontent-%COMP%]{padding:.75rem 1rem;font-size:1.35rem;font-weight:200;border:none;border-radius:5px;background-color:#1bb1c6;color:#fff;cursor:pointer;min-width:12rem;max-width:50%;flex-grow:1}.button[_ngcontent-%COMP%]:hover{background-color:#47c6d6}.test-btn[_ngcontent-%COMP%]{background-color:#f57730}.test-btn[_ngcontent-%COMP%]:hover{background-color:#f9975e}section[_ngcontent-%COMP%]{background-color:#fff}#myModal[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding-top:10rem}.modal-body[_ngcontent-%COMP%]{padding-top:1.5rem;padding-bottom:3rem}.modal-body[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:.5rem;margin-bottom:.5rem}@media (max-width: 1450px){.billboard-cta-container[_ngcontent-%COMP%]{width:auto}.sub-title[_ngcontent-%COMP%]{font-size:2.75rem}}@media (max-width: 576px){.sub-title[_ngcontent-%COMP%]{font-size:1.75rem;margin-bottom:1.5rem}.button[_ngcontent-%COMP%]{max-width:95%}}"],data:{animation:[Cs("swipeUpIn",[ro("void => *",[Ut({opacity:0,transform:"translateY(20px)"}),Vi("600ms ease-in-out")])]),Cs("swipeDownIn",[ro("void => *",[Ut({opacity:0,transform:"translateY(-10px)"}),Vi("600ms ease-in-out")])])]}}),n})();function H7(n,e){if(1&n&&o._UZ(0,"app-supporting-section",2),2&n){const t=o.oxw().$implicit;o.Q6J("title",t.titulo)("description",t.descripcion)("backgroundImageUrl",t.imagenes[1].imgUrl)("articuloID",t.id)}}function $7(n,e){if(1&n&&(o.ynx(0),o.YNc(1,H7,1,4,"app-supporting-section",1),o.BQk()),2&n){const t=e.$implicit;o.xp6(1),o.Q6J("ngIf",t.artPrincipal)}}let C3=(()=>{class n{constructor(t){this.articuloService=t,this.articulos=[]}ngOnInit(){this.getArticulos()}getArticulos(){var t=this;return(0,H.Z)(function*(){t.articulos=yield t.articuloService.getArticulos(),console.log(t.articulos)})()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(tI))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-home-landing"]],decls:4,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"title","description","backgroundImageUrl","articuloID",4,"ngIf"],[3,"title","description","backgroundImageUrl","articuloID"]],template:function(t,r){1&t&&(o._UZ(0,"app-billboard"),o.YNc(1,$7,2,1,"ng-container",0),o.TgZ(2,"div"),o._UZ(3,"app-destacados"),o.qZA()),2&t&&(o.xp6(1),o.Q6J("ngForOf",r.articulos))},dependencies:[Ln,Pt,qG,zG,U7],styles:["section[_ngcontent-%COMP%]{background-color:#fff}h2[_ngcontent-%COMP%]{font-size:2.15rem}@media (max-width: 1450px){.content[_ngcontent-%COMP%]{padding-left:5rem}.sub-title[_ngcontent-%COMP%]{font-size:2.75rem}}@media (max-width: 767.98px){.content[_ngcontent-%COMP%]{padding-left:2rem}}@media (max-width: 576px){.sub-title[_ngcontent-%COMP%]{font-size:1.75rem;margin-bottom:1.5rem}}"]}),n})(),j7=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-footer"]],decls:1,vars:0,template:function(t,r){1&t&&o._UZ(0,"footer")},styles:["footer[_ngcontent-%COMP%]{height:20rem;background-color:#0c1016;margin-top:auto}"]}),n})();function G7(n,e){1&n&&(o.ynx(0),o._UZ(1,"app-home-landing"),o.BQk())}function q7(n,e){1&n&&(o.ynx(0),o.TgZ(1,"main",2),o._UZ(2,"div",3),o.TgZ(3,"div",4),o._UZ(4,"router-outlet")(5,"div",5),o.qZA()(),o.BQk())}const z7=function(n){return{nav:!0,"nav-background":n}};let W7=(()=>{class n{constructor(t){this.router=t,this.name="angular-project"}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(gn))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-root"]],decls:5,vars:5,consts:[[3,"ngClass"],[4,"ngIf"],[1,"grid","main-container"],[1,"left-margin","g-col-0","g-col-xxl-2"],[1,"center-container","g-col-12","g-col-xl-10","g-col-xxl-8"],[1,"push"]],template:function(t,r){1&t&&(o.TgZ(0,"header"),o._UZ(1,"app-top-nav",0),o.qZA(),o.YNc(2,G7,2,0,"ng-container",1),o.YNc(3,q7,6,0,"ng-container",1),o._UZ(4,"app-footer")),2&t&&(o.xp6(1),o.Q6J("ngClass",o.VKq(3,z7,"/"!==r.router.url)),o.xp6(1),o.Q6J("ngIf","/"==r.router.url),o.xp6(1),o.Q6J("ngIf","/"!==r.router.url))},dependencies:[rn,Pt,QH,C3,s_,j7],styles:["main[_ngcontent-%COMP%]{padding-bottom:10rem;min-height:100%;margin-bottom:-10rem}.center-container[_ngcontent-%COMP%]{background:#ffff;padding:8rem 5rem 0;min-height:100%}.push[_ngcontent-%COMP%]{height:8rem}header[_ngcontent-%COMP%]{top:0;position:absolute;display:flex;width:100%;height:10rem}.nav[_ngcontent-%COMP%]{align-self:flex-start;flex-grow:1}.nav-background[_ngcontent-%COMP%]{background-color:#000142}a[_ngcontent-%COMP%]{color:#6eaab7}@media (max-width: 1199.98px){.left-margin[_ngcontent-%COMP%]{display:none}}@media (max-width: 768px){.center-container[_ngcontent-%COMP%]{padding:8rem 1rem}}"]}),n})();const KR_firebase={projectId:"tdah-site",appId:"1:343197142168:web:1429005b3ef7de619c14ed",storageBucket:"tdah-site.appspot.com",apiKey:"AIzaSyBhrHSivuYapp8XH0CvZGaH95-6CqhAaAY",authDomain:"tdah-site.firebaseapp.com",messagingSenderId:"343197142168"};var pb=x(2011);let SI=(()=>{class n{constructor(t){this.router=t}canActivate(t,r){return new Tr.y(i=>{HP().onAuthStateChanged(c=>{c?i.next(!0):(this.router.navigate(["login"],{queryParams:{returnUrl:r.url}}),i.next(!1)),i.complete()})}).pipe(Kt(1))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(gn))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),S3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[tr]}),n})(),Z7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[tr,S3,B7]}),n})(),K7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[tr]}),n})(),Y7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[tr,fI]}),n})(),J7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[tr,fI,np]}),n})();class Q7{}class mc{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),c=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(c):this.headers.set(s,[c])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof mc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new mc;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof mc?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let c=this.headers.get(t);if(!c)return;c=c.filter(h=>-1===s.indexOf(h)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class X7{encodeKey(e){return A3(e)}encodeValue(e){return A3(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const tW=/%(\d[a-f0-9])/gi,nW={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function A3(n){return encodeURIComponent(n).replace(tW,(e,t)=>nW[t]??e)}function AI(n){return`${n}`}class _c{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new X7,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function eW(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[c,h]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],g=t.get(c)||[];g.push(h),t.set(c,g)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(AI):[AI(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new _c({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(AI(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(AI(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class rW{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function M3(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function N3(n){return typeof Blob<"u"&&n instanceof Blob}function x3(n){return typeof FormData<"u"&&n instanceof FormData}class gb{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function iW(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new mc),this.context||(this.context=new rW),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+c}}else this.params=new _c,this.urlWithParams=t}serializeBody(){return null===this.body?null:M3(this.body)||N3(this.body)||x3(this.body)||function oW(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof _c?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||x3(this.body)?null:N3(this.body)?this.body.type||null:M3(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof _c?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,c=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,h=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let g=e.headers||this.headers,m=e.params||this.params;const v=e.context??this.context;return void 0!==e.setHeaders&&(g=Object.keys(e.setHeaders).reduce((D,S)=>D.set(S,e.setHeaders[S]),g)),e.setParams&&(m=Object.keys(e.setParams).reduce((D,S)=>D.set(S,e.setParams[S]),m)),new gb(t,r,s,{params:m,headers:g,context:v,reportProgress:h,responseType:i,withCredentials:c})}}var bi=(()=>((bi=bi||{})[bi.Sent=0]="Sent",bi[bi.UploadProgress=1]="UploadProgress",bi[bi.ResponseHeader=2]="ResponseHeader",bi[bi.DownloadProgress=3]="DownloadProgress",bi[bi.Response=4]="Response",bi[bi.User=5]="User",bi))();class YR extends class sW{constructor(e,t=200,r="OK"){this.headers=e.headers||new mc,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=bi.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new YR({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function JR(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let aW=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof gb)s=t;else{let g,m;g=i.headers instanceof mc?i.headers:new mc(i.headers),i.params&&(m=i.params instanceof _c?i.params:new _c({fromObject:i.params})),s=new gb(t,r,void 0!==i.body?i.body:null,{headers:g,context:i.context,params:m,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const c=at(s).pipe(Z(g=>this.handler.handle(g)));if(t instanceof gb||"events"===i.observe)return c;const h=c.pipe(Cn(g=>g instanceof YR));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return h.pipe((0,Qe.U)(g=>{if(null!==g.body&&!(g.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return g.body}));case"blob":return h.pipe((0,Qe.U)(g=>{if(null!==g.body&&!(g.body instanceof Blob))throw new Error("Response is not a Blob.");return g.body}));case"text":return h.pipe((0,Qe.U)(g=>{if(null!==g.body&&"string"!=typeof g.body)throw new Error("Response is not a string.");return g.body}));default:return h.pipe((0,Qe.U)(g=>g.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new _c).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,JR(i,r))}post(t,r,i={}){return this.request("POST",t,JR(i,r))}put(t,r,i={}){return this.request("PUT",t,JR(i,r))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Q7))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),uW=(()=>{class n{constructor(t){this.http=t,this.articlesUrl="../../assets/contenido/articulos.json"}getArticles(){return this.http.get(this.articlesUrl).pipe(Ue(this.handleError("getArticles",[])))}getArticleById(t){return this.http.get("assets/contenido/articulos.json").pipe((0,Qe.U)(r=>r.find(i=>i.id===t)),Ue(this.handleError(`getArticleById id=${t}`)))}handleError(t="operation",r){return i=>(console.error(i),at(r))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(aW))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cW=(()=>{class n{constructor(t){this.sanitizer=t}transform(t){return this.sanitizer.bypassSecurityTrustHtml(t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(na,16))},n.\u0275pipe=o.Yjl({name:"safeHtml",type:n,pure:!0}),n})();function dW(n,e){if(1&n&&(o.ynx(0),o._UZ(1,"div",2),o.TgZ(2,"div",3)(3,"div",4)(4,"h1"),o._uU(5),o.qZA()(),o.TgZ(6,"div",5),o._UZ(7,"div",6),o.ALo(8,"safeHtml"),o.qZA(),o.TgZ(9,"div",7)(10,"h5"),o._uU(11,"Recursos"),o.qZA()()(),o.BQk()),2&n){const t=o.oxw();o.xp6(1),o.Udp("background-image",t.imagenPortada?"linear-gradient(180deg, rgba(0, 0, 0, 0.9), rgba(0, 0, 0, 0.6)), url("+t.imagenPortada+")":"linear-gradient(180deg, rgba(0, 2, 61), rgba(27, 30, 110))"),o.xp6(4),o.hij(" ",t.articulo.titulo," "),o.xp6(2),o.Q6J("innerHTML",o.lcZ(8,4,t.articulo.contenido),o.oJD)}}let hW=(()=>{class n{constructor(t,r){this.route=t,this.articuloService=r}ngOnInit(){var t=this;return(0,H.Z)(function*(){t.articulo=yield t.articuloService.getArticulo(t.route.snapshot.paramMap.get("id")),t.articulo?console.log(t.articulo):console.error("Articulo not found"),t.articulo&&(t.imagenPortada=t.articulo.imagenes.find(r=>r.imgPortada).imgUrl)})()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Bi),o.Y36(tI))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-articulo-content"]],decls:2,vars:1,consts:[[1,"article-main-container"],[4,"ngIf"],[1,"art-image"],[1,"grid"],[1,"g-col-12"],[1,"g-col-12","g-col-lg-8"],[1,"articulo-contenido-container",3,"innerHTML"],[1,"g-col-12","g-col-lg-4","recursos-container"]],template:function(t,r){1&t&&(o.TgZ(0,"section",0),o.YNc(1,dW,12,6,"ng-container",1),o.qZA()),2&t&&(o.xp6(1),o.Q6J("ngIf",r.articulo))},dependencies:[Pt,cW],styles:[".art-image[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;background-repeat:no-repeat;background-size:cover;background-position:center;height:16rem;display:flex;align-items:flex-end}img[_ngcontent-%COMP%]{width:100%}h1[_ngcontent-%COMP%]{position:relative;z-index:1;color:#fff;font-size:2.5rem;margin-top:-8rem;width:100%}.recursos-container[_ngcontent-%COMP%]{margin-top:1rem}@media (max-width: 1450px){.art-image[_ngcontent-%COMP%]{height:18rem}.articulo-contenido-container[_ngcontent-%COMP%]{margin-top:auto}}@media (max-width: 576px){h1[_ngcontent-%COMP%]{font-size:1.75rem}}",".article-main-container[_ngcontent-%COMP%]{margin-top:9rem}@media (max-width: 1450px){.article-main-container[_ngcontent-%COMP%]{margin-top:10rem}}@media (max-width: 576px){.g-sm-start-0[_ngcontent-%COMP%]{margin-left:0!important}}"]}),n})(),fW=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-articulo"]],features:[o._Bn([uW])],decls:1,vars:0,template:function(t,r){1&t&&o._UZ(0,"app-articulo-content")},dependencies:[hW],styles:[".article-main-container[_ngcontent-%COMP%]{margin-top:9rem}@media (max-width: 1450px){.article-main-container[_ngcontent-%COMP%]{margin-top:10rem}}@media (max-width: 576px){.g-sm-start-0[_ngcontent-%COMP%]{margin-left:0!important}}"]}),n})();var pW=x(930);function R3(n,e){const t="object"==typeof e;return new Promise((r,i)=>{const s=new pW.Hp({next:c=>{r(c),s.unsubscribe()},error:i,complete:()=>{t?r(e.defaultValue):i(new ra)}});n.subscribe(s)})}const O3="firebasestorage.googleapis.com",P3="storageBucket";class Jn extends Le.ZR{constructor(e,t,r=0){super(QR(e),`Firebase Storage: ${t} (${QR(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Jn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return QR(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Sn=(()=>(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Sn||(Sn={})),Sn))();function QR(n){return"storage/"+n}function XR(){return new Jn(Sn.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function F3(){return new Jn(Sn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function L3(){return new Jn(Sn.CANCELED,"User canceled the upload/download.")}function B3(){return new Jn(Sn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function mm(n){return new Jn(Sn.INVALID_ARGUMENT,n)}function V3(){return new Jn(Sn.APP_DELETED,"The Firebase app was deleted.")}function U3(n){return new Jn(Sn.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function mb(n,e){return new Jn(Sn.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function _b(n){throw new Jn(Sn.INTERNAL_ERROR,"Internal error: "+n)}class Ni{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Ni.makeFromUrl(e,t)}catch{return new Ni(e,"")}if(""===r.path)return r;throw function EW(n){return new Jn(Sn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+i+"(/(.*))?$","i");function m(nt){nt.path_=decodeURIComponent(nt.path)}const D=t.replace(/[.]/g,"\\."),Pe=[{regex:h,indices:{bucket:1,path:3},postModify:function s(nt){"/"===nt.path.charAt(nt.path.length-1)&&(nt.path_=nt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${D}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:m},{regex:new RegExp(`^https?://${t===O3?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:m}];for(let nt=0;nt<Pe.length;nt++){const Dt=Pe[nt],rt=Dt.regex.exec(e);if(rt){let An=rt[Dt.indices.path];An||(An=""),r=new Ni(rt[Dt.indices.bucket],An),Dt.postModify(r);break}}if(null==r)throw function DW(n){return new Jn(Sn.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return r}}class MW{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function MI(n){return"string"==typeof n||n instanceof String}function H3(n){return eO()&&n instanceof Blob}function eO(){return typeof Blob<"u"&&!(0,Le.UG)()}function tO(n,e,t,r){if(r<e)throw mm(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw mm(`Invalid value for '${n}'. Expected ${t} or less.`)}function Ml(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function $3(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var yc=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(yc||(yc={})),yc))();function j3(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),s=-1!==e.indexOf(n);return t||i||s}class PW{constructor(e,t,r,i,s,c,h,g,m,v,D,S=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=g,this.timeout_=m,this.progressCallback_=v,this.connectionFactory_=D,this.retry=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,R)=>{this.resolve_=A,this.reject_=R,this.start_()})}start_(){const t=(r,i)=>{const s=this.resolve_,c=this.reject_,h=i.connection;if(i.wasSuccessCode)try{const g=this.callback_(h,h.getResponse());!function kW(n){return void 0!==n}(g)?s():s(g)}catch(g){c(g)}else if(null!==h){const g=XR();g.serverResponse=h.getErrorText(),c(this.errorCallback_?this.errorCallback_(h,g):g)}else c(i.canceled?this.appDelete_?V3():L3():F3())};this.canceled_?t(0,new NI(!1,null,!0)):this.backoffId_=function NW(n,e,t){let r=1,i=null,s=null,c=!1,h=0;function g(){return 2===h}let m=!1;function v(...K){m||(m=!0,e.apply(null,K))}function D(K){i=setTimeout(()=>{i=null,n(A,g())},K)}function S(){s&&clearTimeout(s)}function A(K,...Ne){if(m)return void S();if(K)return S(),void v.call(null,K,...Ne);if(g()||c)return S(),void v.call(null,K,...Ne);let Pe;r<64&&(r*=2),1===h?(h=2,Pe=0):Pe=1e3*(r+Math.random()),D(Pe)}let R=!1;function U(K){R||(R=!0,S(),!m&&(null!==i?(K||(h=2),clearTimeout(i),D(0)):K||(h=1)))}return D(0),s=setTimeout(()=>{c=!0,U(!0)},t),U}((r,i)=>{if(i)return void r(!1,new NI(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const c=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(c),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(c),this.pendingConnection_=null;const h=s.getErrorCode()===yc.NO_ERROR,g=s.getStatus();if(!h||j3(g,this.additionalRetryCodes_)&&this.retry){const v=s.getErrorCode()===yc.ABORT;return void r(!1,new NI(!1,null,v))}const m=-1!==this.successCodes_.indexOf(g);r(!0,new NI(m,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function xW(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class NI{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function $W(...n){const e=function HW(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(eO())return new Blob(n);throw new Jn(Sn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Oo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class nO{constructor(e,t){this.data=e,this.contentType=t||null}}function rO(n,e){switch(n){case Oo.RAW:return new nO(G3(e));case Oo.BASE64:case Oo.BASE64URL:return new nO(q3(n,e));case Oo.DATA_URL:return new nO(function zW(n){const e=new z3(n);return e.base64?q3(Oo.BASE64,e.rest):function qW(n){let e;try{e=decodeURIComponent(n)}catch{throw mb(Oo.DATA_URL,"Malformed data URL.")}return G3(e)}(e.rest)}(e),function WW(n){return new z3(n).contentType}(e))}throw XR()}function G3(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function q3(n,e){switch(n){case Oo.BASE64:{const i=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(i||s)throw mb(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Oo.BASE64URL:{const i=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(i||s)throw mb(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function GW(n){if(typeof atob>"u")throw function AW(n){return new Jn(Sn.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(i){throw i.message.includes("polyfill")?i:mb(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class z3{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw mb(Oo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function ZW(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class Pa{constructor(e,t){let r=0,i="";H3(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(H3(this.data_)){const i=function jW(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new Pa(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Pa(r,!0)}}static getBlob(...e){if(eO()){const t=e.map(r=>r instanceof Pa?r.data_:r);return new Pa($W.apply(null,t))}{const t=e.map(c=>MI(c)?rO(Oo.RAW,c).data:c.data_);let r=0;t.forEach(c=>{r+=c.byteLength});const i=new Uint8Array(r);let s=0;return t.forEach(c=>{for(let h=0;h<c.length;h++)i[s++]=c[h]}),new Pa(i,!0)}}uploadData(){return this.data_}}function iO(n){let e;try{e=JSON.parse(n)}catch{return null}return function OW(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function W3(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function JW(n,e){return e}class Zi{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||JW}}let xI=null;function yb(){if(xI)return xI;const n=[];n.push(new Zi("bucket")),n.push(new Zi("generation")),n.push(new Zi("metageneration")),n.push(new Zi("name","fullPath",!0));const t=new Zi("name");t.xform=function e(s,c){return function QW(n){return!MI(n)||n.length<2?n:W3(n)}(c)},n.push(t);const i=new Zi("size");return i.xform=function r(s,c){return void 0!==c?Number(c):c},n.push(i),n.push(new Zi("timeCreated")),n.push(new Zi("updated")),n.push(new Zi("md5Hash",null,!0)),n.push(new Zi("cacheControl",null,!0)),n.push(new Zi("contentDisposition",null,!0)),n.push(new Zi("contentEncoding",null,!0)),n.push(new Zi("contentLanguage",null,!0)),n.push(new Zi("contentType",null,!0)),n.push(new Zi("metadata","customMetadata",!0)),xI=n,xI}function Z3(n,e,t){const r=iO(e);return null===r?null:function eZ(n,e,t){const r={type:"file"},i=t.length;for(let s=0;s<i;s++){const c=t[s];r[c.local]=c.xform(r,e[c.server])}return function XW(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new Ni(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(r,n),r}(n,r,t)}function oO(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}const K3="prefixes";class Fa{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function La(n){if(!n)throw XR()}function kI(n,e){return function t(r,i){const s=Z3(n,i,e);return La(null!==s),s}}function _m(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function wW(){return new Jn(Sn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function bW(){return new Jn(Sn.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function vW(n){return new Jn(Sn.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function TW(n){return new Jn(Sn.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}}function vb(n){const e=_m(n);return function t(r,i){let s=e(r,i);return 404===r.getStatus()&&(s=function yW(n){return new Jn(Sn.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=i.serverResponse,s}}function J3(n,e,t){const i=Ml(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,h=new Fa(i,"GET",kI(n,t),c);return h.errorHandler=vb(e),h}function sZ(n,e,t,r,i){const s={};s.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(s.delimiter=t),r&&(s.pageToken=r),i&&(s.maxResults=i);const h=Ml(e.bucketOnlyServerUrl(),n.host,n._protocol),m=n.maxOperationRetryTime,v=new Fa(h,"GET",function iZ(n,e){return function t(r,i){const s=function rZ(n,e,t){const r=iO(t);return null===r?null:function nZ(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[K3])for(const i of t[K3]){const s=i.replace(/\/$/,""),c=n._makeStorageReference(new Ni(e,s));r.prefixes.push(c)}if(t.items)for(const i of t.items){const s=n._makeStorageReference(new Ni(e,i.name));r.items.push(s)}return r}(n,e,r)}(n,e,i);return La(null!==s),s}}(n,e.bucket),m);return v.urlParams=s,v.errorHandler=_m(e),v}function X3(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function cZ(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class RI{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function sO(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{La(!1)}return La(!!t&&-1!==(e||["active"]).indexOf(t)),t}const pZ={STATE_CHANGED:"state_changed"},Ki={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function aO(n){switch(n){case"running":case"pausing":case"canceling":return Ki.RUNNING;case"paused":return Ki.PAUSED;case"success":return Ki.SUCCESS;case"canceled":return Ki.CANCELED;default:return Ki.ERROR}}class gZ{constructor(e,t,r){if(function RW(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function ym(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class _Z extends class mZ{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=yc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=yc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=yc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw _b("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw _b("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw _b("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw _b("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw _b("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function Ls(){return new _Z}class rH{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=yb(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Sn.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(j3(i.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=F3()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Sn.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function dZ(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),c=X3(e,r,i),h={name:c.fullPath},g=Ml(s,n.host,n._protocol),v={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},D=oO(c,t),R=new Fa(g,"POST",function A(U){let K;sO(U);try{K=U.getResponseHeader("X-Goog-Upload-URL")}catch{La(!1)}return La(MI(K)),K},n.maxUploadRetryTime);return R.urlParams=h,R.headers=v,R.body=D,R.errorHandler=_m(e),R}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ls,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function hZ(n,e,t,r){const g=new Fa(t,"POST",function s(m){const v=sO(m,["active","final"]);let D=null;try{D=m.getResponseHeader("X-Goog-Upload-Size-Received")}catch{La(!1)}D||La(!1);const S=Number(D);return La(!isNaN(S)),new RI(S,r.size(),"final"===v)},n.maxUploadRetryTime);return g.headers={"X-Goog-Upload-Command":"query"},g.errorHandler=_m(e),g}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,Ls,t,r);this._request=s,s.getPromise().then(c=>{this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new RI(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let c;try{c=function fZ(n,e,t,r,i,s,c,h){const g=new RI(0,0);if(c?(g.current=c.current,g.total=c.total):(g.current=0,g.total=r.size()),r.size()!==g.total)throw function CW(){return new Jn(Sn.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const m=g.total-g.current;let v=m;i>0&&(v=Math.min(v,i));const D=g.current;let A="";A=0===v?"finalize":m===v?"upload, finalize":"upload";const R={"X-Goog-Upload-Command":A,"X-Goog-Upload-Offset":`${g.current}`},U=r.slice(D,D+v);if(null===U)throw B3();const Pe=new Fa(t,"POST",function K(nt,Dt){const rt=sO(nt,["active","final"]),Ht=g.current+v,An=r.size();let wi;return wi="final"===rt?kI(e,s)(nt,Dt):null,new RI(Ht,An,"final"===rt,wi)},e.maxUploadRetryTime);return Pe.headers=R,Pe.body=U.uploadData(),Pe.progressCallback=h||null,Pe.errorHandler=_m(n),Pe}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(g){return this._error=g,void this._transition("error")}const h=this._ref.storage._makeRequest(c,Ls,i,s,!1);this._request=h,h.getPromise().then(g=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(g.current),g.finalized?(this._metadata=g.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=J3(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Ls,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function eH(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},g=function h(){let Pe="";for(let nt=0;nt<2;nt++)Pe+=Math.random().toString().slice(2);return Pe}();c["Content-Type"]="multipart/related; boundary="+g;const m=X3(e,r,i),v=oO(m,t),A=Pa.getBlob("--"+g+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+v+"\r\n--"+g+"\r\nContent-Type: "+m.contentType+"\r\n\r\n",r,"\r\n--"+g+"--");if(null===A)throw B3();const R={name:m.fullPath},U=Ml(s,n.host,n._protocol),Ne=n.maxUploadRetryTime,qe=new Fa(U,"POST",kI(n,t),Ne);return qe.urlParams=R,qe.headers=c,qe.body=A.uploadData(),qe.errorHandler=_m(e),qe}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ls,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=L3(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=aO(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const s=new gZ(t||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(aO(this._state)){case Ki.SUCCESS:ym(this._resolve.bind(null,this.snapshot))();break;case Ki.CANCELED:case Ki.ERROR:ym(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(aO(this._state)){case Ki.RUNNING:case Ki.PAUSED:e.next&&ym(e.next.bind(e,this.snapshot))();break;case Ki.SUCCESS:e.complete&&ym(e.complete.bind(e))();break;default:e.error&&ym(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Wh{constructor(e,t){this._service=e,this._location=t instanceof Ni?t:Ni.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Wh(e,t)}get root(){const e=new Ni(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return W3(this._location.path)}get storage(){return this._service}get parent(){const e=function KW(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Ni(this._location.bucket,e);return new Wh(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw U3(e)}}function oH(n,e,t){return lO.apply(this,arguments)}function lO(){return lO=(0,H.Z)(function*(n,e,t){const i=yield sH(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield oH(n,e,i.nextPageToken))}),lO.apply(this,arguments)}function sH(n,e){null!=e&&"number"==typeof e.maxResults&&tO("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=sZ(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,Ls)}function MZ(n){n._throwIfRoot("getDownloadURL");const e=function aZ(n,e,t){const i=Ml(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,h=new Fa(i,"GET",function oZ(n,e){return function t(r,i){const s=Z3(n,i,e);return La(null!==s),function tZ(n,e,t,r){const i=iO(e);if(null===i||!MI(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const c=encodeURIComponent;return s.split(",").map(m=>{const D=n.fullPath;return Ml("/b/"+c(n.bucket)+"/o/"+c(D),t,r)+$3({alt:"media",token:m})})[0]}(s,i,n.host,n._protocol)}}(n,t),c);return h.errorHandler=vb(e),h}(n.storage,n._location,yb());return n.storage.makeRequestWithTokens(e,Ls).then(t=>{if(null===t)throw function SW(){return new Jn(Sn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function aH(n,e){const t=function YW(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new Ni(n._location.bucket,t);return new Wh(n.storage,r)}function lH(n,e){if(n instanceof uO){const t=n;if(null==t._bucket)throw function IW(){return new Jn(Sn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+P3+"' property when initializing the app?")}();const r=new Wh(t,t._bucket);return null!=e?lH(r,e):r}return void 0!==e?aH(n,e):n}function RZ(n,e){if(e&&function xZ(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof uO)return function kZ(n,e){return new Wh(n,e)}(n,e);throw mm("To use ref(service, url), the first argument must be a Storage instance.")}return lH(n,e)}function uH(n,e){const t=e?.[P3];return null==t?null:Ni.makeFromBucketSpec(t,n)}class uO{constructor(e,t,r,i,s){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=O3,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Ni.makeFromBucketSpec(i,this._host):uH(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Ni.makeFromBucketSpec(this._url,e):uH(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){tO("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){tO("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,H.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,H.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Wh(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new MW(V3());{const c=function UW(n,e,t,r,i,s,c=!0){const h=$3(n.urlParams),g=n.url+h,m=Object.assign({},n.headers);return function BW(n,e){e&&(n["X-Firebase-GMPID"]=e)}(m,e),function FW(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(m,t),function LW(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(m,s),function VW(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(m,r),new PW(g,n.method,m,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,c)}(e,this._appId,r,i,t,this._firebaseVersion,s);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}makeRequestWithTokens(e,t){var r=this;return(0,H.Z)(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,s).getPromise()})()}}const cH="@firebase/storage",hH="storage";function cO(n,e,t){return function EZ(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new rH(n,new Pa(e),t)}(n=(0,Le.m9)(n),e,t)}function dO(n){return MZ(n=(0,Le.m9)(n))}function OI(n,e){return RZ(n=(0,Le.m9)(n),e)}function fH(n,e,t,r={}){!function OZ(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,Le.Sg)(i,n.app.options.projectId))}(n,e,t,r)}function $Z(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new uO(t,r,i,e,mn.SDK_VERSION)}!function jZ(){(0,mn._registerComponent)(new wa.wA(hH,$Z,"PUBLIC").setMultipleInstances(!0)),(0,mn.registerVersion)(cH,"0.11.2",""),(0,mn.registerVersion)(cH,"0.11.2","esm2017")}();var qZ=x(3942);class PI{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class pH{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new PI(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new PI(r,this,this._ref))},t)}on(e,t,r,i){let s;return t&&(s="function"==typeof t?c=>t(new PI(c,this,this._ref)):{next:t.next?c=>t.next(new PI(c,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,r||void 0,i||void 0)}}class gH{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Nl(e,this._service))}get items(){return this._delegate.items.map(e=>new Nl(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Nl{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function UZ(n,e){return aH(n,e)}(this._delegate,e);return new Nl(t,this.storage)}get root(){return new Nl(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Nl(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new pH(cO(this._delegate,e,t),this)}putString(e,t=Oo.RAW,r){this._throwIfRoot("putString");const i=rO(t,e),s=Object.assign({},r);return null==s.contentType&&null!=i.contentType&&(s.contentType=i.contentType),new pH(new rH(this._delegate,new Pa(i.data,!0),s),this)}listAll(){return function BZ(n){return function CZ(n){const e={prefixes:[],items:[]};return oH(n,e).then(()=>e)}(n=(0,Le.m9)(n))}(this._delegate).then(e=>new gH(e,this.storage))}list(e){return function LZ(n,e){return sH(n=(0,Le.m9)(n),e)}(this._delegate,e||void 0).then(t=>new gH(t,this.storage))}getMetadata(){return function PZ(n){return function SZ(n){n._throwIfRoot("getMetadata");const e=J3(n.storage,n._location,yb());return n.storage.makeRequestWithTokens(e,Ls)}(n=(0,Le.m9)(n))}(this._delegate)}updateMetadata(e){return function FZ(n,e){return function AZ(n,e){n._throwIfRoot("updateMetadata");const t=function lZ(n,e,t,r){const s=Ml(e.fullServerUrl(),n.host,n._protocol),h=oO(t,r),m=n.maxOperationRetryTime,v=new Fa(s,"PATCH",kI(n,r),m);return v.headers={"Content-Type":"application/json; charset=utf-8"},v.body=h,v.errorHandler=vb(e),v}(n.storage,n._location,e,yb());return n.storage.makeRequestWithTokens(t,Ls)}(n=(0,Le.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return dO(this._delegate)}delete(){return this._throwIfRoot("delete"),function VZ(n){return function NZ(n){n._throwIfRoot("deleteObject");const e=function uZ(n,e){const r=Ml(e.fullServerUrl(),n.host,n._protocol),h=new Fa(r,"DELETE",function c(g,m){},n.maxOperationRetryTime);return h.successCodes=[200,204],h.errorHandler=vb(e),h}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Ls)}(n=(0,Le.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw U3(e)}}class mH{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(_H(e))throw mm("ref() expected a child path but got a URL, use refFromURL instead.");return new Nl(OI(this._delegate,e),this)}refFromURL(e){if(!_H(e))throw mm("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ni.makeFromUrl(e,this._delegate.host)}catch{throw mm("refFromUrl() expected a valid full URL but got an invalid one.")}return new Nl(OI(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){fH(this._delegate,e,t,r)}}function _H(n){return/^[A-Za-z]+:\/\//.test(n)}function KZ(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new mH(t,r)}function yH(n){const e=function JZ(n){return new Tr.y(e=>{const t=c=>e.next(c);t(n.snapshot);const s=n.on("state_changed",t);return n.then(c=>{t(c),e.complete()},c=>{t(n.snapshot),(c=>{e.error(c)})(c)}),function(){s()}}).pipe(function GZ(n,e=mR.z){return(0,pn.e)((t,r)=>{let i=null,s=null,c=null;const h=()=>{if(i){i.unsubscribe(),i=null;const m=s;s=null,r.next(m)}};function g(){const m=c+n,v=e.now();if(v<m)return i=this.schedule(void 0,m-v),void r.add(i);h()}t.subscribe((0,Dn.x)(r,m=>{s=m,c=e.now(),i||(i=e.schedule(g,n),r.add(i))},()=>{h(),r.complete()},void 0,()=>{s=i=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,Qe.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function FI(n){return{getDownloadURL:()=>at(void 0).pipe(un.fc,Dr(()=>n.getDownloadURL()),un.iC),getMetadata:()=>at(void 0).pipe(un.fc,Dr(()=>n.getMetadata()),un.iC),delete:()=>(0,fn.D)(n.delete()),child:e=>FI(n.child(e)),updateMetadata:e=>(0,fn.D)(n.updateMetadata(e)),put:(e,t)=>yH(n.put(e,t)),putString:(e,t,r)=>yH(n.putString(e,t,r)),list:e=>(0,fn.D)(n.list(e)),listAll:()=>(0,fn.D)(n.listAll())}}!function YZ(n){const e={TaskState:Ki,TaskEvent:pZ,StringFormat:Oo,Storage:mH,Reference:Nl};n.INTERNAL.registerComponent(new wa.wA("storage-compat",KZ,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(qZ.Z),x(9260);const QZ=new o.OlP("angularfire2.storageBucket"),XZ=new o.OlP("angularfire2.storage.maxUploadRetryTime"),eK=new o.OlP("angularfire2.storage.maxOperationRetryTime"),tK=new o.OlP("angularfire2.storage.use-emulator");let nK=(()=>{class n{constructor(t,r,i,s,c,h,g,m,v,D){const S=(0,pb.on)(t,c,r);this.storage=(0,pb.cc)(`${S.name}.storage.${i}`,"AngularFireStorage",S.name,()=>{const A=c.runOutsideAngular(()=>S.storage(i||void 0)),R=v;return R&&A.useEmulator(...R),g&&A.setMaxUploadRetryTime(g),m&&A.setMaxOperationRetryTime(m),A},[g,m])}ref(t){return FI(this.storage.ref(t))}refFromURL(t){return FI(this.storage.refFromURL(t))}upload(t,r,i){return FI(this.storage.ref(t)).put(r,i)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(pb.Dh),o.LFG(pb.xv,8),o.LFG(QZ,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(un.HU),o.LFG(XZ,8),o.LFG(eK,8),o.LFG(tK,8),o.LFG(Dy,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function rK(n,e){1&n&&o._UZ(0,"input",21)}function iK(n,e){1&n&&o._UZ(0,"input",23)}function oK(n,e){if(1&n&&o.YNc(0,iK,1,0,"input",22),2&n){const t=o.oxw();o.Q6J("ngIf",t.documentosSeleccionados.length>0)}}function sK(n,e){if(1&n&&(o.TgZ(0,"p",24),o._uU(1),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.hij(" subiendo: ",t.fileUploadingProgress.toFixed(2),"% ")}}function aK(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div")(1,"p"),o._uU(2),o.TgZ(3,"button",25),o.NdJ("click",function(){const s=o.CHM(t).index,c=o.oxw();return o.KtG(c.onBorrarDoc(s))}),o._uU(4," borrar "),o.qZA()()()}if(2&n){const t=e.$implicit;o.xp6(2),o.hij(" ",t.fileName,"")}}function lK(n,e){if(1&n&&(o.TgZ(0,"p",24),o._uU(1),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.hij(" subiendo: ",t.fileUploadingProgress.toFixed(2),"% ")}}function uK(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div")(1,"div",26),o._UZ(2,"img",27),o.qZA(),o.TgZ(3,"button",25),o.NdJ("click",function(){const s=o.CHM(t).index,c=o.oxw();return o.KtG(c.onBorrarImg(s))}),o._uU(4," borrar "),o.qZA()()}if(2&n){const t=e.$implicit;o.xp6(2),o.s9C("src",t.imgUrl,o.LSH)}}let cK=(()=>{class n{constructor(t,r,i){this.articuloService=t,this.storage=r,this.sanitizer=i,this.autor="",this.titulo="",this.contenido="",this.descripcion="",this.tags="",this.documentos=[],this.imagenes=[],this.documentosSeleccionados=[],this.fileExtensionError="",this.imageTypeError="",this.storageDocs=function HZ(n=(0,mn.getApp)(),e){n=(0,Le.m9)(n);const r=(0,mn._getProvider)(n,hH).getImmediate({identifier:e}),i=(0,Le.P0)("storage");return i&&fH(r,...i),r}(),this.fileUploadingProgress=0,this.uploadingFileRunning=!1,this.uploadingImageRunning=!1}onSubmit(){if(!(this.autor&&this.titulo&&this.contenido&&this.descripcion&&this.tags))return void console.log("All fields are required");const t={autor:this.autor,titulo:this.titulo,contenido:this.sanitizeContenido(this.contenido),descripcion:this.descripcion,tags:this.tags.split(","),fechaCreacion:new Date,documentos:this.documentosSeleccionados,imagenes:this.imagenes,id:""};this.articuloService.addArticulo(t).then(()=>{this.autor="",this.titulo="",this.contenido="",this.descripcion="",this.tags="",this.documentos=[],this.documentosSeleccionados=[],this.imagenes=[]}).catch(r=>{console.error("Error adding articulo: ",r)})}sanitizeContenido(t){return this.sanitizer.sanitize(o.q3G.HTML,t)}onFileSelected(t){const i=t.target.files[0],s=i.name,g=cO(OI(this.storageDocs,`articulosDocs/${s}`),i);["application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/pdf","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel.sheet.macroEnabled.12"].includes(i.type)?g.on("state_changed",m=>{const v=m.bytesTransferred/m.totalBytes*100;switch(this.fileUploadingProgress=v,console.log("Upload is "+v+"% done"),console.log("State "+m.state),m.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running"),this.uploadingFileRunning=!0}},m=>{console.log("Error uploading file: ",m)},()=>{dO(g.snapshot.ref).then(m=>{console.log("File available at",m),this.uploadingFileRunning=!1,this.documentosSeleccionados.push({fileName:s,urlDoc:m,fileType:i.type})})}):this.fileExtensionError="S\xf3lo se permiten archivos con las extensiones: .doc, .docx, .pdf, .xlsx, .xlsm"}onBorrarDoc(t){console.log("onBorrarDoc called with index:",t);const r=this.documentosSeleccionados[t];R3(this.storage.ref(`articulosDocs/${r.fileName}`).delete()).then(()=>{console.log("File deleted successfully:",r.fileName),this.documentosSeleccionados.splice(t,1),console.log("Document removed from the list:",this.documentosSeleccionados)})}onImageSelected(t){const i=t.target.files[0],s=i.name,g=cO(OI(this.storageDocs,`articulosImagenes/${s}`),i);["image/jpeg","image/png"].includes(i.type)?g.on("state_changed",m=>{const v=m.bytesTransferred/m.totalBytes*100;switch(this.fileUploadingProgress=v,console.log("Upload is "+v+"% done"),console.log("State "+m.state),m.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running"),this.uploadingImageRunning=!0}},m=>{console.log("Error uploading file: ",m)},()=>{dO(g.snapshot.ref).then(m=>{console.log("Image available at",m),this.uploadingImageRunning=!1,this.imagenes.push({imgUrl:m,nombreImg:s,imgPortada:!0}),console.log(this.imagenes)})}):this.imageTypeError="Solo se permiten .jpg y .png"}onBorrarImg(t){console.log("onBorrarDoc called with index:",t);const r=this.imagenes[t];R3(this.storage.ref(`articulosImagenes/${r.nombreImg}`).delete()).then(()=>{console.log("File deleted successfully:",r.nombreImg),this.imagenes.splice(t,1),console.log("Document removed from the list:",this.imagenes)})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(tI),o.Y36(nK),o.Y36(na))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-crear-articulo"]],decls:48,vars:14,consts:[[3,"ngSubmit"],["articuloForm","ngForm"],[1,"form-group"],["for","titulo"],["type","text","id","titulo","name","titulo","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","autor","name","autor","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","descripcion"],["id","descripcion","name","descripcion","rows","3","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","tags"],["type","text","id","tags","name","tags",1,"form-control",3,"ngModel","ngModelChange"],["for","contenido"],["id","contenido","name","contenido","rows","6","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","uploadFile"],["type","button","onclick","document.getElementById('uploadFile').click();","value","Subir doc","class","btn btn-secondary",4,"ngIf","ngIfElse"],["noDocs",""],["type","file","accept",".doc,.docx,.pdf,.xlsx,.xlsm","multiple","","label","Upload Documents","id","uploadFile",2,"display","none",3,"change"],["style","color: blue",4,"ngIf"],[4,"ngFor","ngForOf"],["type","button","onclick","document.getElementById('uploadImg').click();","value","Subir imagen",1,"btn","btn-secondary"],["type","file","accept","image/jpeg, image/png","id","uploadImg",2,"display","none",3,"change"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button","onclick","document.getElementById('uploadFile').click();","value","Subir doc",1,"btn","btn-secondary"],["type","button","onclick","document.getElementById('uploadFile').click();","value","Subir otro doc","class","btn btn-secondary",4,"ngIf"],["type","button","onclick","document.getElementById('uploadFile').click();","value","Subir otro doc",1,"btn","btn-secondary"],[2,"color","blue"],[1,"btn","btn-outline-danger",3,"click"],[1,"img-container"],[3,"src"]],template:function(t,r){if(1&t&&(o.TgZ(0,"section")(1,"h2"),o._uU(2,"Subir un art\xedculo"),o.qZA(),o.TgZ(3,"form",0,1),o.NdJ("ngSubmit",function(){return r.onSubmit()}),o.TgZ(5,"div",2)(6,"label",3),o._uU(7,"Titulo"),o.qZA(),o.TgZ(8,"input",4),o.NdJ("ngModelChange",function(s){return r.titulo=s}),o.qZA()(),o.TgZ(9,"div",2)(10,"label",3),o._uU(11,"Autor"),o.qZA(),o.TgZ(12,"input",5),o.NdJ("ngModelChange",function(s){return r.autor=s}),o.qZA()(),o.TgZ(13,"div",2)(14,"label",6),o._uU(15,"Descripci\xf3n"),o.qZA(),o.TgZ(16,"textarea",7),o.NdJ("ngModelChange",function(s){return r.descripcion=s}),o.qZA()(),o.TgZ(17,"div",2)(18,"label",8),o._uU(19,"Etiquetas "),o.TgZ(20,"strong"),o._uU(21,'importante: separar con una coma " , "'),o.qZA()(),o.TgZ(22,"input",9),o.NdJ("ngModelChange",function(s){return r.tags=s}),o.qZA()(),o.TgZ(23,"div",2)(24,"label",10),o._uU(25,"Contenido"),o.qZA(),o.TgZ(26,"textarea",11),o.NdJ("ngModelChange",function(s){return r.contenido=s}),o.qZA()(),o.TgZ(27,"div",2)(28,"div")(29,"label",12),o._uU(30,"Documentos"),o.qZA()(),o.YNc(31,rK,1,0,"input",13),o.YNc(32,oK,1,1,"ng-template",null,14,o.W1O),o.TgZ(34,"input",15),o.NdJ("change",function(s){return r.onFileSelected(s)}),o.qZA(),o.YNc(35,sK,2,1,"p",16),o.TgZ(36,"p"),o._uU(37),o.qZA(),o.YNc(38,aK,5,1,"div",17),o.TgZ(39,"div"),o._UZ(40,"input",18),o.TgZ(41,"input",19),o.NdJ("change",function(s){return r.onImageSelected(s)}),o.qZA(),o.YNc(42,lK,2,1,"p",16),o.TgZ(43,"p"),o._uU(44),o.qZA(),o.YNc(45,uK,5,1,"div",17),o.qZA()(),o.TgZ(46,"button",20),o._uU(47," Crear Articulo "),o.qZA()()()),2&t){const i=o.MAs(4),s=o.MAs(33);o.xp6(8),o.Q6J("ngModel",r.titulo),o.xp6(4),o.Q6J("ngModel",r.autor),o.xp6(4),o.Q6J("ngModel",r.descripcion),o.xp6(6),o.Q6J("ngModel",r.tags),o.xp6(4),o.Q6J("ngModel",r.contenido),o.xp6(5),o.Q6J("ngIf",0===r.documentosSeleccionados.length)("ngIfElse",s),o.xp6(4),o.Q6J("ngIf",r.uploadingFileRunning),o.xp6(2),o.Oqu(r.fileExtensionError),o.xp6(1),o.Q6J("ngForOf",r.documentosSeleccionados),o.xp6(4),o.Q6J("ngIf",r.uploadingImageRunning),o.xp6(2),o.Oqu(r.imageTypeError),o.xp6(1),o.Q6J("ngForOf",r.imagenes),o.xp6(1),o.Q6J("disabled",!i.form.valid)}},dependencies:[Ln,Pt,XV,um,iI,FV,ob,ib,hI],styles:[".img-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:120px;height:80px;overflow:hidden}.img-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover}"]}),n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function dK(n,e){1&n&&o.GkF(0)}function hK(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",5)(1,"h1"),o._uU(2,"Crea una cuenta"),o.qZA(),o.TgZ(3,"div")(4,"label",6),o._uU(5,"Email"),o.qZA(),o.TgZ(6,"input",7),o.NdJ("ngModelChange",function(i){o.CHM(t);const s=o.oxw();return o.KtG(s.email=i)}),o.qZA()(),o.TgZ(7,"div",8)(8,"label",9),o._uU(9,"Password"),o.qZA(),o.TgZ(10,"input",10),o.NdJ("ngModelChange",function(i){o.CHM(t);const s=o.oxw();return o.KtG(s.password=i)}),o.qZA(),o.TgZ(11,"div",11),o._uU(12," Tu password debe ser de 6 caracteres como m\xednimo. "),o.qZA()(),o.TgZ(13,"div",12)(14,"button",13),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.register())}),o._uU(15," Crear cuenta "),o.qZA(),o.TgZ(16,"button",14),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.registerGoogle())}),o.TgZ(17,"div"),o._UZ(18,"img",15),o._uU(19," Ingresar con Google "),o.qZA()()()()}if(2&n){const t=o.oxw();o.xp6(6),o.Q6J("ngModel",t.email),o.xp6(4),o.Q6J("ngModel",t.password)}}function fK(n,e){1&n&&(o.TgZ(0,"div",16)(1,"h4",17),o._uU(2,"Bienvenido!"),o.qZA(),o.TgZ(3,"p"),o._uU(4,"Has creado tu cuenta con \xe9xito"),o.qZA(),o._UZ(5,"hr"),o.TgZ(6,"p",18),o._uU(7,"Ya puedes disfrutar el contenido exclusivo."),o.qZA()())}let pK=(()=>{class n{constructor(t,r,i){this.userService=t,this.router=r,this.route=i,this.logged=!1}ngOnInit(){this.returnUrl=this.route.snapshot.queryParamMap.get("returnUrl")||"/"}register(){this.userService.registrarUser({email:this.email,password:this.password}).then(t=>{console.log("Usuario creado con \xe9xito!",t),this.errorMessage=null,this.logged=!0,setTimeout(()=>{this.router.navigateByUrl(this.returnUrl)},3e3)}).catch(t=>{this.errorMessage=t.message,console.error(t)})}registerGoogle(){this.userService.loginconGoogle().then(t=>{console.log("User registered successfully!",t),this.errorMessage=null,this.logged=!0,setTimeout(()=>{this.router.navigateByUrl(this.returnUrl)},3e3)}).catch(t=>{this.errorMessage=t.message,console.error(t)})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(tN),o.Y36(gn),o.Y36(Bi))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-registrar-user"]],decls:7,vars:1,consts:[[1,"grid"],[1,"g-col-lg-3","g-col-md-1"],[4,"ngTemplateOutlet"],["createAccount",""],["welcomeMessage",""],[1,"crear-cuenta-container","mb-3","g-col-10","g-col-lg-6"],["for","exampleFormControlInput1",1,"form-label"],["type","email","id","exampleFormControlInput1","name","email","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"mb-3"],["for","inputPassword5",1,"form-label"],["type","password","id","inputPassword5","aria-labelledby","passwordHelpBlock","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","passwordHelpBlock",1,"form-text"],[1,"botones-container"],["type","button",1,"btn","btn-primary","btn-md","ingresa-button",3,"click"],["type","button",1,"btn","btn-outline-secondary","google-btn",3,"click"],["width","16","alt",'Google "G" Logo',"src","https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Google_%22G%22_Logo.svg/512px-Google_%22G%22_Logo.svg.png"],["role","alert",1,"alert","alert-success"],[1,"alert-heading"],[1,"mb-0"]],template:function(t,r){if(1&t&&(o.TgZ(0,"div",0),o._UZ(1,"div",1),o.YNc(2,dK,1,0,"ng-container",2),o.YNc(3,hK,20,2,"ng-template",null,3,o.W1O),o.qZA(),o.YNc(5,fK,8,0,"ng-template",null,4,o.W1O)),2&t){const i=o.MAs(4),s=o.MAs(6);o.xp6(2),o.Q6J("ngTemplateOutlet",r.logged?s:i)}},dependencies:[ri,um,iI,ob,ib],styles:[".crear-cuenta-container[_ngcontent-%COMP%]{margin-top:5rem;display:flex;flex-direction:column;gap:1rem}h1[_ngcontent-%COMP%]{margin-bottom:2rem}.google-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;justify-content:space-around}.google-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:.25rem}.botones-container[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-direction:row;height:45px;margin-top:1rem}.botones-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex-grow:1;flex-basis:50%}@media (max-width: 576px){.botones-container[_ngcontent-%COMP%]{flex-direction:column}}"]}),n})();function gK(n,e){if(1&n&&o._UZ(0,"div",17),2&n){const t=o.oxw();o.Q6J("innerHtml",t.errorMessage,o.oJD)}}let mK=(()=>{class n{constructor(t,r,i){this.userService=t,this.router=r,this.route=i,this.loggedIn=!1}ngOnInit(){this.returnUrl=this.route.snapshot.queryParamMap.get("returnUrl")||"/",console.log(this.returnUrl)}login(){var t=this;return(0,H.Z)(function*(){try{const r=yield t.userService.login({email:t.email,password:t.password});console.log(r),t.router.navigateByUrl(t.returnUrl)}catch(r){t.errorMessage=r,console.log(t.errorMessage)}})()}loginGoogle(){this.userService.loginconGoogle().then(t=>{this.errorMessage=null,this.router.navigateByUrl(this.returnUrl)}).catch(t=>{this.errorMessage=t.message,console.error(t)})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(tN),o.Y36(gn),o.Y36(Bi))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-login"]],decls:31,vars:3,consts:[[1,"mb-3","login-container"],[1,"ingresa-container"],[1,"login-form-container"],[1,"mb-3"],["for","exampleFormControlInput1",1,"form-label"],["type","email","id","exampleFormControlInput1",1,"form-control",3,"ngModel","ngModelChange"],["for","inputPassword5",1,"form-label"],["type","password","id","inputPassword5","aria-labelledby","passwordHelpBlock",1,"form-control",3,"ngModel","ngModelChange"],[1,"botones-container"],["type","button",1,"btn","btn-primary","btn-md","ingresa-button",3,"click"],["type","button",1,"btn","btn-outline-secondary","google-btn",3,"click"],["width","16","alt",'Google "G" Logo',"src","https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Google_%22G%22_Logo.svg/512px-Google_%22G%22_Logo.svg.png"],["class","alert alert-danger","role","alert",3,"innerHtml",4,"ngIf"],[1,"no-cuenta-container"],["src","assets/img/brain-tree.png"],[2,"text-align","center","display","flex","flex-direction","column"],["type","button","routerLink","/signup",1,"btn","btn-link"],["role","alert",1,"alert","alert-danger",3,"innerHtml"]],template:function(t,r){1&t&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1"),o._uU(3,"Ingresa para disfrutar del contenido"),o.qZA(),o.TgZ(4,"div",2)(5,"div",3)(6,"label",4),o._uU(7,"Email"),o.qZA(),o.TgZ(8,"input",5),o.NdJ("ngModelChange",function(s){return r.email=s}),o.qZA()(),o.TgZ(9,"div",3)(10,"label",6),o._uU(11,"Password"),o.qZA(),o.TgZ(12,"input",7),o.NdJ("ngModelChange",function(s){return r.password=s}),o.qZA()()(),o.TgZ(13,"div",8)(14,"button",9),o.NdJ("click",function(){return r.login()}),o._uU(15," Ingresar "),o.qZA(),o.TgZ(16,"button",10),o.NdJ("click",function(){return r.loginGoogle()}),o.TgZ(17,"div"),o._UZ(18,"img",11),o._uU(19," Ingresar con Google "),o.qZA()()(),o.YNc(20,gK,1,1,"div",12),o.qZA(),o.TgZ(21,"div",13),o._UZ(22,"img",14),o.TgZ(23,"h4"),o._uU(24,"\xbfNo tienes cuenta?"),o.qZA(),o.TgZ(25,"span",15)(26,"span")(27,"button",16),o._uU(28," Reg\xedstrate ahora "),o.qZA()(),o.TgZ(29,"span"),o._uU(30,"y disfruta del contenido exclusivo."),o.qZA()()()()),2&t&&(o.xp6(8),o.Q6J("ngModel",r.email),o.xp6(4),o.Q6J("ngModel",r.password),o.xp6(8),o.Q6J("ngIf",r.errorMessage))},dependencies:[Pt,um,iI,ib,ga],styles:["h1[_ngcontent-%COMP%]{margin-bottom:3rem;font-size:2rem}.login-container[_ngcontent-%COMP%]{display:flex;gap:2rem;justify-content:space-between;margin:-1.5rem -5rem -5rem;height:100%;flex-wrap:wrap;flex-direction:row}.ingresa-container[_ngcontent-%COMP%]{display:flex;padding:2rem 5rem;flex-grow:1;justify-content:center;flex-direction:column}.no-cuenta-container[_ngcontent-%COMP%]{flex-grow:2;font-size:1.1rem;display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:#dce1ec;padding:3rem;margin-bottom:-1.5rem}.no-cuenta-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1.1rem;padding:0;margin-bottom:.15rem}.no-cuenta-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;margin-bottom:2rem;margin-top:-2rem}.login-form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.google-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;justify-content:space-around}.google-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:.25rem}.botones-container[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-direction:row;height:45px;margin-top:1.5rem}.botones-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex-grow:1;flex-basis:50%}@media (max-width: 576px){.botones-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex-basis:100%;flex-grow:2}.botones-container[_ngcontent-%COMP%]{flex-direction:column}}"]}),n})();const bH=Cs("slideInRightList",[ro(":enter, :leave",[cS(":enter",[Ut({opacity:0,transform:"translate(10%, 5%)"}),dS("300ms",[Vi("300ms cubic-bezier(.25,.8,.25,1)",Do([Ut({opacity:0,transform:"translate(10%, 5%)",offset:0}),Ut({opacity:.45,transform:"translate(0)",offset:.7}),Ut({transform:"translateX(-20px)",offset:.9}),Ut({opacity:1,transform:"translateX(0)",offset:1})]))])],{optional:!0}),cS(":leave",[Ut({transform:"translateX(0)",opacity:1}),dS("100ms",[Vi("100ms ease-in-out",Ut({transform:"translateX(20%)",opacity:0}))])],{optional:!0})])]);function yK(n,e){if(1&n&&(o.TgZ(0,"div",7,8)(2,"div",9)(3,"p"),o._uU(4," Gracias por tomarse el tiempo para completar el test en nombre de su hijo. "),o.qZA(),o.TgZ(5,"div",10)(6,"h4"),o._uU(7,"Su probabilidad de tener TDAH es:"),o.qZA(),o.TgZ(8,"h1",11),o._uU(9),o.qZA()()(),o.TgZ(10,"div",12),o._UZ(11,"div",5),o.TgZ(12,"div",13)(13,"p"),o._uU(14),o.qZA()()()()),2&n){const t=o.oxw();o.xp6(2),o.Q6J("@fadeIn",void 0),o.xp6(7),o.Oqu(t.titulo),o.xp6(5),o.Oqu(t.getDescriptionByTitle(t.titulo,t.resultadosNino))}}function vK(n,e){if(1&n&&(o.TgZ(0,"div",7,14)(2,"p"),o._uU(3,"Gracias por tomarte el tiempo para completar el test."),o.qZA(),o.TgZ(4,"div",15)(5,"h1"),o._uU(6," Tu de tener TDAH es: "),o._UZ(7,"br"),o.TgZ(8,"span",11),o._uU(9),o.qZA()()(),o.TgZ(10,"div",12),o._UZ(11,"div",5),o.TgZ(12,"div",13)(13,"p"),o._uU(14),o.qZA()()()()),2&n){const t=o.oxw(2);o.xp6(9),o.Oqu(t.titulo),o.xp6(5),o.Oqu(t.getDescriptionByTitle(t.titulo,t.resultadosAdulto))}}function bK(n,e){if(1&n&&o.YNc(0,vK,15,2,"div",1),2&n){const t=o.oxw(),r=o.MAs(5);o.Q6J("ngIf","adulto"===t.tipoDeTest)("ngIfElse",r)}}function wK(n,e){1&n&&(o.TgZ(0,"div"),o._uU(1," Invalid tipoDeTest value. Please provide either 'nino' or 'adulto'. "),o.qZA())}let wH=(()=>{class n{constructor(){this.resultadosNino=[{title:"Baja",descripcion:"Gracias por tomarse el tiempo para completar el test en nombre de su hijo. Los resultados indican una probabilidad baja de TDAH. Aun as\xed, si siguen preocupados, les recomendamos que consulten con un profesional de la salud calificado para una evaluaci\xf3n m\xe1s exhaustiva. Los invitamos a ir a la secci\xf3n contactos."},{title:"Moderada",descripcion:"Seg\xfan los resultados del test, existe una probabilidad moderada de que su hijo tenga TDAH. Ser\xeda beneficioso buscar la opini\xf3n de un profesional de la salud calificado para una evaluaci\xf3n m\xe1s detallada y abordar las inquietudes que puedan tener. Pueden ir a la secci\xf3n contactos ah\xed encontraran a especialistas en el area."},{title:"Alta",descripcion:"Los resultados del test sugieren una probabilidad alta de TDAH en su hijo. Les recomendamos encarecidamente que consulten con un profesional de la salud calificado para obtener una evaluaci\xf3n adecuada y un diagn\xf3stico preciso. En la secci\xf3n Contactos pueden visualizar especialistas y centros expertos en el area. Sepan que con el apoyo y las estrategias adecuadas, los ni\xf1os con TDAH pueden desarrollarse exitosamente y disfrutar de una vida plena."}],this.resultadosAdulto=[{title:"Baja",descripcion:"Los resultados indican una probabilidad baja de TDAH. Si a\xfan tienes preocupaciones, no dudes en consultar a un profesional de la salud calificado para una evaluaci\xf3n m\xe1s completa. Siempre es un buen momento para abordar cualquier inquietud que puedas tener y buscar el apoyo necesario. Te invitamos a visitar la secci\xf3n de contactos donde encontrar\xe1s informaci\xf3n de especialistas y centros especializados en el \xe1rea."},{title:"Moderada",descripcion:"Seg\xfan los resultados del test, existe una probabilidad moderada de TDAH. No te preocupes, este puede ser el comienzo de un cambio positivo en tu vida. Te recomendamos buscar la opini\xf3n de un profesional de la salud calificado para una evaluaci\xf3n m\xe1s detallada. Con el apoyo adecuado, podr\xe1s enfrentar los desaf\xedos del TDAH y abrirte camino hacia un futuro exitoso y gratificante. Te invitamos a visitar la secci\xf3n de contactos donde encontrar\xe1s informaci\xf3n de especialistas y centros especializados en el \xe1rea."},{title:"Alta",descripcion:"Los resultados del test sugieren una probabilidad alta de TDAH. Te recomendamos encarecidamente que consultes con un profesional de la salud calificado para obtener una evaluaci\xf3n adecuada y un diagn\xf3stico preciso. Queremos que sepas que, con el apoyo y las estrategias adecuadas, puedes superar los desaf\xedos del TDAH y alcanzar tus metas en la vida. Este puede ser el comienzo de una nueva etapa llena de oportunidades y crecimiento personal. Te invitamos a visitar la secci\xf3n de contactos donde encontrar\xe1s informaci\xf3n de especialistas y centros especializados en el \xe1rea."}]}ngOnInit(){}getDescriptionByTitle(t,r){const i=r.find(s=>s.title===t);return i?i.descripcion:""}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-resultado"]],inputs:{tipoDeTest:"tipoDeTest",titulo:"titulo"},decls:13,vars:2,consts:[[1,"resultado-main-container"],["class","resultado-nino-container",4,"ngIf","ngIfElse"],["resultadoAdultoTemplate",""],["noTipoDeTestTemplate",""],[1,"disclaimer-text","grid"],[1,"g-col-2"],[1,"g-col-lg-8","g-col-12"],[1,"resultado-nino-container"],["resultadoNino",""],[1,"resultado-title-container"],[1,"resultado-title"],[1,"titulo"],[1,"grid"],[1,"g-col-12","g-col-lg-8"],["resultadoAdulto",""],[1,"resultado","title"]],template:function(t,r){if(1&t&&(o.TgZ(0,"div",0),o.YNc(1,yK,15,3,"div",1),o.YNc(2,bK,1,2,"ng-template",null,2,o.W1O),o.YNc(4,wK,2,0,"ng-template",null,3,o.W1O),o.TgZ(6,"div",4),o._UZ(7,"div",5),o.TgZ(8,"div",6)(9,"p")(10,"strong"),o._uU(11,"Recuerda que estos resultados son solo informativos y no deben considerarse como un diagn\xf3stico definitivo."),o.qZA(),o._uU(12," Un profesional de la salud calificado es el \xfanico que puede proporcionar un diagn\xf3stico adecuado y discutir las opciones de tratamiento m\xe1s apropiadas. Mant\xe9n la esperanza y trabaja en superar cualquier desaf\xedo que puedas enfrentar. El futuro estar\xe1 lleno de posibilidades si te lo permites, recuerda: perspectiva, enfoque y aguante ser\xe1n claves en esta etapa de la vida. "),o.qZA()()()()),2&t){const i=o.MAs(3);o.xp6(1),o.Q6J("ngIf","nino"===r.tipoDeTest)("ngIfElse",i)}},dependencies:[Pt],styles:["h4[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:300}.titulo[_ngcontent-%COMP%]{padding-top:1rem}.resultado-title[_ngcontent-%COMP%]{max-width:50%;background-color:#ebecf4;border-radius:15px;padding:2rem;text-align:center;margin-bottom:2rem}.resultado-title-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column}"],data:{animation:[Cs("fadeIn",[ro(":enter",[Ut({opacity:0}),Vi("2.5s",Ut({opacity:1}))])])]}}),n})();function TK(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",3),o._UZ(1,"div",4),o.TgZ(2,"div",5)(3,"h1"),o._uU(4,"Test para j\xf3venes y adultos (mayores de edad)"),o.qZA(),o._UZ(5,"br"),o.TgZ(6,"p",6),o._uU(7," Esta evaluaci\xf3n est\xe1 dise\xf1ada para ayudar a identificar posibles signos de Trastorno por D\xe9ficit de Atenci\xf3n e Hiperactividad (TDAH). Es importante responder con total honestidad y basar sus respuestas en las acciones y comportamientos observados "),o.TgZ(8,"strong"),o._uU(9,"en los \xfaltimos 6 meses"),o.qZA(),o._uU(10,". Al proporcionar respuestas precisas, podr\xe1 obtener resultados m\xe1s \xfatiles que le permitir\xe1n comprender mejor la situaci\xf3n y buscar el apoyo adecuado si es necesario. Recuerde que este test no es un diagn\xf3stico m\xe9dico, pero puede ser un primer paso para comprender si es conveniente buscar la opini\xf3n de un profesional de la salud. "),o.qZA(),o.TgZ(11,"div",7)(12,"button",8),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return i.inatencionShow(),i.resetQuestionnaire(i.questionsInatencion),o.KtG(i.resetQuestionnaire(i.questionsHiperactividad))}),o.O4$(),o.TgZ(13,"svg",9),o._UZ(14,"path",10)(15,"path",11)(16,"path",12),o.qZA(),o._uU(17," Comenzar el test "),o.qZA()()(),o.kcU(),o._UZ(18,"div"),o.qZA()}}const hO=function(n,e){return{"selected-yes":n,"selected-no":e}};function DK(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",20)(1,"label",21),o._uU(2),o.qZA(),o.TgZ(3,"div")(4,"span")(5,"button",22),o.NdJ("click",function(){const s=o.CHM(t).$implicit,c=o.oxw(2);return o.KtG(c.setValue(s,1))}),o._uU(6," S\xed "),o.qZA()(),o.TgZ(7,"span")(8,"button",23),o.NdJ("click",function(){const s=o.CHM(t).$implicit,c=o.oxw(2);return o.KtG(c.setValue(s,0))}),o._uU(9," No "),o.qZA()()()()}if(2&n){const t=e.$implicit;o.Q6J("ngClass",o.WLB(3,hO,1===t.value,0===t.value))("@fadeInOut",void 0),o.xp6(2),o.Oqu(t.text)}}function EK(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div")(1,"div",13)(2,"h5"),o._uU(3,"Inatenci\xf3n"),o.qZA(),o.TgZ(4,"div")(5,"div",14),o.YNc(6,DK,10,6,"div",15),o.TgZ(7,"span",16),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.sumar("inatencion",i.questionsInatencion))}),o._uU(8,"Siguiente"),o.TgZ(9,"span",17),o.O4$(),o.TgZ(10,"svg",18),o._UZ(11,"path",19),o.qZA()()()()()()()}if(2&n){const t=o.oxw();o.Q6J("@slideInRightList",void 0),o.xp6(6),o.Q6J("ngForOf",t.questionsInatencion)}}function IK(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",26)(1,"label",21),o._uU(2),o.qZA(),o.TgZ(3,"div")(4,"span")(5,"button",22),o.NdJ("click",function(){const s=o.CHM(t).$implicit,c=o.oxw(2);return o.KtG(c.setValue(s,1))}),o._uU(6," S\xed "),o.qZA()(),o.TgZ(7,"span")(8,"button",23),o.NdJ("click",function(){const s=o.CHM(t).$implicit,c=o.oxw(2);return o.KtG(c.setValue(s,0))}),o._uU(9," No "),o.qZA()()()()}if(2&n){const t=e.$implicit;o.Q6J("ngClass",o.WLB(3,hO,1===t.value,0===t.value))("@fadeInOut",void 0),o.xp6(2),o.Oqu(t.text)}}function CK(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div")(1,"div",13)(2,"h5",24),o._uU(3,"Hiperactividad"),o.qZA(),o.TgZ(4,"div")(5,"div",14),o.YNc(6,IK,10,6,"div",25),o.TgZ(7,"span",16),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.sumar("hiperactividad",i.questionsHiperactividad))}),o._uU(8,"Siguiente"),o.TgZ(9,"span",17),o.O4$(),o.TgZ(10,"svg",18),o._UZ(11,"path",19),o.qZA()()()()()()()}if(2&n){const t=o.oxw();o.Q6J("@slideInRightList",void 0),o.xp6(6),o.Q6J("ngForOf",t.questionsHiperactividad)}}function SK(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",33)(1,"label",21),o._uU(2),o.qZA(),o.TgZ(3,"div")(4,"span")(5,"button",22),o.NdJ("click",function(){const s=o.CHM(t).$implicit,c=o.oxw(2);return o.KtG(c.setValue(s,1))}),o._uU(6," S\xed "),o.qZA()(),o.TgZ(7,"span")(8,"button",23),o.NdJ("click",function(){const s=o.CHM(t).$implicit,c=o.oxw(2);return o.KtG(c.setValue(s,0))}),o._uU(9," No "),o.qZA()()()()}if(2&n){const t=e.$implicit;o.Q6J("ngClass",o.WLB(3,hO,1===t.value,0===t.value))("@fadeInOut",void 0),o.xp6(2),o.Oqu(t.text)}}function AK(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div")(1,"div",13)(2,"h5",27),o._uU(3,"Impulsividad"),o.qZA(),o.TgZ(4,"div")(5,"div",14),o.YNc(6,SK,10,6,"div",28),o.TgZ(7,"span",29),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.sumar("impulsividad",i.questionsImpulsividad))}),o.TgZ(8,"span",30),o.O4$(),o.TgZ(9,"svg",31),o._UZ(10,"path",32),o.qZA()(),o.kcU(),o.TgZ(11,"span"),o._uU(12,"Mostrar resultado"),o.qZA()()()()()()}if(2&n){const t=o.oxw();o.Q6J("@slideInRightList",void 0),o.xp6(6),o.Q6J("ngForOf",t.questionsImpulsividad)}}function MK(n,e){if(1&n&&(o.TgZ(0,"div"),o._UZ(1,"app-resultado",34),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Q6J("tipoDeTest","nino")("titulo",t.resultado)}}let NK=(()=>{class n{constructor(){this.questionsInatencion=[{text:"\xbfTiene dificultad para mantener la atenci\xf3n en tareas o actividades laborales o de estudio?",value:null},{text:"\xbfParece no escuchar cuando se le habla directamente?",value:null},{text:"\xbfComete errores por descuido en el trabajo, en la escuela o en otras actividades?",value:null},{text:"\xbfEvita o le disgustan las actividades que requieren un esfuerzo mental sostenido (por ejemplo, tareas complejas, lectura larga)?",value:null},{text:"\xbfTiene dificultad para organizar tareas y responsabilidades diarias?",value:null},{text:"\xbfSuele perder objetos necesarios para el trabajo, la escuela o actividades recreativas (por ejemplo, llaves, tel\xe9fono, documentos)?",value:null},{text:"\xbfNo completa instrucciones y falla en terminar tareas o responsabilidades?",value:null},{text:"\xbfSe distrae f\xe1cilmente por est\xedmulos externos?",value:null}],this.questionsHiperactividad=[{text:"\xbfSe encuentra a menudo inquieto, moviendo manos o pies, o cambiando constantemente de posici\xf3n cuando est\xe1 sentado?",value:null},{text:"\xbfTiene dificultad para permanecer sentado en situaciones en las que se espera que lo haga (por ejemplo, reuniones, clases)?",value:null},{text:"\xbfRealiza actividades f\xedsicas excesivas en situaciones en las que es inapropiado?",value:null},{text:"\xbfHabla en exceso en situaciones sociales o de trabajo?",value:null},{text:'\xbfParece estar siempre "en marcha" o "impulsado por un motor"?',value:null},{text:"\xbfTiene dificultad para dedicarse a actividades de ocio tranquilas?",value:null},{text:"\xbfMuestra irritabilidad y agitaci\xf3n con frecuencia?",value:null},{text:"\xbfEs torpe o tiene accidentes debido a la impulsividad?",value:null}],this.questionsImpulsividad=[{text:"\xbfResponde a preguntas antes de que se hayan completado?",value:null},{text:"\xbfTiene dificultad para esperar su turno en situaciones grupales o conversaciones?",value:null},{text:"\xbfInterrumpe o se entromete en conversaciones o actividades de otros?",value:null},{text:"\xbfMuestra comportamiento negativo y desafiante con frecuencia?",value:null},{text:"\xbfCambia de humor r\xe1pidamente y con facilidad?",value:null}],this.showDisclaimer=!0,this.showInatencion=!1,this.showHiperactividad=!1,this.showImpulsividad=!1,this.showResultado=!1}ngOnInit(){}disclaimerShow(){this.showDisclaimer=!this.showDisclaimer}inatencionShow(){this.showInatencion=!this.showInatencion}hiperactividadShow(){this.showHiperactividad=!this.showHiperactividad}impulsividadShow(){this.showImpulsividad=!this.showImpulsividad}setValue(t,r){t.value=r}sumar(t,r){let i=0,s=0,c=0,h=!1;for(const g of r){if(null===g.value){h=!0;break}i+=g.value,s+=1}h?alert("Por favor responda todas las preguntas."):(this.testSum=(this.testSum||0)+i,this.questionsSum=(this.questionsSum||0)+s,console.log("Sum of question values:",this.testSum),console.log("Sum of questions:",this.questionsSum),c=this.testSum/this.questionsSum*100,this.resultado=c<=30?"Baja":c>30&&c<=60?"Moderada":"Alta",console.log(this.questionsSum,c,this.resultado),"inatencion"===t?(this.disclaimerShow(),this.inatencionShow(),setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"}),this.hiperactividadShow()},1e3)):"hiperactividad"===t?(this.hiperactividadShow(),setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"}),this.impulsividadShow()},1e3)):setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"}),this.impulsividadShow(),this.showResultado=!0},600))}resetQuestionnaire(t){for(const r of t)r.value=null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-test-adulto"]],decls:6,vars:5,consts:[[1,"test-main-container"],["class","grid",4,"ngIf"],[4,"ngIf"],[1,"grid"],[1,"g-col-2"],[1,"g-col-12","g-col-lg-8"],[1,"test-disclaimer"],[2,"display","flex","justify-content","center"],["id","comenzar","type","button",1,"btn","btn-success",2,"display","flex","align-items","center","padding","0.5rem 1rem",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-clipboard-check",2,"margin-right","0.5rem"],["fill-rule","evenodd","d","M10.854 7.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 9.793l2.646-2.647a.5.5 0 0 1 .708 0z"],["d","M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"],["d","M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"],[1,"form-container"],[1,"question-item-container"],["class","question-item",3,"ngClass",4,"ngFor","ngForOf"],["type","submit",1,"siguiente-btn",3,"click"],[2,"margin-left","0.5rem"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-arrow-right-circle"],["fill-rule","evenodd","d","M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H4.5z"],[1,"question-item",3,"ngClass"],[1,"form-label"],["type","button",1,"btn","btn-sm","si",3,"click"],["type","button",1,"btn","btn-sm","no",3,"click"],[1,"hiperactividad-title"],["class","question-item hiperactividad-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"question-item","hiperactividad-item",3,"ngClass"],[1,"impulsividad-title"],["class","question-item impulsividad-item",3,"ngClass",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-primary","resultado-btn",3,"click"],[2,"margin-right","0.5rem","margin-bottom","0.25rem"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-clipboard-pulse"],["fill-rule","evenodd","d","M10 1.5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-1Zm-5 0A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5v1A1.5 1.5 0 0 1 9.5 4h-3A1.5 1.5 0 0 1 5 2.5v-1Zm-2 0h1v1H3a1 1 0 0 0-1 1V14a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V3.5a1 1 0 0 0-1-1h-1v-1h1a2 2 0 0 1 2 2V14a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3.5a2 2 0 0 1 2-2Zm6.979 3.856a.5.5 0 0 0-.968.04L7.92 10.49l-.94-3.135a.5.5 0 0 0-.895-.133L4.232 10H3.5a.5.5 0 0 0 0 1h1a.5.5 0 0 0 .416-.223l1.41-2.115 1.195 3.982a.5.5 0 0 0 .968-.04L9.58 7.51l.94 3.135A.5.5 0 0 0 11 11h1.5a.5.5 0 0 0 0-1h-1.128L9.979 5.356Z"],[1,"question-item","impulsividad-item",3,"ngClass"],[3,"tipoDeTest","titulo"]],template:function(t,r){1&t&&(o.TgZ(0,"div",0),o.YNc(1,TK,19,0,"div",1),o.YNc(2,EK,12,2,"div",2),o.YNc(3,CK,12,2,"div",2),o.YNc(4,AK,13,2,"div",2),o.YNc(5,MK,2,2,"div",2),o.qZA()),2&t&&(o.xp6(1),o.Q6J("ngIf",!r.showInatencion&&r.showDisclaimer),o.xp6(1),o.Q6J("ngIf",r.showInatencion),o.xp6(1),o.Q6J("ngIf",r.showHiperactividad),o.xp6(1),o.Q6J("ngIf",r.showImpulsividad),o.xp6(1),o.Q6J("ngIf",r.showResultado))},dependencies:[rn,Ln,Pt,wH],styles:[".test-main-container[_ngcontent-%COMP%]{padding-top:5rem}.form-container[_ngcontent-%COMP%]{padding:0;border-radius:10px;display:flex;flex-direction:column;margin:2rem 4rem}.form-container[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{border-radius:10px 10px 0 0;padding:1.5rem;border:1px solid #ebebeb;width:100%;font-weight:500;font-size:1.5rem;text-align:center;background-color:#0f75ba;color:#fff}.hiperactividad-title[_ngcontent-%COMP%]{background-color:#5b6c78!important}.hiperactividad-item[_ngcontent-%COMP%]{border-left:3px solid #5b6c78!important}.impulsividad-title[_ngcontent-%COMP%]{background-color:#8044bd!important}.impulsividad-item[_ngcontent-%COMP%]{border-left:3px solid #8044bd!important}.siguiente-btn[_ngcontent-%COMP%]{align-self:flex-end;margin:1.5rem 1rem;background-color:#dadde4;padding:.5rem 1rem;border-radius:5px;box-shadow:2px 1px 5px 1px #0003;-webkit-box-shadow:2px 1px 5px 1px rgba(0,0,0,.2);-moz-box-shadow:2px 1px 5px 1px rgba(0,0,0,.2)}.siguiente-btn[_ngcontent-%COMP%]:hover{filter:brightness(1.15)}.question-item-container[_ngcontent-%COMP%]{height:auto;display:flex;flex-direction:column;flex-wrap:wrap;margin-top:-.5rem;background-color:#fafafa;padding:2rem}.question-item[_ngcontent-%COMP%]{background-color:#fff;flex-grow:1;font-size:1rem;margin-left:1rem;display:flex;align-items:flex-start;justify-content:space-between;flex-wrap:wrap;box-shadow:2px 1px 12px 1px #0003;-webkit-box-shadow:2px 1px 12px 1px rgba(0,0,0,.2);-moz-box-shadow:2px 1px 12px 1px rgba(0,0,0,.2);margin:.75rem;height:130px;border-radius:0 8px 8px 0;flex-direction:column;border-left:3px solid #0f75ba}.question-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;font-size:.75rem;font-weight:300;justify-content:space-around;color:#fff;text-transform:uppercase;align-self:flex-end;padding-right:2rem;gap:1rem;margin-bottom:.75rem}.selected-yes[_ngcontent-%COMP%]{background-color:#d7fbf9}.selected-no[_ngcontent-%COMP%]{background-color:#fbe0ca}.question-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding:1rem 2rem 0;margin-bottom:-.5rem}.question-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.85rem}.question-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{filter:brightness(1.2)}.si[_ngcontent-%COMP%]{padding:.25rem;border-radius:14px;width:90px;text-transform:uppercase;border:none;background-color:#27b2ad;color:#fff}.no[_ngcontent-%COMP%]{background-color:#f17e20;color:#fff;padding:.25rem;border-radius:14px;width:90px;text-transform:uppercase;border:none}.resultado-btn[_ngcontent-%COMP%]{width:auto;align-self:center;padding:.5rem 2rem;margin:1rem;display:flex;align-items:center;flex-direction:row}@media (max-width: 767.98px){.question-item[_ngcontent-%COMP%]{height:auto}.question-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:.5rem}.form-container[_ngcontent-%COMP%]{margin:auto}}@media (max-width: 575.98px){.question-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{gap:.25rem;padding:.5rem}.question-item-container[_ngcontent-%COMP%]{padding:.25rem}}"],data:{animation:[Cs("fadeInOut",[Ad("hidden",Ut({opacity:0,transform:"translate(10%, 5%)"})),Ad("visible",Ut({opacity:1,transform:"translate(0)"})),ro("hidden => visible",[Vi("600ms cubic-bezier(.25,.8,.25,1)",Do([Ut({opacity:0,transform:"translate(10%, 5%)",offset:0}),Ut({opacity:.45,transform:"translate(0)",offset:.7}),Ut({transform:"translateX(-20px)",offset:.9}),Ut({opacity:1,transform:"translateX(0)",offset:1})]))]),ro("visible => hidden",[Vi("500ms cubic-bezier(.25,.8,.25,1)",Do([Ut({opacity:1,transform:"translateX(0)",offset:0}),Ut({opacity:0,transform:"translateX(-10%)",offset:.7})]))])]),[bH,Cs("slideInRight",[ro(":enter",[Ut({opacity:0,transform:"translate(10%, 5%)"}),Vi("100ms ease-in",Ut({opacity:1,transform:"translate(0)"}))]),ro(":leave",[Ut({transform:"translateX(0%)",opacity:1}),Vi("100ms ease-out",Ut({opacity:0,transform:"translateX(100%)"}))])])]]}}),n})();function xK(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",3),o._UZ(1,"div",4),o.TgZ(2,"div",5)(3,"h1"),o._uU(4,"Test para ni\xf1os (los padres deben responder)"),o.qZA(),o._UZ(5,"br"),o.TgZ(6,"p",6),o._uU(7," Esta evaluaci\xf3n est\xe1 dise\xf1ada para ayudar a identificar posibles signos de Trastorno por D\xe9ficit de Atenci\xf3n e Hiperactividad (TDAH). Es importante responder con total honestidad y basar sus respuestas en las acciones y comportamientos observados en su hijo(a) "),o.TgZ(8,"strong"),o._uU(9,"en los \xfaltimos 6 meses"),o.qZA(),o._uU(10,". Al proporcionar respuestas precisas, podr\xe1 obtener resultados m\xe1s \xfatiles que le permitir\xe1n comprender mejor la situaci\xf3n y buscar el apoyo adecuado si es necesario. Recuerde que este test no es un diagn\xf3stico m\xe9dico, pero puede ser un primer paso para comprender si es conveniente buscar la opini\xf3n de un profesional de la salud. "),o.qZA(),o.TgZ(11,"div",7)(12,"button",8),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return i.inatencionShow(),i.resetQuestionnaire(i.questionsInatencion),o.KtG(i.resetQuestionnaire(i.questionsHiperactividad))}),o.O4$(),o.TgZ(13,"svg",9),o._UZ(14,"path",10)(15,"path",11)(16,"path",12),o.qZA(),o._uU(17," Comenzar el test "),o.qZA()()(),o.kcU(),o._UZ(18,"div"),o.qZA()}}const fO=function(n,e){return{"selected-yes":n,"selected-no":e}};function kK(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",20)(1,"label",21),o._uU(2),o.qZA(),o.TgZ(3,"div")(4,"span")(5,"button",22),o.NdJ("click",function(){const s=o.CHM(t).$implicit,c=o.oxw(2);return o.KtG(c.setValue(s,1))}),o._uU(6," S\xed "),o.qZA()(),o.TgZ(7,"span")(8,"button",23),o.NdJ("click",function(){const s=o.CHM(t).$implicit,c=o.oxw(2);return o.KtG(c.setValue(s,0))}),o._uU(9," No "),o.qZA()()()()}if(2&n){const t=e.$implicit;o.Q6J("ngClass",o.WLB(3,fO,1===t.value,0===t.value))("@fadeInOut",void 0),o.xp6(2),o.Oqu(t.text)}}function RK(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div")(1,"div",13)(2,"h5"),o._uU(3,"Inatenci\xf3n"),o.qZA(),o.TgZ(4,"div")(5,"div",14),o.YNc(6,kK,10,6,"div",15),o.TgZ(7,"span",16),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.sumar("inatencion",i.questionsInatencion))}),o._uU(8,"Siguiente"),o.TgZ(9,"span",17),o.O4$(),o.TgZ(10,"svg",18),o._UZ(11,"path",19),o.qZA()()()()()()()}if(2&n){const t=o.oxw();o.Q6J("@slideInRightList",void 0),o.xp6(6),o.Q6J("ngForOf",t.questionsInatencion)}}function OK(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",26)(1,"label",21),o._uU(2),o.qZA(),o.TgZ(3,"div")(4,"span")(5,"button",22),o.NdJ("click",function(){const s=o.CHM(t).$implicit,c=o.oxw(2);return o.KtG(c.setValue(s,1))}),o._uU(6," S\xed "),o.qZA()(),o.TgZ(7,"span")(8,"button",23),o.NdJ("click",function(){const s=o.CHM(t).$implicit,c=o.oxw(2);return o.KtG(c.setValue(s,0))}),o._uU(9," No "),o.qZA()()()()}if(2&n){const t=e.$implicit;o.Q6J("ngClass",o.WLB(3,fO,1===t.value,0===t.value))("@fadeInOut",void 0),o.xp6(2),o.Oqu(t.text)}}function PK(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div")(1,"div",13)(2,"h5",24),o._uU(3,"Hiperactividad"),o.qZA(),o.TgZ(4,"div")(5,"div",14),o.YNc(6,OK,10,6,"div",25),o.TgZ(7,"span",16),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.sumar("hiperactividad",i.questionsHiperactividad))}),o._uU(8,"Siguiente"),o.TgZ(9,"span",17),o.O4$(),o.TgZ(10,"svg",18),o._UZ(11,"path",19),o.qZA()()()()()()()}if(2&n){const t=o.oxw();o.Q6J("@slideInRightList",void 0),o.xp6(6),o.Q6J("ngForOf",t.questionsHiperactividad)}}function FK(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",33)(1,"label",21),o._uU(2),o.qZA(),o.TgZ(3,"div")(4,"span")(5,"button",22),o.NdJ("click",function(){const s=o.CHM(t).$implicit,c=o.oxw(2);return o.KtG(c.setValue(s,1))}),o._uU(6," S\xed "),o.qZA()(),o.TgZ(7,"span")(8,"button",23),o.NdJ("click",function(){const s=o.CHM(t).$implicit,c=o.oxw(2);return o.KtG(c.setValue(s,0))}),o._uU(9," No "),o.qZA()()()()}if(2&n){const t=e.$implicit;o.Q6J("ngClass",o.WLB(3,fO,1===t.value,0===t.value))("@fadeInOut",void 0),o.xp6(2),o.Oqu(t.text)}}function LK(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div")(1,"div",13)(2,"h5",27),o._uU(3,"Impulsividad"),o.qZA(),o.TgZ(4,"div")(5,"div",14),o.YNc(6,FK,10,6,"div",28),o.TgZ(7,"span",29),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.sumar("impulsividad",i.questionsImpulsividad))}),o.TgZ(8,"span",30),o.O4$(),o.TgZ(9,"svg",31),o._UZ(10,"path",32),o.qZA()(),o.kcU(),o.TgZ(11,"span"),o._uU(12,"Mostrar resultado"),o.qZA()()()()()()}if(2&n){const t=o.oxw();o.Q6J("@slideInRightList",void 0),o.xp6(6),o.Q6J("ngForOf",t.questionsImpulsividad)}}function BK(n,e){if(1&n&&(o.TgZ(0,"div"),o._UZ(1,"app-resultado",34),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Q6J("tipoDeTest","nino")("titulo",t.resultado)}}let VK=(()=>{class n{constructor(){this.questionsInatencion=[{text:"\xbfLe resulta dif\xedcil mantener la atenci\xf3n en tareas escolares o actividades de juego?",value:null},{text:"\xbfParece no escuchar cuando se le habla directamente?",value:null},{text:"\xbfComete errores por descuido en trabajos escolares o en otras actividades?",value:null},{text:"\xbfLe disgustan, evita o rechaza actividades que requieren esfuerzo mental sostenido (por ejemplo, tareas escolares complejas o lecturas largas)?",value:null},{text:"\xbfTiene dificultad para organizar tareas y responsabilidades diarias?",value:null},{text:"\xbfPierde f\xe1cilmente objetos necesarios para la escuela o actividades recreativas (por ejemplo, \xfatiles escolares, juguetes, ropa)?",value:null},{text:"\xbfNo completa instrucciones y falla en terminar tareas o responsabilidades?",value:null},{text:"\xbfSe distrae f\xe1cilmente por est\xedmulos externos?",value:null}],this.questionsHiperactividad=[{text:"\xbfMueve con frecuencia manos o pies, o se revuelve en el asiento?",value:null},{text:"\xbfSe levanta del asiento en el sal\xf3n de clases u otras situaciones en las que se supone que debe estar sentado?",value:null},{text:"\xbfCorre o trepa en exceso en situaciones en las que es inapropiado?",value:null},{text:"\xbfHabla en exceso en situaciones sociales?",value:null},{text:"\xbfParece estar siempre activo, como impulsado por un motor encendido?",value:null},{text:"\xbfTiene dificultad para jugar tranquilamente o dedicarse a actividades de descanso?",value:null},{text:"\xbfMuestra irritabilidad y agitaci\xf3n con frecuencia?",value:null},{text:"\xbfEs torpe o tiene accidentes debido a la impulsividad?",value:null}],this.questionsImpulsividad=[{text:"\xbfResponde a preguntas antes de que se hayan completado?",value:null},{text:"\xbfTiene dificultad para esperar su turno en situaciones grupales o en juegos?",value:null},{text:"\xbfInterrumpe o se entromete en conversaciones o juegos de otros?",value:null},{text:"\xbfMuestra comportamiento negativo y desafiante con frecuencia?",value:null},{text:"\xbfCambia de humor r\xe1pidamente y con facilidad?",value:null}],this.showDisclaimer=!0,this.showInatencion=!1,this.showHiperactividad=!1,this.showImpulsividad=!1,this.showResultado=!1}ngOnInit(){}disclaimerShow(){this.showDisclaimer=!this.showDisclaimer}inatencionShow(){this.showInatencion=!this.showInatencion}hiperactividadShow(){this.showHiperactividad=!this.showHiperactividad}impulsividadShow(){this.showImpulsividad=!this.showImpulsividad}setValue(t,r){t.value=r}sumar(t,r){let i=0,s=0,c=0,h=!1;for(const g of r){if(null===g.value){h=!0;break}i+=g.value,s+=1}h?alert("Por favor responda todas las preguntas."):(this.testSum=(this.testSum||0)+i,this.questionsSum=(this.questionsSum||0)+s,console.log("Sum of question values:",this.testSum),console.log("Sum of questions:",this.questionsSum),c=this.testSum/this.questionsSum*100,this.resultado=c<40?"Baja":c>=40&&c<=60?"Moderada":"Alta",console.log(this.questionsSum,c,this.resultado),"inatencion"===t?(this.disclaimerShow(),this.inatencionShow(),setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"}),this.hiperactividadShow()},1e3)):"hiperactividad"===t?(this.hiperactividadShow(),setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"}),this.impulsividadShow()},1e3)):setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"}),this.impulsividadShow(),this.showResultado=!0},600))}resetQuestionnaire(t){for(const r of t)r.value=null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-test-nino"]],decls:6,vars:5,consts:[[1,"test-main-container"],["class","grid",4,"ngIf"],[4,"ngIf"],[1,"grid"],[1,"g-col-lg-2","g-col-1"],[1,"g-col-12","g-col-lg-8"],[1,"test-disclaimer"],[2,"display","flex","justify-content","center"],["id","comenzar","type","button",1,"btn","btn-success",2,"display","flex","align-items","center","padding","0.5rem 1rem",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-clipboard-check",2,"margin-right","0.5rem"],["fill-rule","evenodd","d","M10.854 7.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 9.793l2.646-2.647a.5.5 0 0 1 .708 0z"],["d","M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"],["d","M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"],[1,"form-container"],[1,"question-item-container"],["class","question-item",3,"ngClass",4,"ngFor","ngForOf"],["type","submit",1,"siguiente-btn",3,"click"],[2,"margin-left","0.5rem"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-arrow-right-circle"],["fill-rule","evenodd","d","M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H4.5z"],[1,"question-item",3,"ngClass"],[1,"form-label"],["type","button",1,"btn","btn-sm","si",3,"click"],["type","button",1,"btn","btn-sm","no",3,"click"],[1,"hiperactividad-title"],["class","question-item hiperactividad-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"question-item","hiperactividad-item",3,"ngClass"],[1,"impulsividad-title"],["class","question-item impulsividad-item",3,"ngClass",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-primary","resultado-btn",3,"click"],[2,"margin-right","0.5rem","margin-bottom","0.25rem"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-clipboard-pulse"],["fill-rule","evenodd","d","M10 1.5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-1Zm-5 0A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5v1A1.5 1.5 0 0 1 9.5 4h-3A1.5 1.5 0 0 1 5 2.5v-1Zm-2 0h1v1H3a1 1 0 0 0-1 1V14a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V3.5a1 1 0 0 0-1-1h-1v-1h1a2 2 0 0 1 2 2V14a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3.5a2 2 0 0 1 2-2Zm6.979 3.856a.5.5 0 0 0-.968.04L7.92 10.49l-.94-3.135a.5.5 0 0 0-.895-.133L4.232 10H3.5a.5.5 0 0 0 0 1h1a.5.5 0 0 0 .416-.223l1.41-2.115 1.195 3.982a.5.5 0 0 0 .968-.04L9.58 7.51l.94 3.135A.5.5 0 0 0 11 11h1.5a.5.5 0 0 0 0-1h-1.128L9.979 5.356Z"],[1,"question-item","impulsividad-item",3,"ngClass"],[3,"tipoDeTest","titulo"]],template:function(t,r){1&t&&(o.TgZ(0,"div",0),o.YNc(1,xK,19,0,"div",1),o.YNc(2,RK,12,2,"div",2),o.YNc(3,PK,12,2,"div",2),o.YNc(4,LK,13,2,"div",2),o.YNc(5,BK,2,2,"div",2),o.qZA()),2&t&&(o.xp6(1),o.Q6J("ngIf",!r.showInatencion&&r.showDisclaimer),o.xp6(1),o.Q6J("ngIf",r.showInatencion),o.xp6(1),o.Q6J("ngIf",r.showHiperactividad),o.xp6(1),o.Q6J("ngIf",r.showImpulsividad),o.xp6(1),o.Q6J("ngIf",r.showResultado))},dependencies:[rn,Ln,Pt,wH],styles:[".test-main-container[_ngcontent-%COMP%]{padding-top:5rem}.form-container[_ngcontent-%COMP%]{padding:0;border-radius:10px;display:flex;flex-direction:column;margin:2rem 4rem}.form-container[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{border-radius:10px 10px 0 0;padding:1.5rem;border:1px solid #ebebeb;width:100%;font-weight:500;font-size:1.5rem;text-align:center;background-color:#0f75ba;color:#fff}.hiperactividad-title[_ngcontent-%COMP%]{background-color:#5b6c78!important}.hiperactividad-item[_ngcontent-%COMP%]{border-left:3px solid #5b6c78!important}.impulsividad-title[_ngcontent-%COMP%]{background-color:#8044bd!important}.impulsividad-item[_ngcontent-%COMP%]{border-left:3px solid #8044bd!important}.siguiente-btn[_ngcontent-%COMP%]{align-self:flex-end;margin:1.5rem 1rem;background-color:#dadde4;padding:.5rem 1rem;border-radius:5px;box-shadow:2px 1px 5px 1px #0003;-webkit-box-shadow:2px 1px 5px 1px rgba(0,0,0,.2);-moz-box-shadow:2px 1px 5px 1px rgba(0,0,0,.2)}.siguiente-btn[_ngcontent-%COMP%]:hover{filter:brightness(1.15)}.question-item-container[_ngcontent-%COMP%]{height:auto;display:flex;flex-direction:column;flex-wrap:wrap;margin-top:-.5rem;background-color:#fafafa;padding:2rem}.question-item[_ngcontent-%COMP%]{background-color:#fff;flex-grow:1;font-size:1rem;margin-left:1rem;display:flex;align-items:flex-start;justify-content:space-between;flex-wrap:wrap;box-shadow:2px 1px 12px 1px #0003;-webkit-box-shadow:2px 1px 12px 1px rgba(0,0,0,.2);-moz-box-shadow:2px 1px 12px 1px rgba(0,0,0,.2);margin:.75rem;height:130px;border-radius:0 8px 8px 0;flex-direction:column;border-left:3px solid #0f75ba}.question-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;font-size:.75rem;font-weight:300;justify-content:space-around;color:#fff;text-transform:uppercase;align-self:flex-end;padding-right:2rem;gap:1rem;margin-bottom:.75rem}.selected-yes[_ngcontent-%COMP%]{background-color:#d7fbf9}.selected-no[_ngcontent-%COMP%]{background-color:#fbe0ca}.question-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding:1rem 2rem 0;margin-bottom:-.5rem}.question-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.85rem}.question-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{filter:brightness(1.2)}.si[_ngcontent-%COMP%]{padding:.25rem;border-radius:14px;width:90px;text-transform:uppercase;border:none;background-color:#27b2ad;color:#fff}.no[_ngcontent-%COMP%]{background-color:#f17e20;color:#fff;padding:.25rem;border-radius:14px;width:90px;text-transform:uppercase;border:none}.resultado-btn[_ngcontent-%COMP%]{width:auto;align-self:center;padding:.5rem 2rem;margin:1rem;display:flex;align-items:center;flex-direction:row}@media (max-width: 767.98px){.question-item[_ngcontent-%COMP%]{height:auto}.question-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:.5rem}.form-container[_ngcontent-%COMP%]{margin:auto}}@media (max-width: 575.98px){.question-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{gap:.25rem;padding:.5rem}.question-item-container[_ngcontent-%COMP%]{padding:.25rem}}"],data:{animation:[Cs("fadeInOut",[Ad("hidden",Ut({opacity:0,transform:"translate(10%, 5%)"})),Ad("visible",Ut({opacity:1,transform:"translate(0)"})),ro("hidden => visible",[Vi("600ms cubic-bezier(.25,.8,.25,1)",Do([Ut({opacity:0,transform:"translate(10%, 5%)",offset:0}),Ut({opacity:.45,transform:"translate(0)",offset:.7}),Ut({transform:"translateX(-20px)",offset:.9}),Ut({opacity:1,transform:"translateX(0)",offset:1})]))]),ro("visible => hidden",[Vi("500ms cubic-bezier(.25,.8,.25,1)",Do([Ut({opacity:1,transform:"translateX(0)",offset:0}),Ut({opacity:0,transform:"translateX(-10%)",offset:.7})]))])]),[bH,Cs("slideInRight",[ro(":enter",[Ut({opacity:0,transform:"translate(10%, 5%)"}),Vi("100ms ease-in",Ut({opacity:1,transform:"translate(0)"}))]),ro(":leave",[Ut({transform:"translateX(0%)",opacity:1}),Vi("100ms ease-out",Ut({opacity:0,transform:"translateX(100%)"}))])])]]}}),n})();function UK(n,e){1&n&&(o.ynx(0),o._UZ(1,"app-test-adulto"),o.BQk())}function HK(n,e){1&n&&o._UZ(0,"app-test-nino")}const $K=[{path:"",component:C3},{path:"signup",component:pK},{path:"login",component:mK},{path:"articulo/:id",component:fW,canActivate:[SI]},{path:"crear-articulo",component:cK,canActivate:[SI]},{path:"tests/:id",component:(()=>{class n{constructor(t){this.route=t}ngOnInit(){this.route.paramMap.subscribe(t=>{this.id=t.get("id")})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Bi))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-tests"]],decls:4,vars:2,consts:[[4,"ngIf","ngIfElse"],["ninoComponent",""]],template:function(t,r){if(1&t&&(o.TgZ(0,"div"),o.YNc(1,UK,2,0,"ng-container",0),o.YNc(2,HK,1,0,"ng-template",null,1,o.W1O),o.qZA()),2&t){const i=o.MAs(3);o.xp6(1),o.Q6J("ngIf","adulto"===r.id)("ngIfElse",i)}},dependencies:[Pt,NK,VK],styles:[".test-main-container[_ngcontent-%COMP%]{padding-top:5rem}.form-container[_ngcontent-%COMP%]{padding:0;border-radius:10px;display:flex;flex-direction:column;margin:2rem 4rem}.form-container[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{border-radius:10px 10px 0 0;padding:1.5rem;border:1px solid #ebebeb;width:100%;font-weight:500;font-size:1.5rem;text-align:center;background-color:#0f75ba;color:#fff}.hiperactividad-title[_ngcontent-%COMP%]{background-color:#5b6c78!important}.hiperactividad-item[_ngcontent-%COMP%]{border-left:3px solid #5b6c78!important}.impulsividad-title[_ngcontent-%COMP%]{background-color:#8044bd!important}.impulsividad-item[_ngcontent-%COMP%]{border-left:3px solid #8044bd!important}.siguiente-btn[_ngcontent-%COMP%]{align-self:flex-end;margin:1.5rem 1rem;background-color:#dadde4;padding:.5rem 1rem;border-radius:5px;box-shadow:2px 1px 5px 1px #0003;-webkit-box-shadow:2px 1px 5px 1px rgba(0,0,0,.2);-moz-box-shadow:2px 1px 5px 1px rgba(0,0,0,.2)}.siguiente-btn[_ngcontent-%COMP%]:hover{filter:brightness(1.15)}.question-item-container[_ngcontent-%COMP%]{height:auto;display:flex;flex-direction:column;flex-wrap:wrap;margin-top:-.5rem;background-color:#fafafa;padding:2rem}.question-item[_ngcontent-%COMP%]{background-color:#fff;flex-grow:1;font-size:1rem;margin-left:1rem;display:flex;align-items:flex-start;justify-content:space-between;flex-wrap:wrap;box-shadow:2px 1px 12px 1px #0003;-webkit-box-shadow:2px 1px 12px 1px rgba(0,0,0,.2);-moz-box-shadow:2px 1px 12px 1px rgba(0,0,0,.2);margin:.75rem;height:130px;border-radius:0 8px 8px 0;flex-direction:column;border-left:3px solid #0f75ba}.question-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;font-size:.75rem;font-weight:300;justify-content:space-around;color:#fff;text-transform:uppercase;align-self:flex-end;padding-right:2rem;gap:1rem;margin-bottom:.75rem}.selected-yes[_ngcontent-%COMP%]{background-color:#d7fbf9}.selected-no[_ngcontent-%COMP%]{background-color:#fbe0ca}.question-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding:1rem 2rem 0;margin-bottom:-.5rem}.question-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.85rem}.question-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{filter:brightness(1.2)}.si[_ngcontent-%COMP%]{padding:.25rem;border-radius:14px;width:90px;text-transform:uppercase;border:none;background-color:#27b2ad;color:#fff}.no[_ngcontent-%COMP%]{background-color:#f17e20;color:#fff;padding:.25rem;border-radius:14px;width:90px;text-transform:uppercase;border:none}.resultado-btn[_ngcontent-%COMP%]{width:auto;align-self:center;padding:.5rem 2rem;margin:1rem;display:flex;align-items:center;flex-direction:row}@media (max-width: 767.98px){.question-item[_ngcontent-%COMP%]{height:auto}.question-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:.5rem}.form-container[_ngcontent-%COMP%]{margin:auto}}@media (max-width: 575.98px){.question-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{gap:.25rem;padding:.5rem}.question-item-container[_ngcontent-%COMP%]{padding:.25rem}}"]}),n})(),canActivate:[SI]}];let jK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n,bootstrap:[W7]}),n.\u0275inj=o.cJS({providers:[SI],imports:[Jc,pb.hO.initializeApp(KR_firebase),fI,S3,Z7,K7,Y7,J7,aA,np.forRoot($K),Rw(()=>Pw(KR_firebase)),UG(()=>jG()),zH(()=>HP()),np]}),n})();(0,o.G48)(),zl().bootstrapModule(jK).catch(n=>console.error(n))},9751:(it,ye,x)=>{x.d(ye,{y:()=>se});var o=x(930),z=x(727),V=x(8822),ee=x(9635),J=x(2416),oe=x(576),Y=x(2806);let se=(()=>{class G{constructor(we){we&&(this._subscribe=we)}lift(we){const pe=new G;return pe.source=this,pe.operator=we,pe}subscribe(we,pe,Ke){const de=function L(G){return G&&G instanceof o.Lv||function P(G){return G&&(0,oe.m)(G.next)&&(0,oe.m)(G.error)&&(0,oe.m)(G.complete)}(G)&&(0,z.Nn)(G)}(we)?we:new o.Hp(we,pe,Ke);return(0,Y.x)(()=>{const{operator:re,source:We}=this;de.add(re?re.call(de,We):We?this._subscribe(de):this._trySubscribe(de))}),de}_trySubscribe(we){try{return this._subscribe(we)}catch(pe){we.error(pe)}}forEach(we,pe){return new(pe=ae(pe))((Ke,de)=>{const re=new o.Hp({next:We=>{try{we(We)}catch(ct){de(ct),re.unsubscribe()}},error:de,complete:Ke});this.subscribe(re)})}_subscribe(we){var pe;return null===(pe=this.source)||void 0===pe?void 0:pe.subscribe(we)}[V.L](){return this}pipe(...we){return(0,ee.U)(we)(this)}toPromise(we){return new(we=ae(we))((pe,Ke)=>{let de;this.subscribe(re=>de=re,re=>Ke(re),()=>pe(de))})}}return G.create=xe=>new G(xe),G})();function ae(G){var xe;return null!==(xe=G??J.v.Promise)&&void 0!==xe?xe:Promise}},7579:(it,ye,x)=>{x.d(ye,{x:()=>Y});var o=x(9751),z=x(727);const ee=(0,x(3888).d)(ae=>function(){ae(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var J=x(8737),oe=x(2806);let Y=(()=>{class ae extends o.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(L){const G=new se(this,this);return G.operator=L,G}_throwIfClosed(){if(this.closed)throw new ee}next(L){(0,oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const G of this.currentObservers)G.next(L)}})}error(L){(0,oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=L;const{observers:G}=this;for(;G.length;)G.shift().error(L)}})}complete(){(0,oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:L}=this;for(;L.length;)L.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var L;return(null===(L=this.observers)||void 0===L?void 0:L.length)>0}_trySubscribe(L){return this._throwIfClosed(),super._trySubscribe(L)}_subscribe(L){return this._throwIfClosed(),this._checkFinalizedStatuses(L),this._innerSubscribe(L)}_innerSubscribe(L){const{hasError:G,isStopped:xe,observers:we}=this;return G||xe?z.Lc:(this.currentObservers=null,we.push(L),new z.w0(()=>{this.currentObservers=null,(0,J.P)(we,L)}))}_checkFinalizedStatuses(L){const{hasError:G,thrownError:xe,isStopped:we}=this;G?L.error(xe):we&&L.complete()}asObservable(){const L=new o.y;return L.source=this,L}}return ae.create=(P,L)=>new se(P,L),ae})();class se extends Y{constructor(P,L){super(),this.destination=P,this.source=L}next(P){var L,G;null===(G=null===(L=this.destination)||void 0===L?void 0:L.next)||void 0===G||G.call(L,P)}error(P){var L,G;null===(G=null===(L=this.destination)||void 0===L?void 0:L.error)||void 0===G||G.call(L,P)}complete(){var P,L;null===(L=null===(P=this.destination)||void 0===P?void 0:P.complete)||void 0===L||L.call(P)}_subscribe(P){var L,G;return null!==(G=null===(L=this.source)||void 0===L?void 0:L.subscribe(P))&&void 0!==G?G:z.Lc}}},930:(it,ye,x)=>{x.d(ye,{Hp:()=>Ke,Lv:()=>G});var o=x(576),z=x(727),V=x(2416),ee=x(7849),J=x(5032);const oe=ae("C",void 0,void 0);function ae(Ce,Te,ge){return{kind:Ce,value:Te,error:ge}}var P=x(3410),L=x(2806);class G extends z.w0{constructor(Te){super(),this.isStopped=!1,Te?(this.destination=Te,(0,z.Nn)(Te)&&Te.add(this)):this.destination=ct}static create(Te,ge,Fe){return new Ke(Te,ge,Fe)}next(Te){this.isStopped?We(function se(Ce){return ae("N",Ce,void 0)}(Te),this):this._next(Te)}error(Te){this.isStopped?We(function Y(Ce){return ae("E",void 0,Ce)}(Te),this):(this.isStopped=!0,this._error(Te))}complete(){this.isStopped?We(oe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Te){this.destination.next(Te)}_error(Te){try{this.destination.error(Te)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const xe=Function.prototype.bind;function we(Ce,Te){return xe.call(Ce,Te)}class pe{constructor(Te){this.partialObserver=Te}next(Te){const{partialObserver:ge}=this;if(ge.next)try{ge.next(Te)}catch(Fe){de(Fe)}}error(Te){const{partialObserver:ge}=this;if(ge.error)try{ge.error(Te)}catch(Fe){de(Fe)}else de(Te)}complete(){const{partialObserver:Te}=this;if(Te.complete)try{Te.complete()}catch(ge){de(ge)}}}class Ke extends G{constructor(Te,ge,Fe){let ke;if(super(),(0,o.m)(Te)||!Te)ke={next:Te??void 0,error:ge??void 0,complete:Fe??void 0};else{let ie;this&&V.v.useDeprecatedNextContext?(ie=Object.create(Te),ie.unsubscribe=()=>this.unsubscribe(),ke={next:Te.next&&we(Te.next,ie),error:Te.error&&we(Te.error,ie),complete:Te.complete&&we(Te.complete,ie)}):ke=Te}this.destination=new pe(ke)}}function de(Ce){V.v.useDeprecatedSynchronousErrorHandling?(0,L.O)(Ce):(0,ee.h)(Ce)}function We(Ce,Te){const{onStoppedNotification:ge}=V.v;ge&&P.z.setTimeout(()=>ge(Ce,Te))}const ct={closed:!0,next:J.Z,error:function re(Ce){throw Ce},complete:J.Z}},727:(it,ye,x)=>{x.d(ye,{Lc:()=>oe,w0:()=>J,Nn:()=>Y});var o=x(576);const V=(0,x(3888).d)(ae=>function(L){ae(this),this.message=L?`${L.length} errors occurred during unsubscription:\n${L.map((G,xe)=>`${xe+1}) ${G.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=L});var ee=x(8737);class J{constructor(P){this.initialTeardown=P,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let P;if(!this.closed){this.closed=!0;const{_parentage:L}=this;if(L)if(this._parentage=null,Array.isArray(L))for(const we of L)we.remove(this);else L.remove(this);const{initialTeardown:G}=this;if((0,o.m)(G))try{G()}catch(we){P=we instanceof V?we.errors:[we]}const{_finalizers:xe}=this;if(xe){this._finalizers=null;for(const we of xe)try{se(we)}catch(pe){P=P??[],pe instanceof V?P=[...P,...pe.errors]:P.push(pe)}}if(P)throw new V(P)}}add(P){var L;if(P&&P!==this)if(this.closed)se(P);else{if(P instanceof J){if(P.closed||P._hasParent(this))return;P._addParent(this)}(this._finalizers=null!==(L=this._finalizers)&&void 0!==L?L:[]).push(P)}}_hasParent(P){const{_parentage:L}=this;return L===P||Array.isArray(L)&&L.includes(P)}_addParent(P){const{_parentage:L}=this;this._parentage=Array.isArray(L)?(L.push(P),L):L?[L,P]:P}_removeParent(P){const{_parentage:L}=this;L===P?this._parentage=null:Array.isArray(L)&&(0,ee.P)(L,P)}remove(P){const{_finalizers:L}=this;L&&(0,ee.P)(L,P),P instanceof J&&P._removeParent(this)}}J.EMPTY=(()=>{const ae=new J;return ae.closed=!0,ae})();const oe=J.EMPTY;function Y(ae){return ae instanceof J||ae&&"closed"in ae&&(0,o.m)(ae.remove)&&(0,o.m)(ae.add)&&(0,o.m)(ae.unsubscribe)}function se(ae){(0,o.m)(ae)?ae():ae.unsubscribe()}},2416:(it,ye,x)=>{x.d(ye,{v:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(it,ye,x)=>{x.d(ye,{E:()=>z});const z=new(x(9751).y)(J=>J.complete())},8996:(it,ye,x)=>{x.d(ye,{D:()=>Te});var o=x(8421),z=x(5363),V=x(9468),oe=x(9751),se=x(2202),ae=x(576),P=x(9672);function G(ge,Fe){if(!ge)throw new Error("Iterable cannot be null");return new oe.y(ke=>{(0,P.f)(ke,Fe,()=>{const ie=ge[Symbol.asyncIterator]();(0,P.f)(ke,Fe,()=>{ie.next().then(he=>{he.done?ke.complete():ke.next(he.value)})},0,!0)})})}var xe=x(3670),we=x(8239),pe=x(1144),Ke=x(6495),de=x(2206),re=x(4532),We=x(3260);function Te(ge,Fe){return Fe?function Ce(ge,Fe){if(null!=ge){if((0,xe.c)(ge))return function ee(ge,Fe){return(0,o.Xf)(ge).pipe((0,V.R)(Fe),(0,z.Q)(Fe))}(ge,Fe);if((0,pe.z)(ge))return function Y(ge,Fe){return new oe.y(ke=>{let ie=0;return Fe.schedule(function(){ie===ge.length?ke.complete():(ke.next(ge[ie++]),ke.closed||this.schedule())})})}(ge,Fe);if((0,we.t)(ge))return function J(ge,Fe){return(0,o.Xf)(ge).pipe((0,V.R)(Fe),(0,z.Q)(Fe))}(ge,Fe);if((0,de.D)(ge))return G(ge,Fe);if((0,Ke.T)(ge))return function L(ge,Fe){return new oe.y(ke=>{let ie;return(0,P.f)(ke,Fe,()=>{ie=ge[se.h](),(0,P.f)(ke,Fe,()=>{let he,Oe;try{({value:he,done:Oe}=ie.next())}catch(je){return void ke.error(je)}Oe?ke.complete():ke.next(he)},0,!0)}),()=>(0,ae.m)(ie?.return)&&ie.return()})}(ge,Fe);if((0,We.L)(ge))return function ct(ge,Fe){return G((0,We.Q)(ge),Fe)}(ge,Fe)}throw(0,re.z)(ge)}(ge,Fe):(0,o.Xf)(ge)}},8421:(it,ye,x)=>{x.d(ye,{Xf:()=>xe});var o=x(655),z=x(1144),V=x(8239),ee=x(9751),J=x(3670),oe=x(2206),Y=x(4532),se=x(6495),ae=x(3260),P=x(576),L=x(7849),G=x(8822);function xe(Ce){if(Ce instanceof ee.y)return Ce;if(null!=Ce){if((0,J.c)(Ce))return function we(Ce){return new ee.y(Te=>{const ge=Ce[G.L]();if((0,P.m)(ge.subscribe))return ge.subscribe(Te);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ce);if((0,z.z)(Ce))return function pe(Ce){return new ee.y(Te=>{for(let ge=0;ge<Ce.length&&!Te.closed;ge++)Te.next(Ce[ge]);Te.complete()})}(Ce);if((0,V.t)(Ce))return function Ke(Ce){return new ee.y(Te=>{Ce.then(ge=>{Te.closed||(Te.next(ge),Te.complete())},ge=>Te.error(ge)).then(null,L.h)})}(Ce);if((0,oe.D)(Ce))return re(Ce);if((0,se.T)(Ce))return function de(Ce){return new ee.y(Te=>{for(const ge of Ce)if(Te.next(ge),Te.closed)return;Te.complete()})}(Ce);if((0,ae.L)(Ce))return function We(Ce){return re((0,ae.Q)(Ce))}(Ce)}throw(0,Y.z)(Ce)}function re(Ce){return new ee.y(Te=>{(function ct(Ce,Te){var ge,Fe,ke,ie;return(0,o.mG)(this,void 0,void 0,function*(){try{for(ge=(0,o.KL)(Ce);!(Fe=yield ge.next()).done;)if(Te.next(Fe.value),Te.closed)return}catch(he){ke={error:he}}finally{try{Fe&&!Fe.done&&(ie=ge.return)&&(yield ie.call(ge))}finally{if(ke)throw ke.error}}Te.complete()})})(Ce,Te).catch(ge=>Te.error(ge))})}},6451:(it,ye,x)=>{x.d(ye,{T:()=>oe});var o=x(8189),z=x(8421),V=x(515),ee=x(3269),J=x(8996);function oe(...Y){const se=(0,ee.yG)(Y),ae=(0,ee._6)(Y,1/0),P=Y;return P.length?1===P.length?(0,z.Xf)(P[0]):(0,o.J)(ae)((0,J.D)(P,se)):V.E}},5403:(it,ye,x)=>{x.d(ye,{x:()=>z});var o=x(930);function z(ee,J,oe,Y,se){return new V(ee,J,oe,Y,se)}class V extends o.Lv{constructor(J,oe,Y,se,ae,P){super(J),this.onFinalize=ae,this.shouldUnsubscribe=P,this._next=oe?function(L){try{oe(L)}catch(G){J.error(G)}}:super._next,this._error=se?function(L){try{se(L)}catch(G){J.error(G)}finally{this.unsubscribe()}}:super._error,this._complete=Y?function(){try{Y()}catch(L){J.error(L)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var J;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:oe}=this;super.unsubscribe(),!oe&&(null===(J=this.onFinalize)||void 0===J||J.call(this))}}}},4004:(it,ye,x)=>{x.d(ye,{U:()=>V});var o=x(4482),z=x(5403);function V(ee,J){return(0,o.e)((oe,Y)=>{let se=0;oe.subscribe((0,z.x)(Y,ae=>{Y.next(ee.call(J,ae,se++))}))})}},8189:(it,ye,x)=>{x.d(ye,{J:()=>V});var o=x(5577),z=x(4671);function V(ee=1/0){return(0,o.z)(z.y,ee)}},5577:(it,ye,x)=>{x.d(ye,{z:()=>se});var o=x(4004),z=x(8421),V=x(4482),ee=x(9672),J=x(5403),Y=x(576);function se(ae,P,L=1/0){return(0,Y.m)(P)?se((G,xe)=>(0,o.U)((we,pe)=>P(G,we,xe,pe))((0,z.Xf)(ae(G,xe))),L):("number"==typeof P&&(L=P),(0,V.e)((G,xe)=>function oe(ae,P,L,G,xe,we,pe,Ke){const de=[];let re=0,We=0,ct=!1;const Ce=()=>{ct&&!de.length&&!re&&P.complete()},Te=Fe=>re<G?ge(Fe):de.push(Fe),ge=Fe=>{we&&P.next(Fe),re++;let ke=!1;(0,z.Xf)(L(Fe,We++)).subscribe((0,J.x)(P,ie=>{xe?.(ie),we?Te(ie):P.next(ie)},()=>{ke=!0},void 0,()=>{if(ke)try{for(re--;de.length&&re<G;){const ie=de.shift();pe?(0,ee.f)(P,pe,()=>ge(ie)):ge(ie)}Ce()}catch(ie){P.error(ie)}}))};return ae.subscribe((0,J.x)(P,Te,()=>{ct=!0,Ce()})),()=>{Ke?.()}}(G,xe,ae,L)))}},5363:(it,ye,x)=>{x.d(ye,{Q:()=>ee});var o=x(9672),z=x(4482),V=x(5403);function ee(J,oe=0){return(0,z.e)((Y,se)=>{Y.subscribe((0,V.x)(se,ae=>(0,o.f)(se,J,()=>se.next(ae),oe),()=>(0,o.f)(se,J,()=>se.complete(),oe),ae=>(0,o.f)(se,J,()=>se.error(ae),oe)))})}},3099:(it,ye,x)=>{x.d(ye,{B:()=>J});var o=x(8421),z=x(7579),V=x(930),ee=x(4482);function J(Y={}){const{connector:se=(()=>new z.x),resetOnError:ae=!0,resetOnComplete:P=!0,resetOnRefCountZero:L=!0}=Y;return G=>{let xe,we,pe,Ke=0,de=!1,re=!1;const We=()=>{we?.unsubscribe(),we=void 0},ct=()=>{We(),xe=pe=void 0,de=re=!1},Ce=()=>{const Te=xe;ct(),Te?.unsubscribe()};return(0,ee.e)((Te,ge)=>{Ke++,!re&&!de&&We();const Fe=pe=pe??se();ge.add(()=>{Ke--,0===Ke&&!re&&!de&&(we=oe(Ce,L))}),Fe.subscribe(ge),!xe&&Ke>0&&(xe=new V.Hp({next:ke=>Fe.next(ke),error:ke=>{re=!0,We(),we=oe(ct,ae,ke),Fe.error(ke)},complete:()=>{de=!0,We(),we=oe(ct,P),Fe.complete()}}),(0,o.Xf)(Te).subscribe(xe))})(G)}}function oe(Y,se,...ae){if(!0===se)return void Y();if(!1===se)return;const P=new V.Hp({next:()=>{P.unsubscribe(),Y()}});return se(...ae).subscribe(P)}},9468:(it,ye,x)=>{x.d(ye,{R:()=>z});var o=x(4482);function z(V,ee=0){return(0,o.e)((J,oe)=>{oe.add(V.schedule(()=>J.subscribe(oe),ee))})}},8505:(it,ye,x)=>{x.d(ye,{b:()=>J});var o=x(576),z=x(4482),V=x(5403),ee=x(4671);function J(oe,Y,se){const ae=(0,o.m)(oe)||Y||se?{next:oe,error:Y,complete:se}:oe;return ae?(0,z.e)((P,L)=>{var G;null===(G=ae.subscribe)||void 0===G||G.call(ae);let xe=!0;P.subscribe((0,V.x)(L,we=>{var pe;null===(pe=ae.next)||void 0===pe||pe.call(ae,we),L.next(we)},()=>{var we;xe=!1,null===(we=ae.complete)||void 0===we||we.call(ae),L.complete()},we=>{var pe;xe=!1,null===(pe=ae.error)||void 0===pe||pe.call(ae,we),L.error(we)},()=>{var we,pe;xe&&(null===(we=ae.unsubscribe)||void 0===we||we.call(ae)),null===(pe=ae.finalize)||void 0===pe||pe.call(ae)}))}):ee.y}},4408:(it,ye,x)=>{x.d(ye,{o:()=>J});var o=x(727);class z extends o.w0{constructor(Y,se){super()}schedule(Y,se=0){return this}}const V={setInterval(oe,Y,...se){const{delegate:ae}=V;return ae?.setInterval?ae.setInterval(oe,Y,...se):setInterval(oe,Y,...se)},clearInterval(oe){const{delegate:Y}=V;return(Y?.clearInterval||clearInterval)(oe)},delegate:void 0};var ee=x(8737);class J extends z{constructor(Y,se){super(Y,se),this.scheduler=Y,this.work=se,this.pending=!1}schedule(Y,se=0){var ae;if(this.closed)return this;this.state=Y;const P=this.id,L=this.scheduler;return null!=P&&(this.id=this.recycleAsyncId(L,P,se)),this.pending=!0,this.delay=se,this.id=null!==(ae=this.id)&&void 0!==ae?ae:this.requestAsyncId(L,this.id,se),this}requestAsyncId(Y,se,ae=0){return V.setInterval(Y.flush.bind(Y,this),ae)}recycleAsyncId(Y,se,ae=0){if(null!=ae&&this.delay===ae&&!1===this.pending)return se;null!=se&&V.clearInterval(se)}execute(Y,se){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ae=this._execute(Y,se);if(ae)return ae;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Y,se){let P,ae=!1;try{this.work(Y)}catch(L){ae=!0,P=L||new Error("Scheduled action threw falsy error")}if(ae)return this.unsubscribe(),P}unsubscribe(){if(!this.closed){const{id:Y,scheduler:se}=this,{actions:ae}=se;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ee.P)(ae,this),null!=Y&&(this.id=this.recycleAsyncId(se,Y,null)),this.delay=null,super.unsubscribe()}}}},640:(it,ye,x)=>{x.d(ye,{v:()=>V});const o={now:()=>(o.delegate||Date).now(),delegate:void 0};class z{constructor(J,oe=z.now){this.schedulerActionCtor=J,this.now=oe}schedule(J,oe=0,Y){return new this.schedulerActionCtor(this,J).schedule(Y,oe)}}z.now=o.now;class V extends z{constructor(J,oe=z.now){super(J,oe),this.actions=[],this._active=!1}flush(J){const{actions:oe}=this;if(this._active)return void oe.push(J);let Y;this._active=!0;do{if(Y=J.execute(J.state,J.delay))break}while(J=oe.shift());if(this._active=!1,Y){for(;J=oe.shift();)J.unsubscribe();throw Y}}}},4986:(it,ye,x)=>{x.d(ye,{P:()=>ee,z:()=>V});var o=x(4408);const V=new(x(640).v)(o.o),ee=V},3410:(it,ye,x)=>{x.d(ye,{z:()=>o});const o={setTimeout(z,V,...ee){const{delegate:J}=o;return J?.setTimeout?J.setTimeout(z,V,...ee):setTimeout(z,V,...ee)},clearTimeout(z){const{delegate:V}=o;return(V?.clearTimeout||clearTimeout)(z)},delegate:void 0}},2202:(it,ye,x)=>{x.d(ye,{h:()=>z});const z=function o(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(it,ye,x)=>{x.d(ye,{L:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(it,ye,x)=>{x.d(ye,{_6:()=>oe,jO:()=>ee,yG:()=>J});var o=x(576),z=x(3532);function V(Y){return Y[Y.length-1]}function ee(Y){return(0,o.m)(V(Y))?Y.pop():void 0}function J(Y){return(0,z.K)(V(Y))?Y.pop():void 0}function oe(Y,se){return"number"==typeof V(Y)?Y.pop():se}},8737:(it,ye,x)=>{function o(z,V){if(z){const ee=z.indexOf(V);0<=ee&&z.splice(ee,1)}}x.d(ye,{P:()=>o})},3888:(it,ye,x)=>{function o(z){const ee=z(J=>{Error.call(J),J.stack=(new Error).stack});return ee.prototype=Object.create(Error.prototype),ee.prototype.constructor=ee,ee}x.d(ye,{d:()=>o})},2806:(it,ye,x)=>{x.d(ye,{O:()=>ee,x:()=>V});var o=x(2416);let z=null;function V(J){if(o.v.useDeprecatedSynchronousErrorHandling){const oe=!z;if(oe&&(z={errorThrown:!1,error:null}),J(),oe){const{errorThrown:Y,error:se}=z;if(z=null,Y)throw se}}else J()}function ee(J){o.v.useDeprecatedSynchronousErrorHandling&&z&&(z.errorThrown=!0,z.error=J)}},9672:(it,ye,x)=>{function o(z,V,ee,J=0,oe=!1){const Y=V.schedule(function(){ee(),oe?z.add(this.schedule(null,J)):this.unsubscribe()},J);if(z.add(Y),!oe)return Y}x.d(ye,{f:()=>o})},4671:(it,ye,x)=>{function o(z){return z}x.d(ye,{y:()=>o})},1144:(it,ye,x)=>{x.d(ye,{z:()=>o});const o=z=>z&&"number"==typeof z.length&&"function"!=typeof z},2206:(it,ye,x)=>{x.d(ye,{D:()=>z});var o=x(576);function z(V){return Symbol.asyncIterator&&(0,o.m)(V?.[Symbol.asyncIterator])}},576:(it,ye,x)=>{function o(z){return"function"==typeof z}x.d(ye,{m:()=>o})},3670:(it,ye,x)=>{x.d(ye,{c:()=>V});var o=x(8822),z=x(576);function V(ee){return(0,z.m)(ee[o.L])}},6495:(it,ye,x)=>{x.d(ye,{T:()=>V});var o=x(2202),z=x(576);function V(ee){return(0,z.m)(ee?.[o.h])}},8239:(it,ye,x)=>{x.d(ye,{t:()=>z});var o=x(576);function z(V){return(0,o.m)(V?.then)}},3260:(it,ye,x)=>{x.d(ye,{L:()=>ee,Q:()=>V});var o=x(655),z=x(576);function V(J){return(0,o.FC)(this,arguments,function*(){const Y=J.getReader();try{for(;;){const{value:se,done:ae}=yield(0,o.qq)(Y.read());if(ae)return yield(0,o.qq)(void 0);yield yield(0,o.qq)(se)}}finally{Y.releaseLock()}})}function ee(J){return(0,z.m)(J?.getReader)}},3532:(it,ye,x)=>{x.d(ye,{K:()=>z});var o=x(576);function z(V){return V&&(0,o.m)(V.schedule)}},4482:(it,ye,x)=>{x.d(ye,{A:()=>z,e:()=>V});var o=x(576);function z(ee){return(0,o.m)(ee?.lift)}function V(ee){return J=>{if(z(J))return J.lift(function(oe){try{return ee(oe,this)}catch(Y){this.error(Y)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(it,ye,x)=>{function o(){}x.d(ye,{Z:()=>o})},9635:(it,ye,x)=>{x.d(ye,{U:()=>V,z:()=>z});var o=x(4671);function z(...ee){return V(ee)}function V(ee){return 0===ee.length?o.y:1===ee.length?ee[0]:function(oe){return ee.reduce((Y,se)=>se(Y),oe)}}},7849:(it,ye,x)=>{x.d(ye,{h:()=>V});var o=x(2416),z=x(3410);function V(ee){z.z.setTimeout(()=>{const{onUnhandledError:J}=o.v;if(!J)throw ee;J(ee)})}},4532:(it,ye,x)=>{function o(z){return new TypeError(`You provided ${null!==z&&"object"==typeof z?"an invalid object":`'${z}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}x.d(ye,{z:()=>o})},655:(it,ye,x)=>{function ee(X,le){var fe={};for(var Ee in X)Object.prototype.hasOwnProperty.call(X,Ee)&&le.indexOf(Ee)<0&&(fe[Ee]=X[Ee]);if(null!=X&&"function"==typeof Object.getOwnPropertySymbols){var De=0;for(Ee=Object.getOwnPropertySymbols(X);De<Ee.length;De++)le.indexOf(Ee[De])<0&&Object.prototype.propertyIsEnumerable.call(X,Ee[De])&&(fe[Ee[De]]=X[Ee[De]])}return fe}function J(X,le,fe,Ee){var dt,De=arguments.length,me=De<3?le:null===Ee?Ee=Object.getOwnPropertyDescriptor(le,fe):Ee;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)me=Reflect.decorate(X,le,fe,Ee);else for(var Nt=X.length-1;Nt>=0;Nt--)(dt=X[Nt])&&(me=(De<3?dt(me):De>3?dt(le,fe,me):dt(le,fe))||me);return De>3&&me&&Object.defineProperty(le,fe,me),me}function oe(X,le){return function(fe,Ee){le(fe,Ee,X)}}function G(X,le,fe,Ee){return new(fe||(fe=Promise))(function(me,dt){function Nt(Wt){try{ze(Ee.next(Wt))}catch(Bt){dt(Bt)}}function nn(Wt){try{ze(Ee.throw(Wt))}catch(Bt){dt(Bt)}}function ze(Wt){Wt.done?me(Wt.value):function De(me){return me instanceof fe?me:new fe(function(dt){dt(me)})}(Wt.value).then(Nt,nn)}ze((Ee=Ee.apply(X,le||[])).next())})}function Ce(X){return this instanceof Ce?(this.v=X,this):new Ce(X)}function Te(X,le,fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var De,Ee=fe.apply(X,le||[]),me=[];return De={},dt("next"),dt("throw"),dt("return"),De[Symbol.asyncIterator]=function(){return this},De;function dt(Zt){Ee[Zt]&&(De[Zt]=function(Ur){return new Promise(function(wn,Mn){me.push([Zt,Ur,wn,Mn])>1||Nt(Zt,Ur)})})}function Nt(Zt,Ur){try{!function nn(Zt){Zt.value instanceof Ce?Promise.resolve(Zt.value.v).then(ze,Wt):Bt(me[0][2],Zt)}(Ee[Zt](Ur))}catch(wn){Bt(me[0][3],wn)}}function ze(Zt){Nt("next",Zt)}function Wt(Zt){Nt("throw",Zt)}function Bt(Zt,Ur){Zt(Ur),me.shift(),me.length&&Nt(me[0][0],me[0][1])}}function Fe(X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fe,le=X[Symbol.asyncIterator];return le?le.call(X):(X=function Ke(X){var le="function"==typeof Symbol&&Symbol.iterator,fe=le&&X[le],Ee=0;if(fe)return fe.call(X);if(X&&"number"==typeof X.length)return{next:function(){return X&&Ee>=X.length&&(X=void 0),{value:X&&X[Ee++],done:!X}}};throw new TypeError(le?"Object is not iterable.":"Symbol.iterator is not defined.")}(X),fe={},Ee("next"),Ee("throw"),Ee("return"),fe[Symbol.asyncIterator]=function(){return this},fe);function Ee(me){fe[me]=X[me]&&function(dt){return new Promise(function(Nt,nn){!function De(me,dt,Nt,nn){Promise.resolve(nn).then(function(ze){me({value:ze,done:Nt})},dt)}(Nt,nn,(dt=X[me](dt)).done,dt.value)})}}}x.d(ye,{FC:()=>Te,KL:()=>Fe,_T:()=>ee,fM:()=>oe,gn:()=>J,mG:()=>G,qq:()=>Ce})},4650:(it,ye,x)=>{x.d(ye,{$8M:()=>Kl,$Z:()=>Q1,AA_:()=>ft,AFp:()=>rD,ALo:()=>OT,AaK:()=>se,AcB:()=>Ub,AsE:()=>Ip,BQk:()=>oy,CHM:()=>Am,CRH:()=>h0,CZH:()=>hg,CqO:()=>gl,D6c:()=>JM,DjV:()=>gy,EJc:()=>lD,EiD:()=>T1,EpF:()=>H,F$t:()=>Rw,F4k:()=>xs,FYo:()=>Id,FiY:()=>ue,G48:()=>F0,Gf:()=>d0,GfV:()=>P1,GkF:()=>Mw,Gpc:()=>L,Gre:()=>Mp,Hsn:()=>dA,IIB:()=>pP,Ikx:()=>nT,JOm:()=>wo,JVY:()=>wC,KtG:()=>Ol,L6J:()=>E0,L6k:()=>m1,LAX:()=>TC,LFG:()=>Kt,LSH:()=>cu,Lbi:()=>sD,Lck:()=>QA,MAs:()=>Aw,MGl:()=>sy,MMx:()=>Gy,NdJ:()=>zd,O4$:()=>Hc,OlP:()=>hn,Oqu:()=>Jd,PXZ:()=>yg,Q6J:()=>ny,QGY:()=>un,QP$:()=>wt,QbO:()=>TM,Qsj:()=>WC,QtT:()=>YA,R0b:()=>zr,RDi:()=>fC,Rgc:()=>Pu,SBq:()=>cl,SDv:()=>Ru,Sil:()=>pr,Suo:()=>ng,TTD:()=>$a,TgZ:()=>qd,Tol:()=>jw,Udp:()=>Zd,VKq:()=>xT,W1O:()=>HT,WLB:()=>zp,X6Q:()=>P0,XFs:()=>Ze,Xpm:()=>_e,Xts:()=>Wf,Y36:()=>hu,YKP:()=>JA,YNc:()=>Sw,Yjl:()=>j,Yz7:()=>ze,Z0I:()=>Ur,ZZ4:()=>ph,_Bn:()=>Hy,_UZ:()=>vp,_Vd:()=>fa,_c5:()=>MD,_uU:()=>qw,aQ5:()=>Hb,aQg:()=>Eg,ahi:()=>nd,c2e:()=>_P,cJS:()=>Bt,cg1:()=>kp,dDg:()=>wP,dqk:()=>ln,eBb:()=>jf,eFA:()=>wD,ekj:()=>Kd,eoX:()=>_D,f3M:()=>Cn,g9A:()=>dh,gxx:()=>ll,h0i:()=>Rs,hGG:()=>YM,hij:()=>Qd,i9L:()=>HI,iGM:()=>tg,ifc:()=>ht,ip1:()=>nD,jDz:()=>di,kEZ:()=>kT,kL8:()=>Ty,kYT:()=>cr,kcU:()=>ff,lG2:()=>O,lcZ:()=>Zp,lqb:()=>ha,lri:()=>gD,mCW:()=>ca,n5z:()=>yo,oAB:()=>zt,oJD:()=>u_,oxw:()=>kw,pB0:()=>DC,pQV:()=>ks,q3G:()=>xn,q4F:()=>F1,qLn:()=>ga,qOj:()=>Z_,qZA:()=>Cu,qzn:()=>zo,rWj:()=>mD,r_U:()=>gP,s9C:()=>Ow,sBO:()=>bl,sIi:()=>Hd,s_b:()=>Yp,soG:()=>I0,tBr:()=>Z,tb:()=>aD,tp0:()=>tt,uIk:()=>va,vHH:()=>pe,vpe:()=>is,wAp:()=>vt,xp6:()=>H1,ynx:()=>iy,z2F:()=>R0,z3N:()=>qo,zSh:()=>m_,zs3:()=>Do});var o=x(7579),z=x(727),V=x(9751),ee=x(6451),J=x(3099);function oe(a){for(let l in a)if(a[l]===oe)return l;throw Error("Could not find renamed property on target object.")}function Y(a,l){for(const u in l)l.hasOwnProperty(u)&&!a.hasOwnProperty(u)&&(a[u]=l[u])}function se(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(se).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const u=l.indexOf("\n");return-1===u?l:l.substring(0,u)}function ae(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const P=oe({__forward_ref__:oe});function L(a){return a.__forward_ref__=L,a.toString=function(){return se(this())},a}function G(a){return xe(a)?a():a}function xe(a){return"function"==typeof a&&a.hasOwnProperty(P)&&a.__forward_ref__===L}class pe extends Error{constructor(l,u){super(function Ke(a,l){return`NG0${Math.abs(a)}${l?": "+l.trim():""}`}(l,u)),this.code=l}}function de(a){return"string"==typeof a?a:null==a?"":String(a)}function Te(a,l){throw new pe(-201,!1)}function me(a,l,u,d){throw new Error(`ASSERTION ERROR: ${a}`+(null==d?"":` [Expected=> ${u} ${d} ${l} <=Actual]`))}function ze(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function Bt(a){return{providers:a.providers||[],imports:a.imports||[]}}function Zt(a){return wn(a,co)||wn(a,as)}function Ur(a){return null!==Zt(a)}function wn(a,l){return a.hasOwnProperty(l)?a[l]:null}function ki(a){return a&&(a.hasOwnProperty(ti)||a.hasOwnProperty(Vs))?a[ti]:null}const co=oe({\u0275prov:oe}),ti=oe({\u0275inj:oe}),as=oe({ngInjectableDef:oe}),Vs=oe({ngInjectorDef:oe});var Ze=(()=>((Ze=Ze||{})[Ze.Default=0]="Default",Ze[Ze.Host=1]="Host",Ze[Ze.Self=2]="Self",Ze[Ze.SkipSelf=4]="SkipSelf",Ze[Ze.Optional=8]="Optional",Ze))();let Nr;function ur(a){const l=Nr;return Nr=a,l}function Yi(a,l,u){const d=Zt(a);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:u&Ze.Optional?null:void 0!==l?l:void Te(se(a))}function En(a){return{toString:a}.toString()}var Xn=(()=>((Xn=Xn||{})[Xn.OnPush=0]="OnPush",Xn[Xn.Default=1]="Default",Xn))(),ht=(()=>{return(a=ht||(ht={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",ht;var a})();const ln=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),vr={},It=[],ls=oe({\u0275cmp:oe}),dn=oe({\u0275dir:oe}),Lo=oe({\u0275pipe:oe}),Qt=oe({\u0275mod:oe}),xr=oe({\u0275fac:oe}),$r=oe({__NG_ELEMENT_ID__:oe});let Ye=0;function _e(a){return En(()=>{const u=!0===a.standalone,d={},f={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===Xn.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&a.dependencies||null,getStandaloneInjector:null,selectors:a.selectors||It,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||ht.Emulated,id:"c"+Ye++,styles:a.styles||It,_:null,setInput:null,schemas:a.schemas||null,tView:null},p=a.dependencies,_=a.features;return f.inputs=F(a.inputs,d),f.outputs=F(a.outputs),_&&_.forEach(y=>y(f)),f.directiveDefs=p?()=>("function"==typeof p?p():p).map(At).filter(Vt):null,f.pipeDefs=p?()=>("function"==typeof p?p():p).map(Ve).filter(Vt):null,f})}function At(a){return te(a)||W(a)}function Vt(a){return null!==a}function zt(a){return En(()=>({type:a.type,bootstrap:a.bootstrap||It,declarations:a.declarations||It,imports:a.imports||It,exports:a.exports||It,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function cr(a,l){return En(()=>{const u=$t(a,!0);u.declarations=l.declarations||It,u.imports=l.imports||It,u.exports=l.exports||It})}function F(a,l){if(null==a)return vr;const u={};for(const d in a)if(a.hasOwnProperty(d)){let f=a[d],p=f;Array.isArray(f)&&(p=f[1],f=f[0]),u[f]=d,l&&(l[f]=p)}return u}const O=_e;function j(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function te(a){return a[ls]||null}function W(a){return a[dn]||null}function Ve(a){return a[Lo]||null}function wt(a){const l=te(a)||W(a)||Ve(a);return null!==l&&l.standalone}function $t(a,l){const u=a[Qt]||null;if(!u&&!0===l)throw new Error(`Type ${se(a)} does not have '\u0275mod' property.`);return u}function dr(a){return Array.isArray(a)&&"object"==typeof a[1]}function Ti(a){return Array.isArray(a)&&!0===a[1]}function xl(a){return 0!=(8&a.flags)}function Tc(a){return 2==(2&a.flags)}function Dc(a){return 1==(1&a.flags)}function ni(a){return null!==a.template}function wm(a){return 0!=(256&a[2])}function Vo(a,l){return a.hasOwnProperty(xr)?a[xr]:null}class Dm{constructor(l,u,d){this.previousValue=l,this.currentValue=u,this.firstChange=d}isFirstChange(){return this.firstChange}}function $a(){return tf}function tf(a){return a.type.prototype.ngOnChanges&&(a.setInput=Ic),kl}function kl(){const a=Em(this),l=a?.current;if(l){const u=a.previous;if(u===vr)a.previous=l;else for(let d in l)u[d]=l[d];a.current=null,this.ngOnChanges(l)}}function Ic(a,l,u,d){const f=Em(a)||function tr(a,l){return a[nf]=l}(a,{previous:vr,current:null}),p=f.current||(f.current={}),_=f.previous,y=this.declaredInputs[u],b=_[y];p[y]=new Dm(b&&b.currentValue,l,_===vr),a[d]=l}$a.ngInherit=!0;const nf="__ngSimpleChanges__";function Em(a){return a[nf]||null}function jn(a){for(;Array.isArray(a);)a=a[0];return a}function Pi(a,l){return jn(l[a])}function kr(a,l){return jn(l[a.index])}function Rl(a,l){return a.data[l]}function ds(a,l){return a[l]}function Xt(a,l){const u=l[a];return dr(u)?u:u[0]}function zs(a){return 64==(64&a[2])}function Qi(a,l){return null==l?null:a[l]}function lf(a){a[18]=0}function Gn(a,l){a[5]+=l;let u=a,d=a[3];for(;null!==d&&(1===l&&1===u[5]||-1===l&&0===u[5]);)d[5]+=l,u=d,d=d[3]}const St={lFrame:Uc(null),bindingsEnabled:!0};function hs(){return St.bindingsEnabled}function be(){return St.lFrame.lView}function qt(){return St.lFrame.tView}function Am(a){return St.lFrame.contextLView=a,a[8]}function Ol(a){return St.lFrame.contextLView=null,a}function qn(){let a=Pl();for(;null!==a&&64===a.type;)a=a.parent;return a}function Pl(){return St.lFrame.currentTNode}function Fl(){const a=St.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}function Ei(a,l){const u=St.lFrame;u.currentTNode=a,u.isParent=l}function kc(){return St.lFrame.isParent}function Ll(){St.lFrame.isParent=!1}function zn(){const a=St.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function Xi(){return St.lFrame.bindingIndex}function qa(){return St.lFrame.bindingIndex++}function mo(a){const l=St.lFrame,u=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,u}function Pc(a){St.lFrame.inI18n=a}function Lb(a,l){const u=St.lFrame;u.bindingIndex=u.bindingRootIndex=a,Bl(l)}function Bl(a){St.lFrame.currentDirectiveIndex=a}function Lc(){return St.lFrame.currentQueryIndex}function Bc(a){St.lFrame.currentQueryIndex=a}function Vc(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function cf(a,l,u){if(u&Ze.SkipSelf){let f=l,p=a;for(;!(f=f.parent,null!==f||u&Ze.Host||(f=Vc(p),null===f||(p=p[15],10&f.type))););if(null===f)return!1;l=f,a=p}const d=St.lFrame=xm();return d.currentTNode=l,d.lView=a,!0}function Vl(a){const l=xm(),u=a[1];St.lFrame=l,l.currentTNode=u.firstChild,l.lView=a,l.tView=u,l.contextLView=a,l.bindingIndex=u.bindingStartIndex,l.inI18n=!1}function xm(){const a=St.lFrame,l=null===a?null:a.child;return null===l?Uc(a):l}function Uc(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function km(){const a=St.lFrame;return St.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const df=km;function fs(){const a=km();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function nr(){return St.lFrame.selectedIndex}function Uo(a){St.lFrame.selectedIndex=a}function vn(){const a=St.lFrame;return Rl(a.tView,a.selectedIndex)}function Hc(){St.lFrame.currentNamespace="svg"}function ff(){!function jc(){St.lFrame.currentNamespace=null}()}function Hl(a,l){for(let u=l.directiveStart,d=l.directiveEnd;u<d;u++){const p=a.data[u].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:y,ngAfterViewInit:b,ngAfterViewChecked:E,ngOnDestroy:C}=p;_&&(a.contentHooks||(a.contentHooks=[])).push(-u,_),y&&((a.contentHooks||(a.contentHooks=[])).push(u,y),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(u,y)),b&&(a.viewHooks||(a.viewHooks=[])).push(-u,b),E&&((a.viewHooks||(a.viewHooks=[])).push(u,E),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(u,E)),null!=C&&(a.destroyHooks||(a.destroyHooks=[])).push(u,C)}}function ps(a,l,u){ms(a,l,3,u)}function gs(a,l,u,d){(3&a[2])===u&&ms(a,l,u,d)}function qc(a,l){let u=a[2];(3&u)===l&&(u&=2047,u+=1,a[2]=u)}function ms(a,l,u,d){const p=d??-1,_=l.length-1;let y=0;for(let b=void 0!==d?65535&a[18]:0;b<_;b++)if("number"==typeof l[b+1]){if(y=l[b],null!=d&&y>=d)break}else l[b]<0&&(a[18]+=65536),(y<p||-1==p)&&(zc(a,u,l,b),a[18]=(4294901760&a[18])+b+2),b++}function zc(a,l,u,d){const f=u[d]<0,p=u[d+1],y=a[f?-u[d]:u[d]];if(f){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{p.call(y)}finally{}}}else try{p.call(y)}finally{}}class Zs{constructor(l,u,d){this.factory=l,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=d}}function Ks(a,l,u){let d=0;for(;d<u.length;){const f=u[d];if("number"==typeof f){if(0!==f)break;d++;const p=u[d++],_=u[d++],y=u[d++];a.setAttribute(l,_,y,p)}else{const p=f,_=u[++d];Wc(p)?a.setProperty(l,p,_):a.setAttribute(l,p,_),d++}}return d}function Gl(a){return 3===a||4===a||6===a}function Wc(a){return 64===a.charCodeAt(0)}function Wa(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let u=-1;for(let d=0;d<l.length;d++){const f=l[d];"number"==typeof f?u=f:0===u||mf(a,u,f,null,-1===u||2===u?l[++d]:null)}}return a}function mf(a,l,u,d,f){let p=0,_=a.length;if(-1===l)_=-1;else for(;p<a.length;){const y=a[p++];if("number"==typeof y){if(y===l){_=-1;break}if(y>l){_=p-1;break}}}for(;p<a.length;){const y=a[p];if("number"==typeof y)break;if(y===u){if(null===d)return void(null!==f&&(a[p+1]=f));if(d===a[p+1])return void(a[p+2]=f)}p++,null!==d&&p++,null!==f&&p++}-1!==_&&(a.splice(_,0,l),p=_+1),a.splice(p++,0,u),null!==d&&a.splice(p++,0,d),null!==f&&a.splice(p++,0,f)}function _f(a){return-1!==a}function rr(a){return 32767&a}function Ys(a,l){let u=function yf(a){return a>>16}(a),d=l;for(;u>0;)d=d[15],u--;return d}let Zc=!0;function Za(a){const l=Zc;return Zc=a,l}let bf=0;const Fi={};function _s(a,l){const u=ql(a,l);if(-1!==u)return u;const d=l[1];d.firstCreatePass&&(a.injectorIndex=l.length,Yc(d.data,a),Yc(l,null),Yc(d.blueprint,null));const f=zl(a,l),p=a.injectorIndex;if(_f(f)){const _=rr(f),y=Ys(f,l),b=y[1].data;for(let E=0;E<8;E++)l[p+E]=y[_+E]|b[_+E]}return l[p+8]=f,p}function Yc(a,l){a.push(0,0,0,0,0,0,0,0,l)}function ql(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function zl(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let u=0,d=null,f=l;for(;null!==f;){if(d=Qs(f),null===d)return-1;if(u++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|u<<16}return-1}function ys(a,l,u){!function wf(a,l,u){let d;"string"==typeof u?d=u.charCodeAt(0)||0:u.hasOwnProperty($r)&&(d=u[$r]),null==d&&(d=u[$r]=bf++);const f=255&d;l.data[a+(f>>5)]|=1<<f}(a,l,u)}function Ka(a,l,u){if(u&Ze.Optional||void 0!==a)return a;Te()}function Jc(a,l,u,d){if(u&Ze.Optional&&void 0===d&&(d=null),0==(u&(Ze.Self|Ze.Host))){const f=a[9],p=ur(void 0);try{return f?f.get(l,d,u&Ze.Optional):Yi(l,d,u&Ze.Optional)}finally{ur(p)}}return Ka(d,0,u)}function Qc(a,l,u,d=Ze.Default,f){if(null!==a){if(1024&l[2]){const _=function Fm(a,l,u,d,f){let p=a,_=l;for(;null!==p&&null!==_&&1024&_[2]&&!(256&_[2]);){const y=Df(p,_,u,d|Ze.Self,Fi);if(y!==Fi)return y;let b=p.parent;if(!b){const E=_[21];if(E){const C=E.get(u,Fi,d);if(C!==Fi)return C}b=Qs(_),_=_[15]}p=b}return f}(a,l,u,d,Fi);if(_!==Fi)return _}const p=Df(a,l,u,d,Fi);if(p!==Fi)return p}return Jc(l,u,d,f)}function Df(a,l,u,d,f){const p=function Pm(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty($r)?a[$r]:void 0;return"number"==typeof l?l>=0?255&l:ed:l}(u);if("function"==typeof p){if(!cf(l,a,d))return d&Ze.Host?Ka(f,0,d):Jc(l,u,d,f);try{const _=p(d);if(null!=_||d&Ze.Optional)return _;Te()}finally{df()}}else if("number"==typeof p){let _=null,y=ql(a,l),b=-1,E=d&Ze.Host?l[16][6]:null;for((-1===y||d&Ze.SkipSelf)&&(b=-1===y?zl(a,l):l[y+8],-1!==b&&Xc(d,!1)?(_=l[1],y=rr(b),l=Ys(b,l)):y=-1);-1!==y;){const C=l[1];if(Zl(p,y,C.data)){const N=Ef(y,l,u,_,d,E);if(N!==Fi)return N}b=l[y+8],-1!==b&&Xc(d,l[1].data[y+8]===E)&&Zl(p,y,l)?(_=C,y=rr(b),l=Ys(b,l)):y=-1}}return f}function Ef(a,l,u,d,f,p){const _=l[1],y=_.data[a+8],C=Wl(y,_,u,null==d?Tc(y)&&Zc:d!=_&&0!=(3&y.type),f&Ze.Host&&p===y);return null!==C?Ho(l,_,C,y):Fi}function Wl(a,l,u,d,f){const p=a.providerIndexes,_=l.data,y=1048575&p,b=a.directiveStart,C=p>>20,B=f?y+C:a.directiveEnd;for(let q=d?y:y+C;q<B;q++){const ce=_[q];if(q<b&&u===ce||q>=b&&ce.type===u)return q}if(f){const q=_[b];if(q&&ni(q)&&q.type===u)return b}return null}function Ho(a,l,u,d){let f=a[u];const p=l.data;if(function Rm(a){return a instanceof Zs}(f)){const _=f;_.resolving&&function We(a,l){const u=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new pe(-200,`Circular dependency in DI detected for ${a}${u}`)}(function re(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():de(a)}(p[u]));const y=Za(_.canSeeViewProviders);_.resolving=!0;const b=_.injectImpl?ur(_.injectImpl):null;cf(a,d,Ze.Default);try{f=a[u]=_.factory(void 0,p,a,d),l.firstCreatePass&&u>=d.directiveStart&&function Gc(a,l,u){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:p}=l.type.prototype;if(d){const _=tf(l);(u.preOrderHooks||(u.preOrderHooks=[])).push(a,_),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,_)}f&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-a,f),p&&((u.preOrderHooks||(u.preOrderHooks=[])).push(a,p),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,p))}(u,p[u],l)}finally{null!==b&&ur(b),Za(y),_.resolving=!1,df()}}return f}function Zl(a,l,u){return!!(u[l+(a>>5)]&1<<a)}function Xc(a,l){return!(a&Ze.Self||a&Ze.Host&&l)}class Js{constructor(l,u){this._tNode=l,this._lView=u}get(l,u,d){return Qc(this._tNode,this._lView,l,d,u)}}function ed(){return new Js(qn(),be())}function yo(a){return En(()=>{const l=a.prototype.constructor,u=l[xr]||Ya(l),d=Object.prototype;let f=Object.getPrototypeOf(a.prototype).constructor;for(;f&&f!==d;){const p=f[xr]||Ya(f);if(p&&p!==u)return p;f=Object.getPrototypeOf(f)}return p=>new p})}function Ya(a){return xe(a)?()=>{const l=Ya(G(a));return l&&l()}:Vo(a)}function Qs(a){const l=a[1],u=l.type;return 2===u?l.declTNode:1===u?a[6]:null}function Kl(a){return function Tf(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const u=a.attrs;if(u){const d=u.length;let f=0;for(;f<d;){const p=u[f];if(Gl(p))break;if(0===p)f+=2;else if("number"==typeof p)for(f++;f<d&&"string"==typeof u[f];)f++;else{if(p===l)return u[f+1];f+=2}}}return null}(qn(),a)}const Xs="__parameters__",ea="__prop__metadata__";function td(a){return function(...u){if(a){const d=a(...u);for(const f in d)this[f]=d[f]}}}function ta(a,l,u){return En(()=>{const d=td(l);function f(...p){if(this instanceof f)return d.apply(this,p),this;const _=new f(...p);return y.annotation=_,y;function y(b,E,C){const N=b.hasOwnProperty(Xs)?b[Xs]:Object.defineProperty(b,Xs,{value:[]})[Xs];for(;N.length<=C;)N.push(null);return(N[C]=N[C]||[]).push(_),b}}return u&&(f.prototype=Object.create(u.prototype)),f.prototype.ngMetadataName=a,f.annotationCls=f,f})}function oi(a,l,u,d){return En(()=>{const f=td(l);function p(..._){if(this instanceof p)return f.apply(this,_),this;const y=new p(..._);return function b(E,C){const N=E.constructor,B=N.hasOwnProperty(ea)?N[ea]:Object.defineProperty(N,ea,{value:{}})[ea];B[C]=B.hasOwnProperty(C)&&B[C]||[],B[C].unshift(y),d&&d(E,C,..._)}}return u&&(p.prototype=Object.create(u.prototype)),p.prototype.ngMetadataName=a,p.annotationCls=p,p})}const nd=ta("Attribute",a=>({attributeName:a,__NG_ELEMENT_ID__:()=>Kl(a)}));class hn{constructor(l,u){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=ze({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}class Lm{}const Ub=oi("ContentChildren",(a,l={})=>({selector:a,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:!0,...l}),Lm),Hb=oi("ContentChild",(a,l={})=>({selector:a,first:!0,isViewQuery:!1,descendants:!0,...l}),Lm),HI=oi("ViewChild",(a,l)=>({selector:a,first:!0,isViewQuery:!0,descendants:!0,...l}),Lm);function on(a,l){void 0===l&&(l=a);for(let u=0;u<a.length;u++){let d=a[u];Array.isArray(d)?(l===a&&(l=a.slice(0,u)),on(d,l)):l!==a&&l.push(d)}return l}function vo(a,l){a.forEach(u=>Array.isArray(u)?vo(u,l):l(u))}function ra(a,l,u){l>=a.length?a.push(u):a.splice(l,0,u)}function Tr(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function Qa(a,l){const u=[];for(let d=0;d<a;d++)u.push(l);return u}function Qe(a,l,u){let d=$o(a,l);return d>=0?a[1|d]=u:(d=~d,function Vm(a,l,u,d){let f=a.length;if(f==l)a.push(u,d);else if(1===f)a.push(d,a[0]),a[0]=u;else{for(f--,a.push(a[f-1],a[f]);f>l;)a[f]=a[f-2],f--;a[l]=u,a[l+1]=d}}(a,d,l,u)),d}function rd(a,l){const u=$o(a,l);if(u>=0)return a[1|u]}function $o(a,l){return function Xa(a,l,u){let d=0,f=a.length>>u;for(;f!==d;){const p=d+(f-d>>1),_=a[p<<u];if(l===_)return p<<u;_>l?f=p:d=p+1}return~(f<<u)}(a,l,1)}const Li={},Ql="__NG_DI_FLAG__",Ii="ngTempTokenPath",si=/\n/gm,pn="__source";let bs;function oa(a){const l=bs;return bs=a,l}function Dr(a,l=Ze.Default){if(void 0===bs)throw new pe(-203,!1);return null===bs?Yi(a,void 0,l):bs.get(a,l&Ze.Optional?null:void 0,l)}function Kt(a,l=Ze.Default){return(function Fo(){return Nr}()||Dr)(G(a),l)}function Cn(a,l=Ze.Default){return"number"!=typeof l&&(l=0|(l.optional&&8)|(l.host&&1)|(l.self&&2)|(l.skipSelf&&4)),Kt(a,l)}function w(a){const l=[];for(let u=0;u<a.length;u++){const d=G(a[u]);if(Array.isArray(d)){if(0===d.length)throw new pe(900,!1);let f,p=Ze.Default;for(let _=0;_<d.length;_++){const y=d[_],b=I(y);"number"==typeof b?-1===b?f=y.token:p|=b:f=y}l.push(Kt(f,p))}else l.push(Kt(d))}return l}function T(a,l){return a[Ql]=l,a.prototype[Ql]=l,a}function I(a){return a[Ql]}const Z=T(ta("Inject",a=>({token:a})),-1),ue=T(ta("Optional"),8),tt=T(ta("SkipSelf"),4),ft=T(ta("Host"),1);var wo=(()=>((wo=wo||{})[wo.Important=1]="Important",wo[wo.DashCase=2]="DashCase",wo))();const Nf=/^>|^->|<!--|-->|--!>|<!-$/g,KI=/(<|>)/;const xf=new Map;let Jb=0;const Zm="__ngContext__";function Er(a,l){dr(l)?(a[Zm]=l[20],function JI(a){xf.set(a[20],a)}(l)):a[Zm]=l}let Rf;function Of(a,l){return Rf(a,l)}function cd(a){const l=a[3];return Ti(l)?l[3]:l}function dd(a){return o1(a[13])}function rl(a){return o1(a[4])}function o1(a){for(;null!==a&&!Ti(a);)a=a[4];return a}function su(a,l,u,d,f){if(null!=d){let p,_=!1;Ti(d)?p=d:dr(d)&&(_=!0,d=d[0]);const y=jn(d);0===a&&null!==u?null==f?h1(l,u,y):la(l,u,y,f||null,!0):1===a&&null!==u?la(l,u,y,f||null,!0):2===a?Bf(l,y,_):3===a&&l.destroyNode(y),null!=p&&function cC(a,l,u,d,f){const p=u[7];p!==jn(u)&&su(l,a,d,p,f);for(let y=10;y<u.length;y++){const b=u[y];sl(b[1],b,a,l,d,p)}}(l,a,p,u,f)}}function Pf(a,l){return a.createText(l)}function Ym(a,l,u){a.setValue(l,u)}function Ts(a,l){return a.createComment(function ld(a){return a.replace(Nf,l=>l.replace(KI,"\u200b$1\u200b"))}(l))}function hd(a,l,u){return a.createElement(l,u)}function l1(a,l){const u=a[9],d=u.indexOf(l),f=l[3];512&l[2]&&(l[2]&=-513,Gn(f,-1)),u.splice(d,1)}function Jm(a,l){if(a.length<=10)return;const u=10+l,d=a[u];if(d){const f=d[17];null!==f&&f!==a&&l1(f,d),l>0&&(a[u-1][4]=d[4]);const p=Tr(a,10+l);!function il(a,l){sl(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(d[1],d);const _=p[19];null!==_&&_.detachView(p[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function u1(a,l){if(!(128&l[2])){const u=l[11];u.destroyNode&&sl(a,l,u,3,null,null),function iC(a){let l=a[13];if(!l)return Qm(a[1],a);for(;l;){let u=null;if(dr(l))u=l[13];else{const d=l[10];d&&(u=d)}if(!u){for(;l&&!l[4]&&l!==a;)dr(l)&&Qm(l[1],l),l=l[3];null===l&&(l=a),dr(l)&&Qm(l[1],l),u=l&&l[4]}l=u}}(l)}}function Qm(a,l){if(!(128&l[2])){l[2]&=-65,l[2]|=128,function lC(a,l){let u;if(null!=a&&null!=(u=a.destroyHooks))for(let d=0;d<u.length;d+=2){const f=l[u[d]];if(!(f instanceof Zs)){const p=u[d+1];if(Array.isArray(p))for(let _=0;_<p.length;_+=2){const y=f[p[_]],b=p[_+1];try{b.call(y)}finally{}}else try{p.call(f)}finally{}}}}(a,l),function aC(a,l){const u=a.cleanup,d=l[7];let f=-1;if(null!==u)for(let p=0;p<u.length-1;p+=2)if("string"==typeof u[p]){const _=u[p+1],y="function"==typeof _?_(l):jn(l[_]),b=d[f=u[p+2]],E=u[p+3];"boolean"==typeof E?y.removeEventListener(u[p],b,E):E>=0?d[f=E]():d[f=-E].unsubscribe(),p+=2}else{const _=d[f=u[p+1]];u[p].call(_)}if(null!==d){for(let p=f+1;p<d.length;p++)(0,d[p])();l[7]=null}}(a,l),1===l[1].type&&l[11].destroy();const u=l[17];if(null!==u&&Ti(l[3])){u!==l[3]&&l1(u,l);const d=l[19];null!==d&&d.detachView(a)}!function kf(a){xf.delete(a[20])}(l)}}function c1(a,l,u){return d1(a,l.parent,u)}function d1(a,l,u){let d=l;for(;null!==d&&40&d.type;)d=(l=d).parent;if(null===d)return u[0];if(2&d.flags){const f=a.data[d.directiveStart].encapsulation;if(f===ht.None||f===ht.Emulated)return null}return kr(d,u)}function la(a,l,u,d,f){a.insertBefore(l,u,d,f)}function h1(a,l,u){a.appendChild(l,u)}function Xm(a,l,u,d,f){null!==d?la(a,l,u,d,f):h1(a,l,u)}function to(a,l){return a.parentNode(l)}function t_(a,l,u){return p1(a,l,u)}function n_(a,l,u){return 40&a.type?kr(a,u):null}let Bi,gd,a_,_d,p1=n_;function r_(a,l){p1=a,Bi=l}function Lf(a,l,u,d){const f=c1(a,d,l),p=l[11],y=t_(d.parent||l[6],d,l);if(null!=f)if(Array.isArray(u))for(let b=0;b<u.length;b++)Xm(p,f,u[b],y,!1);else Xm(p,f,u,y,!1);void 0!==Bi&&Bi(p,d,l,u,f)}function ol(a,l){if(null!==l){const u=l.type;if(3&u)return kr(l,a);if(4&u)return fd(-1,a[l.index]);if(8&u){const d=l.child;if(null!==d)return ol(a,d);{const f=a[l.index];return Ti(f)?fd(-1,f):jn(f)}}if(32&u)return Of(l,a)()||jn(a[l.index]);{const d=i_(a,l);return null!==d?Array.isArray(d)?d[0]:ol(cd(a[16]),d):ol(a,l.next)}}return null}function i_(a,l){return null!==l?a[16][6].projection[l.projection]:null}function fd(a,l){const u=10+a+1;if(u<l.length){const d=l[u],f=d[1].firstChild;if(null!==f)return ol(d,f)}return l[7]}function Bf(a,l,u){const d=to(a,l);d&&function e_(a,l,u,d){a.removeChild(l,u,d)}(a,d,l,u)}function pd(a,l,u,d,f,p,_){for(;null!=u;){const y=d[u.index],b=u.type;if(_&&0===l&&(y&&Er(jn(y),d),u.flags|=4),64!=(64&u.flags))if(8&b)pd(a,l,u.child,d,f,p,!1),su(l,a,f,y,p);else if(32&b){const E=Of(u,d);let C;for(;C=E();)su(l,a,f,C,p);su(l,a,f,y,p)}else 16&b?lu(a,l,d,u,f,p):su(l,a,f,y,p);u=_?u.projectionNext:u.next}}function sl(a,l,u,d,f,p){pd(u,d,a.firstChild,l,f,p,!1)}function lu(a,l,u,d,f,p){const _=u[16],b=_[6].projection[d.projection];if(Array.isArray(b))for(let E=0;E<b.length;E++)su(l,a,f,b[E],p);else pd(a,l,b,_[3],f,p,!0)}function Vf(a,l,u){a.setAttribute(l,"style",u)}function Uf(a,l,u){""===u?a.removeAttribute(l,"class"):a.setAttribute(l,"class",u)}function ua(a){return function Hf(){if(void 0===gd&&(gd=null,ln.trustedTypes))try{gd=ln.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return gd}()?.createHTML(a)||a}function fC(a){a_=a}function $f(){return void 0!==a_?a_:typeof document<"u"?document:void 0}function pC(a){return function g1(){if(void 0===_d&&(_d=null,ln.trustedTypes))try{_d=ln.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return _d}()?.createHTML(a)||a}class Ds{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class _C extends Ds{getTypeName(){return"HTML"}}class yC extends Ds{getTypeName(){return"Style"}}class vC extends Ds{getTypeName(){return"Script"}}class l_ extends Ds{getTypeName(){return"URL"}}class no extends Ds{getTypeName(){return"ResourceURL"}}function qo(a){return a instanceof Ds?a.changingThisBreaksApplicationSecurity:a}function zo(a,l){const u=function bC(a){return a instanceof Ds&&a.getTypeName()||null}(a);if(null!=u&&u!==l){if("ResourceURL"===u&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===l}function wC(a){return new _C(a)}function m1(a){return new yC(a)}function jf(a){return new vC(a)}function TC(a){return new l_(a)}function DC(a){return new no(a)}function al(a){const l=new EC(a);return function IC(){try{return!!(new window.DOMParser).parseFromString(ua(""),"text/html")}catch{return!1}}()?new yd(l):l}class yd{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const u=(new window.DOMParser).parseFromString(ua(l),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(l):(u.removeChild(u.firstChild),u)}catch{return null}}}class EC{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const d=this.inertDocument.createElement("body");u.appendChild(d)}}getInertBodyElement(l){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=ua(l),u;const d=this.inertDocument.createElement("body");return d.innerHTML=ua(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(l){const u=l.attributes;for(let f=u.length-1;0<f;f--){const _=u.item(f).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&l.removeAttribute(_)}let d=l.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const vd=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function ca(a){return(a=String(a)).match(vd)?a:"unsafe:"+a}function Es(a){const l={};for(const u of a.split(","))l[u]=!0;return l}function bd(...a){const l={};for(const u of a)for(const d in u)u.hasOwnProperty(d)&&(l[d]=!0);return l}const _1=Es("area,br,col,hr,img,wbr"),y1=Es("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),v1=Es("rp,rt"),wd=bd(_1,bd(y1,Es("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),bd(v1,Es("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),bd(v1,y1)),uu=Es("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),b1=bd(uu,Es("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Es("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),CC=Es("script,style,template");class SC{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let u=l.firstChild,d=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?d=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,d&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let f=this.checkClobberedElement(u,u.nextSibling);if(f){u=f;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(l){const u=l.nodeName.toLowerCase();if(!wd.hasOwnProperty(u))return this.sanitizedSomething=!0,!CC.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const d=l.attributes;for(let f=0;f<d.length;f++){const p=d.item(f),_=p.name,y=_.toLowerCase();if(!b1.hasOwnProperty(y)){this.sanitizedSomething=!0;continue}let b=p.value;uu[y]&&(b=ca(b)),this.buf.push(" ",_,'="',w1(b),'"')}return this.buf.push(">"),!0}endElement(l){const u=l.nodeName.toLowerCase();wd.hasOwnProperty(u)&&!_1.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(l){this.buf.push(w1(l))}checkClobberedElement(l,u){if(u&&(l.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return u}}const AC=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,MC=/([^\#-~ |!])/g;function w1(a){return a.replace(/&/g,"&amp;").replace(AC,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(MC,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Gf;function T1(a,l){let u=null;try{Gf=Gf||al(a);let d=l?String(l):"";u=Gf.getInertBodyElement(d);let f=5,p=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=p,p=u.innerHTML,u=Gf.getInertBodyElement(d)}while(d!==p);return ua((new SC).sanitizeChildren(qf(u)||u))}finally{if(u){const d=qf(u)||u;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function qf(a){return"content"in a&&function NC(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var xn=(()=>((xn=xn||{})[xn.NONE=0]="NONE",xn[xn.HTML=1]="HTML",xn[xn.STYLE=2]="STYLE",xn[xn.SCRIPT=3]="SCRIPT",xn[xn.URL=4]="URL",xn[xn.RESOURCE_URL=5]="RESOURCE_URL",xn))();function u_(a){const l=da();return l?pC(l.sanitize(xn.HTML,a)||""):zo(a,"HTML")?pC(qo(a)):T1($f(),de(a))}function cu(a){const l=da();return l?l.sanitize(xn.URL,a)||"":zo(a,"URL")?qo(a):ca(de(a))}function da(){const a=be();return a&&a[12]}const Wf=new hn("ENVIRONMENT_INITIALIZER"),ll=new hn("INJECTOR",-1),h_=new hn("INJECTOR_DEF_TYPES");class I1{get(l,u=Li){if(u===Li){const d=new Error(`NullInjectorError: No provider for ${se(l)}!`);throw d.name="NullInjectorError",d}return u}}function PC(...a){return{\u0275providers:C1(0,a)}}function C1(a,...l){const u=[],d=new Set;let f;return vo(l,p=>{const _=p;f_(_,u,[],d)&&(f||(f=[]),f.push(_))}),void 0!==f&&S1(f,u),u}function S1(a,l){for(let u=0;u<a.length;u++){const{providers:f}=a[u];vo(f,p=>{l.push(p)})}}function f_(a,l,u,d){if(!(a=G(a)))return!1;let f=null,p=ki(a);const _=!p&&te(a);if(p||_){if(_&&!_.standalone)return!1;f=a}else{const b=a.ngModule;if(p=ki(b),!p)return!1;f=b}const y=d.has(f);if(_){if(y)return!1;if(d.add(f),_.dependencies){const b="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const E of b)f_(E,l,u,d)}}else{if(!p)return!1;{if(null!=p.imports&&!y){let E;d.add(f);try{vo(p.imports,C=>{f_(C,l,u,d)&&(E||(E=[]),E.push(C))})}finally{}void 0!==E&&S1(E,l)}if(!y){const E=Vo(f)||(()=>new f);l.push({provide:f,useFactory:E,deps:It},{provide:h_,useValue:f,multi:!0},{provide:Wf,useValue:()=>Kt(f),multi:!0})}const b=p.providers;null==b||y||vo(b,C=>{l.push(C)})}}return f!==a&&void 0!==a.providers}const FC=oe({provide:String,useValue:oe});function g_(a){return null!==a&&"object"==typeof a&&FC in a}function ul(a){return"function"==typeof a}const m_=new hn("Set Injector scope."),Dd={},BC={};let Zf;function Ed(){return void 0===Zf&&(Zf=new I1),Zf}class ha{}class __ extends ha{constructor(l,u,d,f){super(),this.parent=u,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Yf(l,_=>this.processProvider(_)),this.records.set(ll,du(void 0,this)),f.has("environment")&&this.records.set(ha,du(void 0,this));const p=this.records.get(m_);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(h_.multi,It,Ze.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();for(const l of this._onDestroyHooks)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(l){this._onDestroyHooks.push(l)}runInContext(l){this.assertNotDestroyed();const u=oa(this),d=ur(void 0);try{return l()}finally{oa(u),ur(d)}}get(l,u=Li,d=Ze.Default){this.assertNotDestroyed();const f=oa(this),p=ur(void 0);try{if(!(d&Ze.SkipSelf)){let y=this.records.get(l);if(void 0===y){const b=function x1(a){return"function"==typeof a||"object"==typeof a&&a instanceof hn}(l)&&Zt(l);y=b&&this.injectableDefInScope(b)?du(Kf(l),Dd):null,this.records.set(l,y)}if(null!=y)return this.hydrate(l,y)}return(d&Ze.Self?Ed():this.parent).get(l,u=d&Ze.Optional&&u===Li?null:u)}catch(_){if("NullInjectorError"===_.name){if((_[Ii]=_[Ii]||[]).unshift(se(l)),f)throw _;return function k(a,l,u,d){const f=a[Ii];throw l[pn]&&f.unshift(l[pn]),a.message=function $(a,l,u,d=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.slice(2):a;let f=se(l);if(Array.isArray(l))f=l.map(se).join(" -> ");else if("object"==typeof l){let p=[];for(let _ in l)if(l.hasOwnProperty(_)){let y=l[_];p.push(_+":"+("string"==typeof y?JSON.stringify(y):se(y)))}f=`{${p.join(", ")}}`}return`${u}${d?"("+d+")":""}[${f}]: ${a.replace(si,"\n  ")}`}("\n"+a.message,f,u,d),a.ngTokenPath=f,a[Ii]=null,a}(_,l,"R3InjectorError",this.source)}throw _}finally{ur(p),oa(f)}}resolveInjectorInitializers(){const l=oa(this),u=ur(void 0);try{const d=this.get(Wf.multi,It,Ze.Self);for(const f of d)f()}finally{oa(l),ur(u)}}toString(){const l=[],u=this.records;for(const d of u.keys())l.push(se(d));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new pe(205,!1)}processProvider(l){let u=ul(l=G(l))?l:G(l&&l.provide);const d=function UC(a){return g_(a)?du(void 0,a.useValue):du(N1(a),Dd)}(l);if(ul(l)||!0!==l.multi)this.records.get(u);else{let f=this.records.get(u);f||(f=du(void 0,Dd,!0),f.factory=()=>w(f.multi),this.records.set(u,f)),u=l,f.multi.push(l)}this.records.set(u,d)}hydrate(l,u){return u.value===Dd&&(u.value=BC,u.value=u.factory()),"object"==typeof u.value&&u.value&&function $C(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(l){if(!l.providedIn)return!1;const u=G(l.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function Kf(a){const l=Zt(a),u=null!==l?l.factory:Vo(a);if(null!==u)return u;if(a instanceof hn)throw new pe(204,!1);if(a instanceof Function)return function VC(a){const l=a.length;if(l>0)throw Qa(l,"?"),new pe(204,!1);const u=function Mn(a){const l=a&&(a[co]||a[as]);if(l){const u=function ei(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),l}return null}(a);return null!==u?()=>u.factory(a):()=>new a}(a);throw new pe(204,!1)}function N1(a,l,u){let d;if(ul(a)){const f=G(a);return Vo(f)||Kf(f)}if(g_(a))d=()=>G(a.useValue);else if(function M1(a){return!(!a||!a.useFactory)}(a))d=()=>a.useFactory(...w(a.deps||[]));else if(function A1(a){return!(!a||!a.useExisting)}(a))d=()=>Kt(G(a.useExisting));else{const f=G(a&&(a.useClass||a.provide));if(!function HC(a){return!!a.deps}(a))return Vo(f)||Kf(f);d=()=>new f(...w(a.deps))}return d}function du(a,l,u=!1){return{factory:a,value:l,multi:u?[]:void 0}}function y_(a){return!!a.\u0275providers}function Yf(a,l){for(const u of a)Array.isArray(u)?Yf(u,l):y_(u)?Yf(u.\u0275providers,l):l(u)}class jC{}class qC{resolveComponentFactory(l){throw function GC(a){const l=Error(`No component factory found for ${se(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let fa=(()=>{class a{}return a.NULL=new qC,a})();function O1(){return pa(qn(),be())}function pa(a,l){return new cl(kr(a,l))}let cl=(()=>{class a{constructor(u){this.nativeElement=u}}return a.__NG_ELEMENT_ID__=O1,a})();function zC(a){return a instanceof cl?a.nativeElement:a}class Id{}let WC=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function ZC(){const a=be(),u=Xt(qn().index,a);return(dr(u)?u:a)[11]}(),a})(),KC=(()=>{class a{}return a.\u0275prov=ze({token:a,providedIn:"root",factory:()=>null}),a})();class P1{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const F1=new P1("14.2.12"),Jf={};function Qf(a){return a.ngOriginalError}class ga{constructor(){this._console=console}handleError(l){const u=this._findOriginalError(l);this._console.error("ERROR",l),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(l){let u=l&&Qf(l);for(;u&&Qf(u);)u=Qf(u);return u||null}}function Wo(a){return a instanceof Function?a():a}function b_(a,l,u){let d=a.length;for(;;){const f=a.indexOf(l,u);if(-1===f)return f;if(0===f||a.charCodeAt(f-1)<=32){const p=l.length;if(f+p===d||a.charCodeAt(f+p)<=32)return f}u=f+1}}const tp="ng-template";function nS(a,l,u){let d=0;for(;d<a.length;){let f=a[d++];if(u&&"class"===f){if(f=a[d],-1!==b_(f.toLowerCase(),l,0))return!0}else if(1===f){for(;d<a.length&&"string"==typeof(f=a[d++]);)if(f.toLowerCase()===l)return!0;return!1}}return!1}function B1(a){return 4===a.type&&a.value!==tp}function rS(a,l,u){return l===(4!==a.type||u?a.value:tp)}function V1(a,l,u){let d=4;const f=a.attrs||[],p=function U1(a){for(let l=0;l<a.length;l++)if(Gl(a[l]))return l;return a.length}(f);let _=!1;for(let y=0;y<l.length;y++){const b=l[y];if("number"!=typeof b){if(!_)if(4&d){if(d=2|1&d,""!==b&&!rS(a,b,u)||""===b&&1===l.length){if(To(d))return!1;_=!0}}else{const E=8&d?b:l[++y];if(8&d&&null!==a.attrs){if(!nS(a.attrs,E,u)){if(To(d))return!1;_=!0}continue}const N=CO(8&d?"class":b,f,B1(a),u);if(-1===N){if(To(d))return!1;_=!0;continue}if(""!==E){let B;B=N>p?"":f[N+1].toLowerCase();const q=8&d?B:null;if(q&&-1!==b_(q,E,0)||2&d&&E!==B){if(To(d))return!1;_=!0}}}}else{if(!_&&!To(d)&&!To(b))return!1;if(_&&To(b))continue;_=!1,d=b|1&d}}return To(d)||_}function To(a){return 0==(1&a)}function CO(a,l,u,d){if(null===l)return-1;let f=0;if(d||!u){let p=!1;for(;f<l.length;){const _=l[f];if(_===a)return f;if(3===_||6===_)p=!0;else{if(1===_||2===_){let y=l[++f];for(;"string"==typeof y;)y=l[++f];continue}if(4===_)break;if(0===_){f+=4;continue}}f+=p?1:2}return-1}return function iS(a,l){let u=a.indexOf(4);if(u>-1)for(u++;u<a.length;){const d=a[u];if("number"==typeof d)return-1;if(d===l)return u;u++}return-1}(l,a)}function Sd(a,l,u=!1){for(let d=0;d<l.length;d++)if(V1(a,l[d],u))return!0;return!1}function oS(a,l){e:for(let u=0;u<l.length;u++){const d=l[u];if(a.length===d.length){for(let f=0;f<a.length;f++)if(a[f]!==d[f])continue e;return!0}}return!1}function np(a,l){return a?":not("+l.trim()+")":l}function sS(a){let l=a[0],u=1,d=2,f="",p=!1;for(;u<a.length;){let _=a[u];if("string"==typeof _)if(2&d){const y=a[++u];f+="["+_+(y.length>0?'="'+y+'"':"")+"]"}else 8&d?f+="."+_:4&d&&(f+=" "+_);else""!==f&&!To(_)&&(l+=np(p,f),f=""),d=_,p=p||!To(d);u++}return""!==f&&(l+=np(p,f)),l}const Mt={};function H1(a){w_(qt(),be(),nr()+a,!1)}function w_(a,l,u,d){if(!d)if(3==(3&l[2])){const p=a.preOrderCheckHooks;null!==p&&ps(l,p,u)}else{const p=a.preOrderHooks;null!==p&&gs(l,p,0,u)}Uo(u)}function Ut(a,l=null,u=null,d){const f=Ad(a,l,u,d);return f.resolveInjectorInitializers(),f}function Ad(a,l=null,u=null,d,f=new Set){const p=[u||It,PC(a)];return d=d||("object"==typeof a?void 0:se(a)),new __(p,l||Ed(),d||null,f)}let Do=(()=>{class a{static create(u,d){if(Array.isArray(u))return Ut({name:""},d,u,"");{const f=u.name??"";return Ut({name:f},u.parent,u.providers,f)}}}return a.THROW_IF_NOT_FOUND=Li,a.NULL=new I1,a.\u0275prov=ze({token:a,providedIn:"any",factory:()=>Kt(ll)}),a.__NG_ELEMENT_ID__=-1,a})();function hu(a,l=Ze.Default){const u=be();return null===u?Kt(a,l):Qc(qn(),u,G(a),l)}function Q1(){throw new Error("invalid")}function ip(a,l){return a<<17|l<<2}function Eo(a){return a>>17&32767}function I_(a){return 2|a}function Ss(a){return(131068&a)>>2}function C_(a,l){return-131069&a|l<<2}function S_(a){return 1|a}function pu(a,l){const u=a.contentQueries;if(null!==u)for(let d=0;d<u.length;d+=2){const f=u[d],p=u[d+1];if(-1!==p){const _=a.data[p];Bc(f),_.contentQueries(2,l[p],p)}}}function Rd(a,l,u,d,f,p,_,y,b,E,C){const N=l.blueprint.slice();return N[0]=f,N[2]=76|d,(null!==C||a&&1024&a[2])&&(N[2]|=1024),lf(N),N[3]=N[15]=a,N[8]=u,N[10]=_||a&&a[10],N[11]=y||a&&a[11],N[12]=b||a&&a[12]||null,N[9]=E||a&&a[9]||null,N[6]=p,N[20]=function YI(){return Jb++}(),N[21]=C,N[16]=2==l.type?a[16]:N,N}function Hi(a,l,u,d,f){let p=a.data[l];if(null===p)p=dp(a,l,u,d,f),function Fb(){return St.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=u,p.value=d,p.attrs=f;const _=Fl();p.injectorIndex=null===_?-1:_.injectorIndex}return Ei(p,!0),p}function dp(a,l,u,d,f){const p=Pl(),_=kc(),b=a.data[l]=function FS(a,l,u,d,f,p){return{type:u,index:d,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?p:p&&p.parent,u,l,d,f);return null===a.firstChild&&(a.firstChild=b),null!==p&&(_?null==p.child&&null!==b.parent&&(p.child=b):null===p.next&&(p.next=b)),b}function hl(a,l,u,d){if(0===u)return-1;const f=l.length;for(let p=0;p<u;p++)l.push(d),a.blueprint.push(d),a.data.push(null);return f}function io(a,l,u){Vl(l);try{const d=a.viewQuery;null!==d&&vu(1,d,u);const f=a.template;null!==f&&gu(a,l,f,1,u),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&pu(a,l),a.staticViewQueries&&vu(2,a.viewQuery,u);const p=a.components;null!==p&&function RS(a,l){for(let u=0;u<l.length;u++)qS(a,l[u])}(l,p)}catch(d){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),d}finally{l[2]&=-5,fs()}}function Ko(a,l,u,d){const f=l[2];if(128!=(128&f)){Vl(l);try{lf(l),function Oc(a){return St.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==u&&gu(a,l,u,2,d);const _=3==(3&f);if(_){const E=a.preOrderCheckHooks;null!==E&&ps(l,E,null)}else{const E=a.preOrderHooks;null!==E&&gs(l,E,0,null),qc(l,0)}if(function H_(a){for(let l=dd(a);null!==l;l=rl(l)){if(!l[2])continue;const u=l[9];for(let d=0;d<u.length;d++){const f=u[d],p=f[3];0==(512&f[2])&&Gn(p,1),f[2]|=512}}}(l),function U_(a){for(let l=dd(a);null!==l;l=rl(l))for(let u=10;u<l.length;u++){const d=l[u],f=d[1];zs(d)&&Ko(f,d,f.template,d[8])}}(l),null!==a.contentQueries&&pu(a,l),_){const E=a.contentCheckHooks;null!==E&&ps(l,E)}else{const E=a.contentHooks;null!==E&&gs(l,E,1),qc(l,1)}!function kS(a,l){const u=a.hostBindingOpCodes;if(null!==u)try{for(let d=0;d<u.length;d++){const f=u[d];if(f<0)Uo(~f);else{const p=f,_=u[++d],y=u[++d];Lb(_,p),y(2,l[p])}}}finally{Uo(-1)}}(a,l);const y=a.components;null!==y&&function sw(a,l){for(let u=0;u<l.length;u++)mp(a,l[u])}(l,y);const b=a.viewQuery;if(null!==b&&vu(2,b,d),_){const E=a.viewCheckHooks;null!==E&&ps(l,E)}else{const E=a.viewHooks;null!==E&&gs(l,E,2),qc(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),l[2]&=-41,512&l[2]&&(l[2]&=-513,Gn(l[3],-1))}finally{fs()}}}function gu(a,l,u,d,f){const p=nr(),_=2&d;try{Uo(-1),_&&l.length>22&&w_(a,l,22,!1),u(d,f)}finally{Uo(p)}}function aw(a,l,u){if(xl(l)){const f=l.directiveEnd;for(let p=l.directiveStart;p<f;p++){const _=a.data[p];_.contentQueries&&_.contentQueries(1,u[p],p)}}}function Od(a,l,u){!hs()||(function VS(a,l,u,d){const f=u.directiveStart,p=u.directiveEnd;a.firstCreatePass||_s(u,l),Er(d,l);const _=u.initialInputs;for(let y=f;y<p;y++){const b=a.data[y],E=ni(b);E&&$S(l,u,b);const C=Ho(l,a,y,u);Er(C,l),null!==_&&jS(0,y-f,C,b,0,_),E&&(Xt(u.index,l)[8]=C)}}(a,l,u,kr(u,l)),128==(128&u.flags)&&function US(a,l,u){const d=u.directiveStart,f=u.directiveEnd,p=u.index,_=function Nm(){return St.lFrame.currentDirectiveIndex}();try{Uo(p);for(let y=d;y<f;y++){const b=a.data[y],E=l[y];Bl(y),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&Fd(b,E)}}finally{Uo(-1),Bl(_)}}(a,l,u))}function hp(a,l,u=kr){const d=l.localNames;if(null!==d){let f=l.index+1;for(let p=0;p<d.length;p+=2){const _=d[p+1],y=-1===_?u(l,a):a[_];a[f++]=y}}}function mu(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=_u(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function _u(a,l,u,d,f,p,_,y,b,E){const C=22+d,N=C+f,B=function OS(a,l){const u=[];for(let d=0;d<l;d++)u.push(d<a?null:Mt);return u}(C,N),q="function"==typeof E?E():E;return B[1]={type:a,blueprint:B,template:u,queries:null,viewQuery:y,declTNode:l,data:B.slice().fill(null,C),bindingStartIndex:C,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:b,consts:q,incompleteFirstPass:!1}}function uw(a,l,u,d){const f=Ld(l);null===u?f.push(d):(f.push(u),a.firstCreatePass&&pw(a).push(d,f.length-1))}function Ci(a,l,u){for(let d in a)if(a.hasOwnProperty(d)){const f=a[d];(u=null===u?{}:u).hasOwnProperty(d)?u[d].push(l,f):u[d]=[l,f]}return u}function F_(a,l){const d=l.directiveEnd,f=a.data,p=l.attrs,_=[];let y=null,b=null;for(let E=l.directiveStart;E<d;E++){const C=f[E],N=C.inputs,B=null===p||B1(l)?null:GS(N,p);_.push(B),y=Ci(N,E,y),b=Ci(C.outputs,E,b)}null!==y&&(y.hasOwnProperty("class")&&(l.flags|=16),y.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=_,l.inputs=y,l.outputs=b}function qr(a,l,u,d,f,p,_,y){const b=kr(l,u);let C,E=l.inputs;!y&&null!=E&&(C=E[d])?(mw(a,u,C,d,f),Tc(l)&&cw(u,l.index)):3&l.type&&(d=function fp(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(d),f=null!=_?_(f,l.value||"",d):f,p.setProperty(b,d,f))}function cw(a,l){const u=Xt(l,a);16&u[2]||(u[2]|=32)}function dw(a,l,u,d){let f=!1;if(hs()){const p=function pp(a,l,u){const d=a.directiveRegistry;let f=null;if(d)for(let p=0;p<d.length;p++){const _=d[p];Sd(u,_.selectors,!1)&&(f||(f=[]),ys(_s(u,l),a,_.type),ni(_)?(L_(a,u),f.unshift(_)):f.push(_))}return f}(a,l,u),_=null===d?null:{"":-1};if(null!==p){f=!0,gp(u,a.data.length,p.length);for(let C=0;C<p.length;C++){const N=p[C];N.providersResolver&&N.providersResolver(N)}let y=!1,b=!1,E=hl(a,l,p.length,null);for(let C=0;C<p.length;C++){const N=p[C];u.mergedAttrs=Wa(u.mergedAttrs,N.hostAttrs),B_(a,u,l,E,N),HS(E,N,_),null!==N.contentQueries&&(u.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(u.flags|=128);const B=N.type.prototype;!y&&(B.ngOnChanges||B.ngOnInit||B.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(u.index),y=!0),!b&&(B.ngOnChanges||B.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(u.index),b=!0),E++}F_(a,u)}_&&function hw(a,l,u){if(l){const d=a.localNames=[];for(let f=0;f<l.length;f+=2){const p=u[l[f+1]];if(null==p)throw new pe(-301,!1);d.push(l[f],p)}}}(u,d,_)}return u.mergedAttrs=Wa(u.mergedAttrs,u.attrs),f}function Pd(a,l,u,d,f,p){const _=p.hostBindings;if(_){let y=a.hostBindingOpCodes;null===y&&(y=a.hostBindingOpCodes=[]);const b=~l.index;(function BS(a){let l=a.length;for(;l>0;){const u=a[--l];if("number"==typeof u&&u<0)return u}return 0})(y)!=b&&y.push(b),y.push(d,f,_)}}function Fd(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function L_(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function HS(a,l,u){if(u){if(l.exportAs)for(let d=0;d<l.exportAs.length;d++)u[l.exportAs[d]]=a;ni(l)&&(u[""]=a)}}function gp(a,l,u){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+u,a.providerIndexes=l}function B_(a,l,u,d,f){a.data[d]=f;const p=f.factory||(f.factory=Vo(f.type)),_=new Zs(p,ni(f),hu);a.blueprint[d]=_,u[d]=_,Pd(a,l,0,d,hl(a,u,f.hostVars,Mt),f)}function $S(a,l,u){const d=kr(l,a),f=mu(u),p=a[10],_=_p(a,Rd(a,f,null,u.onPush?32:16,d,l,p,p.createRenderer(d,u),null,null,null));a[l.index]=_}function V_(a,l,u,d,f,p,_){if(null==p)a.removeAttribute(l,f,u);else{const y=null==_?de(p):_(p,d||"",f);a.setAttribute(l,f,y,u)}}function jS(a,l,u,d,f,p){const _=p[l];if(null!==_){const y=d.setInput;for(let b=0;b<_.length;){const E=_[b++],C=_[b++],N=_[b++];null!==y?d.setInput(u,N,E,C):u[C]=N}}}function GS(a,l){let u=null,d=0;for(;d<l.length;){const f=l[d];if(0!==f)if(5!==f){if("number"==typeof f)break;a.hasOwnProperty(f)&&(null===u&&(u=[]),u.push(f,a[f],l[d+1])),d+=2}else d+=2;else d+=4}return u}function _a(a,l,u,d){return new Array(a,!0,!1,l,null,0,d,u,null,null)}function mp(a,l){const u=Xt(l,a);if(zs(u)){const d=u[1];48&u[2]?Ko(d,u,d.template,u[8]):u[5]>0&&$_(u)}}function $_(a){for(let d=dd(a);null!==d;d=rl(d))for(let f=10;f<d.length;f++){const p=d[f];if(zs(p))if(512&p[2]){const _=p[1];Ko(_,p,_.template,p[8])}else p[5]>0&&$_(p)}const u=a[1].components;if(null!==u)for(let d=0;d<u.length;d++){const f=Xt(u[d],a);zs(f)&&f[5]>0&&$_(f)}}function qS(a,l){const u=Xt(l,a),d=u[1];(function zS(a,l){for(let u=l.length;u<a.blueprint.length;u++)l.push(a.blueprint[u])})(d,u),io(d,u,u[8])}function _p(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function j_(a){for(;a;){a[2]|=32;const l=cd(a);if(wm(a)&&!l)return a;a=l}return null}function yu(a,l,u,d=!0){const f=l[10];f.begin&&f.begin();try{Ko(a,l,a.template,u)}catch(_){throw d&&gw(l,_),_}finally{f.end&&f.end()}}function vu(a,l,u){Bc(0),l(a,u)}function Ld(a){return a[7]||(a[7]=[])}function pw(a){return a.cleanup||(a.cleanup=[])}function gw(a,l){const u=a[9],d=u?u.get(ga,null):null;d&&d.handleError(l)}function mw(a,l,u,d,f){for(let p=0;p<u.length;){const _=u[p++],y=u[p++],b=l[_],E=a.data[_];null!==E.setInput?E.setInput(b,f,d,y):b[y]=f}}function Io(a,l,u){const d=Pi(l,a);Ym(a[11],d,u)}function q_(a,l,u){let d=u?a.styles:null,f=u?a.classes:null,p=0;if(null!==l)for(let _=0;_<l.length;_++){const y=l[_];"number"==typeof y?p=y:1==p?f=ae(f,y):2==p&&(d=ae(d,y+": "+l[++_]+";"))}u?a.styles=d:a.stylesWithoutHost=d,u?a.classes=f:a.classesWithoutHost=f}function yp(a,l,u,d,f=!1){for(;null!==u;){const p=l[u.index];if(null!==p&&d.push(jn(p)),Ti(p))for(let y=10;y<p.length;y++){const b=p[y],E=b[1].firstChild;null!==E&&yp(b[1],b,E,d)}const _=u.type;if(8&_)yp(a,l,u.child,d);else if(32&_){const y=Of(u,l);let b;for(;b=y();)d.push(b)}else if(16&_){const y=i_(l,u);if(Array.isArray(y))d.push(...y);else{const b=cd(l[16]);yp(b[1],b,y,d,!0)}}u=f?u.projectionNext:u.next}return d}class Bd{constructor(l,u){this._lView=l,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,u=l[1];return yp(u,l,u.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(Ti(l)){const u=l[8],d=u?u.indexOf(this):-1;d>-1&&(Jm(l,d),Tr(u,d))}this._attachedToViewContainer=!1}u1(this._lView[1],this._lView)}onDestroy(l){uw(this._lView[1],this._lView,null,l)}markForCheck(){j_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){yu(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new pe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function a1(a,l){sl(a,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new pe(902,!1);this._appRef=l}}class _w extends Bd{constructor(l){super(l),this._view=l}detectChanges(){const l=this._view;yu(l[1],l,l[8],!1)}checkNoChanges(){}get context(){return null}}class Vd extends fa{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const u=te(l);return new Ud(u,this.ngModule)}}function z_(a){const l=[];for(let u in a)a.hasOwnProperty(u)&&l.push({propName:a[u],templateName:u});return l}class WS{constructor(l,u){this.injector=l,this.parentInjector=u}get(l,u,d){const f=this.injector.get(l,Jf,d);return f!==Jf||u===Jf?f:this.parentInjector.get(l,u,d)}}class Ud extends jC{constructor(l,u){super(),this.componentDef=l,this.ngModule=u,this.componentType=l.type,this.selector=function aS(a){return a.map(sS).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return z_(this.componentDef.inputs)}get outputs(){return z_(this.componentDef.outputs)}create(l,u,d,f){let p=(f=f||this.ngModule)instanceof ha?f:f?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const _=p?new WS(l,p):l,y=_.get(Id,null);if(null===y)throw new pe(407,!1);const b=_.get(KC,null),E=y.createRenderer(null,this.componentDef),C=this.componentDef.selectors[0][0]||"div",N=d?function PS(a,l,u){return a.selectRootElement(l,u===ht.ShadowDom)}(E,d,this.componentDef.encapsulation):hd(E,C,function $O(a){const l=a.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(C)),B=this.componentDef.onPush?288:272,q=_u(0,null,null,1,0,null,null,null,null,null),ce=Rd(null,q,null,B,null,null,y,E,b,_,null);let Ae,Be;Vl(ce);try{const Xe=function yw(a,l,u,d,f,p){const _=u[1];u[22]=a;const b=Hi(_,22,2,"#host",null),E=b.mergedAttrs=l.hostAttrs;null!==E&&(q_(b,E,!0),null!==a&&(Ks(f,a,E),null!==b.classes&&Uf(f,a,b.classes),null!==b.styles&&Vf(f,a,b.styles)));const C=d.createRenderer(a,l),N=Rd(u,mu(l),null,l.onPush?32:16,u[22],b,d,C,p||null,null,null);return _.firstCreatePass&&(ys(_s(b,u),_,l.type),L_(_,b),gp(b,u.length,1)),_p(u,N),u[22]=N}(N,this.componentDef,ce,y,E);if(N)if(d)Ks(E,N,["ng-version",F1.full]);else{const{attrs:_t,classes:ve}=function lS(a){const l=[],u=[];let d=1,f=2;for(;d<a.length;){let p=a[d];if("string"==typeof p)2===f?""!==p&&l.push(p,a[++d]):8===f&&u.push(p);else{if(!To(f))break;f=p}d++}return{attrs:l,classes:u}}(this.componentDef.selectors[0]);_t&&Ks(E,N,_t),ve&&ve.length>0&&Uf(E,N,ve.join(" "))}if(Be=Rl(q,22),void 0!==u){const _t=Be.projection=[];for(let ve=0;ve<this.ngContentSelectors.length;ve++){const Tt=u[ve];_t.push(null!=Tt?Array.from(Tt):null)}}Ae=function YS(a,l,u,d){const f=u[1],p=function VO(a,l,u){const d=qn();a.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),B_(a,d,l,hl(a,l,1,null),u),F_(a,d));const f=Ho(l,a,d.directiveStart,d);Er(f,l);const p=kr(d,l);return p&&Er(p,l),f}(f,u,l);if(a[8]=u[8]=p,null!==d)for(const y of d)y(p,l);if(l.contentQueries){const y=qn();l.contentQueries(1,p,y.directiveStart)}const _=qn();return!f.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(Uo(_.index),Pd(u[1],_,0,_.directiveStart,_.directiveEnd,l),Fd(l,p)),p}(Xe,this.componentDef,ce,[JS]),io(q,ce,null)}finally{fs()}return new KS(this.componentType,Ae,pa(Be,ce),ce,Be)}}class KS extends class k1{}{constructor(l,u,d,f,p){super(),this.location=d,this._rootLView=f,this._tNode=p,this.instance=u,this.hostView=this.changeDetectorRef=new _w(f),this.componentType=l}setInput(l,u){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[l])){const p=this._rootLView;mw(p[1],p,f,l,u),cw(p,this._tNode.index)}}get injector(){return new Js(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function JS(){const a=qn();Hl(be()[1],a)}function Z_(a){let l=function W_(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),u=!0;const d=[a];for(;l;){let f;if(ni(a))f=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new pe(903,!1);f=l.\u0275dir}if(f){if(u){d.push(f);const _=a;_.inputs=Y_(a.inputs),_.declaredInputs=Y_(a.declaredInputs),_.outputs=Y_(a.outputs);const y=f.hostBindings;y&&eA(a,y);const b=f.viewQuery,E=f.contentQueries;if(b&&QS(a,b),E&&XS(a,E),Y(a.inputs,f.inputs),Y(a.declaredInputs,f.declaredInputs),Y(a.outputs,f.outputs),ni(f)&&f.data.animation){const C=a.data;C.animation=(C.animation||[]).concat(f.data.animation)}}const p=f.features;if(p)for(let _=0;_<p.length;_++){const y=p[_];y&&y.ngInherit&&y(a),y===Z_&&(u=!1)}}l=Object.getPrototypeOf(l)}!function K_(a){let l=0,u=null;for(let d=a.length-1;d>=0;d--){const f=a[d];f.hostVars=l+=f.hostVars,f.hostAttrs=Wa(f.hostAttrs,u=Wa(u,f.hostAttrs))}}(d)}function Y_(a){return a===vr?{}:a===It?[]:a}function QS(a,l){const u=a.viewQuery;a.viewQuery=u?(d,f)=>{l(d,f),u(d,f)}:l}function XS(a,l){const u=a.contentQueries;a.contentQueries=u?(d,f,p)=>{l(d,f,p),u(d,f,p)}:l}function eA(a,l){const u=a.hostBindings;a.hostBindings=u?(d,f)=>{l(d,f),u(d,f)}:l}let bu=null;function Co(){if(!bu){const a=ln.Symbol;if(a&&a.iterator)bu=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<l.length;++u){const d=l[u];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(bu=d)}}}return bu}function Hd(a){return!!Q_(a)&&(Array.isArray(a)||!(a instanceof Map)&&Co()in a)}function Q_(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function $i(a,l,u){return a[l]=u}function Pr(a,l,u){return!Object.is(a[l],u)&&(a[l]=u,!0)}function ya(a,l,u,d){const f=Pr(a,l,u);return Pr(a,l+1,d)||f}function va(a,l,u,d){const f=be();return Pr(f,qa(),l)&&(qt(),function Yo(a,l,u,d,f,p){const _=kr(a,l);V_(l[11],_,p,a.value,u,d,f)}(vn(),f,a,l,u,d)),va}function Tu(a,l,u,d){return Pr(a,qa(),u)?l+de(u)+d:Mt}function pl(a,l,u,d,f,p,_,y,b,E){const N=function kn(a,l,u,d,f,p){const _=ya(a,l,u,d);return ya(a,l+2,f,p)||_}(a,Xi(),u,f,_,b);return mo(4),N?l+de(u)+d+de(f)+p+de(_)+y+de(b)+E:Mt}function Sw(a,l,u,d,f,p,_,y){const b=be(),E=qt(),C=a+22,N=E.firstCreatePass?function Cw(a,l,u,d,f,p,_,y,b){const E=l.consts,C=Hi(l,a,4,_||null,Qi(E,y));dw(l,u,C,Qi(E,b)),Hl(l,C);const N=C.tViews=_u(2,C,d,f,p,l.directiveRegistry,l.pipeRegistry,null,l.schemas,E);return null!==l.queries&&(l.queries.template(l,C),N.queries=l.queries.embeddedTView(C)),C}(C,E,b,l,u,d,f,p,_):E.data[C];Ei(N,!1);const B=b[11].createComment("");Lf(E,b,B,N),Er(B,b),_p(b,b[C]=_a(B,b,B,N)),Dc(N)&&Od(E,b,N),null!=_&&hp(b,N,y)}function Aw(a){return ds(function Rc(){return St.lFrame.contextLView}(),22+a)}function ny(a,l,u){const d=be();return Pr(d,qa(),l)&&qr(qt(),vn(),d,a,l,d[11],u,!1),ny}function ry(a,l,u,d,f){const _=f?"class":"style";mw(a,u,l.inputs[_],_,d)}function qd(a,l,u,d){const f=be(),p=qt(),_=22+a,y=f[11],b=f[_]=hd(y,l,function Ul(){return St.lFrame.currentNamespace}()),E=p.firstCreatePass?function sA(a,l,u,d,f,p,_){const y=l.consts,E=Hi(l,a,2,f,Qi(y,p));return dw(l,u,E,Qi(y,_)),null!==E.attrs&&q_(E,E.attrs,!1),null!==E.mergedAttrs&&q_(E,E.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,E),E}(_,p,f,0,l,u,d):p.data[_];Ei(E,!0);const C=E.mergedAttrs;null!==C&&Ks(y,b,C);const N=E.classes;null!==N&&Uf(y,b,N);const B=E.styles;return null!==B&&Vf(y,b,B),64!=(64&E.flags)&&Lf(p,f,b,E),0===function Ac(){return St.lFrame.elementDepthCount}()&&Er(b,f),function uf(){St.lFrame.elementDepthCount++}(),Dc(E)&&(Od(p,f,E),aw(p,E,f)),null!==d&&hp(f,E),qd}function Cu(){let a=qn();kc()?Ll():(a=a.parent,Ei(a,!1));const l=a;!function Mc(){St.lFrame.elementDepthCount--}();const u=qt();return u.firstCreatePass&&(Hl(u,a),xl(a)&&u.queries.elementEnd(a)),null!=l.classesWithoutHost&&function jl(a){return 0!=(16&a.flags)}(l)&&ry(u,l,be(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function gf(a){return 0!=(32&a.flags)}(l)&&ry(u,l,be(),l.stylesWithoutHost,!1),Cu}function vp(a,l,u,d){return qd(a,l,u,d),Cu(),vp}function iy(a,l,u){const d=be(),f=qt(),p=a+22,_=f.firstCreatePass?function aA(a,l,u,d,f){const p=l.consts,_=Qi(p,d),y=Hi(l,a,8,"ng-container",_);return null!==_&&q_(y,_,!0),dw(l,u,y,Qi(p,f)),null!==l.queries&&l.queries.elementStart(l,y),y}(p,f,d,l,u):f.data[p];Ei(_,!0);const y=d[p]=d[11].createComment("");return Lf(f,d,y,_),Er(y,d),Dc(_)&&(Od(f,d,_),aw(f,_,d)),null!=u&&hp(d,_),iy}function oy(){let a=qn();const l=qt();return kc()?Ll():(a=a.parent,Ei(a,!1)),l.firstCreatePass&&(Hl(l,a),xl(a)&&l.queries.elementEnd(a)),oy}function Mw(a,l,u){return iy(a,l,u),oy(),Mw}function H(){return be()}function un(a){return!!a&&"function"==typeof a.then}function xs(a){return!!a&&"function"==typeof a.subscribe}const gl=xs;function zd(a,l,u,d){const f=be(),p=qt(),_=qn();return function bp(a,l,u,d,f,p,_,y){const b=Dc(d),C=a.firstCreatePass&&pw(a),N=l[8],B=Ld(l);let q=!0;if(3&d.type||y){const Be=kr(d,l),Xe=y?y(Be):Be,_t=B.length,ve=y?sn=>y(jn(sn[d.index])):d.index;let Tt=null;if(!y&&b&&(Tt=function uA(a,l,u,d){const f=a.cleanup;if(null!=f)for(let p=0;p<f.length-1;p+=2){const _=f[p];if(_===u&&f[p+1]===d){const y=l[7],b=f[p+2];return y.length>b?y[b]:null}"string"==typeof _&&(p+=2)}return null}(a,l,f,d.index)),null!==Tt)(Tt.__ngLastListenerFn__||Tt).__ngNextListenerFn__=p,Tt.__ngLastListenerFn__=p,q=!1;else{p=xw(d,l,N,p,!1);const sn=u.listen(Xe,f,p);B.push(p,sn),C&&C.push(f,ve,_t,_t+1)}}else p=xw(d,l,N,p,!1);const ce=d.outputs;let Ae;if(q&&null!==ce&&(Ae=ce[f])){const Be=Ae.length;if(Be)for(let Xe=0;Xe<Be;Xe+=2){const Rn=l[Ae[Xe]][Ae[Xe+1]].subscribe(p),Aa=B.length;B.push(p,Rn),C&&C.push(f,d.index,Aa,-(Aa+1))}}}(p,f,f[11],_,a,l,0,d),zd}function Nw(a,l,u,d){try{return!1!==u(d)}catch(f){return gw(a,f),!1}}function xw(a,l,u,d,f){return function p(_){if(_===Function)return d;j_(2&a.flags?Xt(a.index,l):l);let b=Nw(l,0,d,_),E=p.__ngNextListenerFn__;for(;E;)b=Nw(l,0,E,_)&&b,E=E.__ngNextListenerFn__;return f&&!1===b&&(_.preventDefault(),_.returnValue=!1),b}}function kw(a=1){return function Ws(a){return(St.lFrame.contextLView=function hf(a,l){for(;a>0;)l=l[15],a--;return l}(a,St.lFrame.contextLView))[8]}(a)}function cA(a,l){let u=null;const d=function SO(a){const l=a.attrs;if(null!=l){const u=l.indexOf(5);if(0==(1&u))return l[u+1]}return null}(a);for(let f=0;f<l.length;f++){const p=l[f];if("*"!==p){if(null===d?Sd(a,p,!0):oS(d,p))return f}else u=f}return u}function Rw(a){const l=be()[16][6];if(!l.projection){const d=l.projection=Qa(a?a.length:1,null),f=d.slice();let p=l.child;for(;null!==p;){const _=a?cA(p,a):0;null!==_&&(f[_]?f[_].projectionNext=p:d[_]=p,f[_]=p),p=p.next}}}function dA(a,l=0,u){const d=be(),f=qt(),p=Hi(f,22+a,16,null,u||null);null===p.projection&&(p.projection=l),Ll(),64!=(64&p.flags)&&function uC(a,l,u){lu(l[11],0,l,u,c1(a,u,l),t_(u.parent||l[6],u,l))}(f,d,p)}function Ow(a,l,u){return sy(a,"",l,"",u),Ow}function sy(a,l,u,d,f){const p=be(),_=Tu(p,l,u,d);return _!==Mt&&qr(qt(),vn(),p,a,_,p[11],f,!1),sy}function Ir(a,l,u,d,f){const p=a[u+1],_=null===l;let y=d?Eo(p):Ss(p),b=!1;for(;0!==y&&(!1===b||_);){const C=a[y+1];mA(a[y],l)&&(b=!0,a[y+1]=d?S_(C):I_(C)),y=d?Eo(C):Ss(C)}b&&(a[u+1]=d?I_(p):S_(p))}function mA(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&$o(a,l)>=0}const Bn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function wp(a){return a.substring(Bn.key,Bn.keyEnd)}function Bw(a,l){const u=Bn.textEnd;return u===l?-1:(l=Bn.keyEnd=function vA(a,l,u){for(;l<u&&a.charCodeAt(l)>32;)l++;return l}(a,Bn.key=l,u),Su(a,l,u))}function Su(a,l,u){for(;l<u&&a.charCodeAt(l)<=32;)l++;return l}function Zd(a,l,u){return So(a,l,u,!1),Zd}function Kd(a,l){return So(a,l,null,!0),Kd}function jw(a){ci(Qe,Xo,a,!0)}function Xo(a,l){for(let u=function yA(a){return function Hw(a){Bn.key=0,Bn.keyEnd=0,Bn.value=0,Bn.valueEnd=0,Bn.textEnd=a.length}(a),Bw(a,Su(a,0,Bn.textEnd))}(l);u>=0;u=Bw(l,u))Qe(a,wp(l),!0)}function So(a,l,u,d){const f=be(),p=qt(),_=mo(2);p.firstUpdatePass&&Yd(p,a,_,d),l!==Mt&&Pr(f,_,l)&&fy(p,p.data[nr()],f,f[11],a,f[_+1]=function py(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=se(qo(a)))),a}(l,u),d,_)}function ci(a,l,u,d){const f=qt(),p=mo(2);f.firstUpdatePass&&Yd(f,null,p,d);const _=be();if(u!==Mt&&Pr(_,p,u)){const y=f.data[nr()];if(Ep(y,d)&&!ly(f,p)){let b=d?y.classesWithoutHost:y.stylesWithoutHost;null!==b&&(u=ae(b,u||"")),ry(f,y,_,u,d)}else!function hy(a,l,u,d,f,p,_,y){f===Mt&&(f=It);let b=0,E=0,C=0<f.length?f[0]:null,N=0<p.length?p[0]:null;for(;null!==C||null!==N;){const B=b<f.length?f[b+1]:void 0,q=E<p.length?p[E+1]:void 0;let Ae,ce=null;C===N?(b+=2,E+=2,B!==q&&(ce=N,Ae=q)):null===N||null!==C&&C<N?(b+=2,ce=C):(E+=2,ce=N,Ae=q),null!==ce&&fy(a,l,u,d,ce,Ae,_,y),C=b<f.length?f[b]:null,N=E<p.length?p[E]:null}}(f,y,_,_[11],_[p+1],_[p+1]=function cy(a,l,u){if(null==u||""===u)return It;const d=[],f=qo(u);if(Array.isArray(f))for(let p=0;p<f.length;p++)a(d,f[p],!0);else if("object"==typeof f)for(const p in f)f.hasOwnProperty(p)&&a(d,p,f[p]);else"string"==typeof f&&l(d,f);return d}(a,l,u),d,p)}}function ly(a,l){return l>=a.expandoStartIndex}function Yd(a,l,u,d){const f=a.data;if(null===f[u+1]){const p=f[nr()],_=ly(a,u);Ep(p,d)&&null===l&&!_&&(l=!1),l=function Gw(a,l,u,d){const f=function Fc(a){const l=St.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}(a);let p=d?l.residualClasses:l.residualStyles;if(null===f)0===(d?l.classBindings:l.styleBindings)&&(u=Au(u=uy(null,a,l,u,d),l.attrs,d),p=null);else{const _=l.directiveStylingLast;if(-1===_||a[_]!==f)if(u=uy(f,a,l,u,d),null===p){let b=function wA(a,l,u){const d=u?l.classBindings:l.styleBindings;if(0!==Ss(d))return a[Eo(d)]}(a,l,d);void 0!==b&&Array.isArray(b)&&(b=uy(null,a,l,b[1],d),b=Au(b,l.attrs,d),function TA(a,l,u,d){a[Eo(u?l.classBindings:l.styleBindings)]=d}(a,l,d,b))}else p=function DA(a,l,u){let d;const f=l.directiveEnd;for(let p=1+l.directiveStylingLast;p<f;p++)d=Au(d,a[p].hostAttrs,u);return Au(d,l.attrs,u)}(a,l,d)}return void 0!==p&&(d?l.residualClasses=p:l.residualStyles=p),u}(f,p,l,d),function Lw(a,l,u,d,f,p){let _=p?l.classBindings:l.styleBindings,y=Eo(_),b=Ss(_);a[d]=u;let C,E=!1;if(Array.isArray(u)){const N=u;C=N[1],(null===C||$o(N,C)>0)&&(E=!0)}else C=u;if(f)if(0!==b){const B=Eo(a[y+1]);a[d+1]=ip(B,y),0!==B&&(a[B+1]=C_(a[B+1],d)),a[y+1]=function DS(a,l){return 131071&a|l<<17}(a[y+1],d)}else a[d+1]=ip(y,0),0!==y&&(a[y+1]=C_(a[y+1],d)),y=d;else a[d+1]=ip(b,0),0===y?y=d:a[b+1]=C_(a[b+1],d),b=d;E&&(a[d+1]=I_(a[d+1])),Ir(a,C,d,!0),Ir(a,C,d,!1),function gA(a,l,u,d,f){const p=f?a.residualClasses:a.residualStyles;null!=p&&"string"==typeof l&&$o(p,l)>=0&&(u[d+1]=S_(u[d+1]))}(l,C,a,d,p),_=ip(y,b),p?l.classBindings=_:l.styleBindings=_}(f,p,l,u,_,d)}}function uy(a,l,u,d,f){let p=null;const _=u.directiveEnd;let y=u.directiveStylingLast;for(-1===y?y=u.directiveStart:y++;y<_&&(p=l[y],d=Au(d,p.hostAttrs,f),p!==a);)y++;return null!==a&&(u.directiveStylingLast=y),d}function Au(a,l,u){const d=u?1:2;let f=-1;if(null!==l)for(let p=0;p<l.length;p++){const _=l[p];"number"==typeof _?f=_:f===d&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),Qe(a,_,!!u||l[++p]))}return void 0===a?null:a}function fy(a,l,u,d,f,p,_,y){if(!(3&l.type))return;const b=a.data,E=b[y+1];Dp(function tw(a){return 1==(1&a)}(E)?Mu(b,l,u,f,Ss(E),_):void 0)||(Dp(p)||function ew(a){return 2==(2&a)}(E)&&(p=Mu(b,null,u,f,y,_)),function dC(a,l,u,d,f){if(l)f?a.addClass(u,d):a.removeClass(u,d);else{let p=-1===d.indexOf("-")?void 0:wo.DashCase;null==f?a.removeStyle(u,d,p):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),p|=wo.Important),a.setStyle(u,d,f,p))}}(d,_,Pi(nr(),u),f,p))}function Mu(a,l,u,d,f,p){const _=null===l;let y;for(;f>0;){const b=a[f],E=Array.isArray(b),C=E?b[1]:b,N=null===C;let B=u[f+1];B===Mt&&(B=N?It:void 0);let q=N?rd(B,d):C===d?B:void 0;if(E&&!Dp(q)&&(q=rd(b,d)),Dp(q)&&(y=q,_))return y;const ce=a[f+1];f=_?Eo(ce):Ss(ce)}if(null!==l){let b=p?l.residualClasses:l.residualStyles;null!=b&&(y=rd(b,d))}return y}function Dp(a){return void 0!==a}function Ep(a,l){return 0!=(a.flags&(l?16:32))}function qw(a,l=""){const u=be(),d=qt(),f=a+22,p=d.firstCreatePass?Hi(d,f,1,l,null):d.data[f],_=u[f]=Pf(u[11],l);Lf(d,u,_,p),Ei(p,!1)}function Jd(a){return Qd("",a,""),Jd}function Qd(a,l,u){const d=be(),f=Tu(d,a,l,u);return f!==Mt&&Io(d,nr(),f),Qd}function Ip(a,l,u,d,f){const p=be(),_=function fl(a,l,u,d,f,p){const y=ya(a,Xi(),u,f);return mo(2),y?l+de(u)+d+de(f)+p:Mt}(p,a,l,u,d,f);return _!==Mt&&Io(p,nr(),_),Ip}function Mp(a,l,u){ci(Qe,Xo,Tu(be(),a,l,u),!0)}function gy(a,l,u,d,f,p,_,y,b){ci(Qe,Xo,pl(be(),a,l,u,d,f,p,_,y,b),!0)}function nT(a,l,u){const d=be();return Pr(d,qa(),l)&&qr(qt(),vn(),d,a,l,d[11],u,!0),nT}const xu=void 0;var wy=["en",[["a","p"],["AM","PM"],xu],[["AM","PM"],xu,xu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],xu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],xu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",xu,"{1} 'at' {0}",xu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function qO(a){const u=Math.floor(Math.abs(a)),d=a.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===d?1:5}];let eh={};function kp(a){const l=function Ey(a){return a.toLowerCase().replace(/_/g,"-")}(a);let u=Rp(l);if(u)return u;const d=l.split("-")[0];if(u=Rp(d),u)return u;if("en"===d)return wy;throw new pe(701,!1)}function Ty(a){return kp(a)[vt.PluralCase]}function Rp(a){return a in eh||(eh[a]=ln.ng&&ln.ng.common&&ln.ng.common.locales&&ln.ng.common.locales[a]),eh[a]}var vt=(()=>((vt=vt||{})[vt.LocaleId=0]="LocaleId",vt[vt.DayPeriodsFormat=1]="DayPeriodsFormat",vt[vt.DayPeriodsStandalone=2]="DayPeriodsStandalone",vt[vt.DaysFormat=3]="DaysFormat",vt[vt.DaysStandalone=4]="DaysStandalone",vt[vt.MonthsFormat=5]="MonthsFormat",vt[vt.MonthsStandalone=6]="MonthsStandalone",vt[vt.Eras=7]="Eras",vt[vt.FirstDayOfWeek=8]="FirstDayOfWeek",vt[vt.WeekendRange=9]="WeekendRange",vt[vt.DateFormat=10]="DateFormat",vt[vt.TimeFormat=11]="TimeFormat",vt[vt.DateTimeFormat=12]="DateTimeFormat",vt[vt.NumberSymbols=13]="NumberSymbols",vt[vt.NumberFormats=14]="NumberFormats",vt[vt.CurrencyCode=15]="CurrencyCode",vt[vt.CurrencySymbol=16]="CurrencySymbol",vt[vt.CurrencyName=17]="CurrencyName",vt[vt.Currencies=18]="Currencies",vt[vt.Directionality=19]="Directionality",vt[vt.PluralCase=20]="PluralCase",vt[vt.ExtraData=21]="ExtraData",vt))();const ZO=["zero","one","two","few","many"],th="en-US",Op={marker:"element"},Iy={marker:"ICU"};var Zn=(()=>((Zn=Zn||{})[Zn.SHIFT=2]="SHIFT",Zn[Zn.APPEND_EAGERLY=1]="APPEND_EAGERLY",Zn[Zn.COMMENT=2]="COMMENT",Zn))();let FA=th;function LA(a){(function De(a,l){null==a&&me(l,a,null,"!=")})(a,"Expected localeId to be defined"),"string"==typeof a&&(FA=a.toLowerCase().replace(/_/g,"-"))}function BA(a,l,u){const d=l.insertBeforeIndex,f=Array.isArray(d)?d[0]:d;return null===f?n_(a,0,u):jn(u[f])}function VA(a,l,u,d,f){const p=l.insertBeforeIndex;if(Array.isArray(p)){let _=d,y=null;if(3&l.type||(y=_,_=f),null!==_&&0==(2&l.flags))for(let b=1;b<p.length;b++)la(a,_,u[p[b]],y,!1)}}function M(a,l){if(a.push(l),a.length>1)for(let u=a.length-2;u>=0;u--){const d=a[u];UA(d)||JO(d,l)&&null===QO(d)&&XO(d,l.index)}}function UA(a){return!(64&a.type)}function JO(a,l){return UA(l)||a.index>l.index}function QO(a){const l=a.insertBeforeIndex;return Array.isArray(l)?l[0]:l}function XO(a,l){const u=a.insertBeforeIndex;Array.isArray(u)?u[0]=l:(r_(BA,VA),a.insertBeforeIndex=l)}function Pp(a,l){const u=a.data[l];return null===u||"string"==typeof u?null:u.hasOwnProperty("currentCaseLViewIndex")?u:u.value}function tP(a,l,u){const d=dp(a,u,64,null,null);return M(l,d),d}function Fp(a,l){const u=l[a.currentCaseLViewIndex];return null===u?u:u<0?~u:u}function Cy(a){return a>>>17}function HA(a){return(131070&a)>>>1}let Cr=0,Fr=0;function Re(a,l,u,d){const f=u[11];let _,p=null;for(let y=0;y<l.length;y++){const b=l[y];if("string"==typeof b){const E=l[++y];null===u[E]&&(u[E]=Pf(f,b))}else if("number"==typeof b)switch(1&b){case 0:const E=Cy(b);let C,N;if(null===p&&(p=E,_=to(f,d)),E===p?(C=d,N=_):(C=null,N=jn(u[E])),null!==N){const Ae=HA(b);la(f,N,u[Ae],C,!1);const Xe=Pp(a,Ae);if(null!==Xe&&"object"==typeof Xe){const _t=Fp(Xe,u);null!==_t&&Re(a,Xe.create[_t],u,u[Xe.anchorIdx])}}break;case 1:const q=l[++y],ce=l[++y];V_(f,Pi(b>>>1,u),null,null,q,ce,null)}else switch(b){case Iy:const E=l[++y],C=l[++y];null===u[C]&&Er(u[C]=Ts(f,E),u);break;case Op:const N=l[++y],B=l[++y];null===u[B]&&Er(u[B]=hd(f,N,null),u)}}}function Ao(a,l,u,d,f){for(let p=0;p<u.length;p++){const _=u[p],y=u[++p];if(_&f){let b="";for(let E=p+1;E<=p+y;E++){const C=u[E];if("string"==typeof C)b+=C;else if("number"==typeof C)if(C<0)b+=de(l[d-C]);else{const N=C>>>2;switch(3&C){case 1:const B=u[++E],q=u[++E],ce=a.data[N];"string"==typeof ce?V_(l[11],l[N],null,ce,B,b,q):qr(a,ce,l,B,b,l[11],q,!1);break;case 0:const Ae=l[N];null!==Ae&&Ym(l[11],Ae,b);break;case 2:sT(a,Pp(a,N),l,b);break;case 3:es(a,Pp(a,N),d,l)}}}}else{const b=u[p+1];if(b>0&&3==(3&b)){const C=Pp(a,b>>>2);l[C.currentCaseLViewIndex]<0&&es(a,C,d,l)}}p+=y}}function es(a,l,u,d){let f=d[l.currentCaseLViewIndex];if(null!==f){let p=Cr;f<0&&(f=d[l.currentCaseLViewIndex]=~f,p=-1),Ao(a,d,l.update[f],u,p)}}function sT(a,l,u,d){const f=function $A(a,l){let u=a.cases.indexOf(l);if(-1===u)switch(a.type){case 1:{const d=function OA(a,l){const u=Ty(l)(parseInt(a,10)),d=ZO[u];return void 0!==d?d:"other"}(l,function YO(){return FA}());u=a.cases.indexOf(d),-1===u&&"other"!==d&&(u=a.cases.indexOf("other"));break}case 0:u=a.cases.indexOf("other")}return-1===u?null:u}(l,d);if(Fp(l,u)!==f&&(ts(a,l,u),u[l.currentCaseLViewIndex]=null===f?null:~f,null!==f)){const _=u[l.anchorIdx];_&&Re(a,l.create[f],u,_)}}function ts(a,l,u){let d=Fp(l,u);if(null!==d){const f=l.remove[d];for(let p=0;p<f.length;p++){const _=f[p];if(_>0){const y=Pi(_,u);null!==y&&Bf(u[11],y)}else ts(a,Pp(a,~_),u)}}}function jA(){const a=[];let u,d,l=-1;function p(y,b){l=0;const E=Fp(y,b);d=null!==E?y.remove[E]:It}function _(){if(l<d.length){const y=d[l++];return y>0?u[y]:(a.push(l,d),p(u[1].data[~y],u),_())}return 0===a.length?null:(d=a.pop(),l=a.pop(),_())}return function f(y,b){for(u=b;a.length;)a.pop();return p(y.value,b),_}}const Ta=/\ufffd(\d+):?\d*\ufffd/gi,uT=/\ufffd(\d+)\ufffd/,cT=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,fr=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Sr=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Ny=/\uE500/g;function ns(a,l,u,d,f,p,_){const y=hl(a,d,1,null);let b=y<<Zn.SHIFT,E=Fl();l===E&&(E=null),null===E&&(b|=Zn.APPEND_EAGERLY),_&&(b|=Zn.COMMENT,function n1(a){void 0===Rf&&(Rf=a())}(jA)),f.push(b,null===p?"":p);const C=dp(a,y,_?32:1,null===p?"":p,null);M(u,C);const N=C.index;return Ei(C,!1),null!==E&&l!==E&&function iT(a,l){let u=a.insertBeforeIndex;null===u?(r_(BA,VA),u=a.insertBeforeIndex=[null,l]):(function he(a,l,u){a!=l&&me(u,a,l,"==")}(Array.isArray(u),!0,"Expecting array here"),u.push(l))}(E,N),C}function ky(a,l,u,d,f,p,_){const y=_.match(Ta),b=ns(a,l,u,p,d,y?null:_,!1);y&&rh(f,_,b.index,null,0,null)}function rh(a,l,u,d,f,p){const _=a.length,y=_+1;a.push(null,null);const b=_+2,E=l.split(Ta);let C=0;for(let N=0;N<E.length;N++){const B=E[N];if(1&N){const q=f+parseInt(B,10);a.push(-1-q),C|=fT(q)}else""!==B&&a.push(B)}return a.push(u<<2|(d?1:0)),d&&a.push(d,p),a[_]=C,a[y]=a.length-b,C}function fT(a){return 1<<Math.min(a,31)}function pT(a){let l,p,u="",d=0,f=!1;for(;null!==(l=fr.exec(a));)f?l[0]===`\ufffd/*${p}\ufffd`&&(d=l.index,f=!1):(u+=a.substring(d,l.index+l[0].length),p=l[1],f=!0);return u+=a.slice(d),u}function gT(a,l,u,d,f,p){let _=0;const y={type:f.type,currentCaseLViewIndex:hl(a,l,1,null),anchorIdx:p,cases:[],create:[],remove:[],update:[]};(function Up(a,l,u){a.push(fT(l.mainBinding),2,-1-l.mainBinding,u<<2|2)})(u,f,p),function eP(a,l,u){const d=a.data[l];null===d?a.data[l]=u:d.value=u}(a,p,y);const b=f.values;for(let E=0;E<b.length;E++){const C=b[E],N=[];for(let B=0;B<C.length;B++){const q=C[B];if("string"!=typeof q){const ce=N.push(q)-1;C[B]=`\x3c!--\ufffd${ce}\ufffd--\x3e`}}_=rP(a,y,l,u,d,f.cases[E],C.join(""),N)|_}_&&function qA(a,l,u){a.push(l,1,u<<2|3)}(u,_,p)}function Py(a){const l=[],u=[];let d=1,f=0;const p=ml(a=a.replace(cT,function(_,y,b){return d="select"===b?0:1,f=parseInt(y.slice(1),10),""}));for(let _=0;_<p.length;){let y=p[_++].trim();1===d&&(y=y.replace(/\s*(?:=)?(\w+)\s*/,"$1")),y.length&&l.push(y);const b=ml(p[_++]);l.length>u.length&&u.push(b)}return{type:d,mainBinding:f,cases:l,values:u}}function ml(a){if(!a)return[];let l=0;const u=[],d=[],f=/[{}]/g;let p;for(f.lastIndex=0;p=f.exec(a);){const y=p.index;if("}"==p[0]){if(u.pop(),0==u.length){const b=a.substring(l,y);cT.test(b)?d.push(Py(b)):d.push(b),l=y+1}}else{if(0==u.length){const b=a.substring(l,y);d.push(b),l=y+1}u.push("{")}}const _=a.substring(l);return d.push(_),d}function rP(a,l,u,d,f,p,_,y){const b=[],E=[],C=[];l.cases.push(p),l.create.push(b),l.remove.push(E),l.update.push(C);const B=al($f()).getInertBodyElement(_),q=qf(B)||B;return q?mT(a,l,u,d,b,E,C,q,f,y,0):0}function mT(a,l,u,d,f,p,_,y,b,E,C){let N=0,B=y.firstChild;for(;B;){const q=hl(a,u,1,null);switch(B.nodeType){case Node.ELEMENT_NODE:const ce=B,Ae=ce.tagName.toLowerCase();if(wd.hasOwnProperty(Ae)){Mo(f,Op,Ae,b,q),a.data[q]=Ae;const ve=ce.attributes;for(let Tt=0;Tt<ve.length;Tt++){const sn=ve.item(Tt),Rn=sn.name.toLowerCase();sn.value.match(Ta)?b1.hasOwnProperty(Rn)&&rh(_,sn.value,q,sn.name,0,uu[Rn]?ca:null):Ly(f,q,sn)}N=mT(a,l,u,d,f,p,_,B,q,E,C+1)|N,Vp(p,q,C)}break;case Node.TEXT_NODE:const Be=B.textContent||"",Xe=Be.match(Ta);Mo(f,null,Xe?"":Be,b,q),Vp(p,q,C),Xe&&(N=rh(_,Be,q,null,0,null)|N);break;case Node.COMMENT_NODE:const _t=uT.exec(B.textContent||"");if(_t){const Tt=E[parseInt(_t[1],10)];Mo(f,Iy,"",b,q),gT(a,u,d,b,Tt,q),Fy(p,q,C)}}B=B.nextSibling}return N}function Vp(a,l,u){0===u&&a.push(l)}function Fy(a,l,u){0===u&&(a.push(~l),a.push(l))}function Mo(a,l,u,d,f){null!==l&&a.push(l),a.push(u,f,function Lp(a,l,u){return a|l<<17|u<<1}(0,d,f))}function Ly(a,l,u){a.push(l<<1|1,u.name,u.value)}function vT(a,l,u=-1){const d=qt(),f=be(),p=22+a,_=Qi(d.consts,l),y=Fl();d.firstCreatePass&&function xy(a,l,u,d,f,p){const _=Fl(),y=[],b=[],E=[[]];f=function Oy(a,l){if(function Ry(a){return-1===a}(l))return pT(a);{const u=a.indexOf(`:${l}\ufffd`)+2+l.toString().length,d=a.search(new RegExp(`\ufffd\\/\\*\\d+:${l}\ufffd`));return pT(a.substring(u,d))}}(f,p);const C=function dT(a){return a.replace(Ny," ")}(f).split(Sr);for(let N=0;N<C.length;N++){let B=C[N];if(0==(1&N)){const q=ml(B);for(let ce=0;ce<q.length;ce++){let Ae=q[ce];if(0==(1&ce)){const Be=Ae;""!==Be&&ky(a,_,E[0],y,b,u,Be)}else{const Be=Ae;if("object"!=typeof Be)throw new Error(`Unable to parse ICU expression in "${f}" message.`);gT(a,u,b,l,Be,ns(a,_,E[0],u,y,"",!0).index)}}}else{const q=47===B.charCodeAt(0),Ae=(B.charCodeAt(q?1:0),22+Number.parseInt(B.substring(q?2:1)));if(q)E.shift(),Ei(Fl(),!1);else{const Be=tP(a,E[0],Ae);E.unshift([]),Ei(Be,!0)}}}a.data[d]={create:y,update:b}}(d,null===y?0:y.index,f,p,_,u);const b=d.data[p],C=d1(d,y===f[6]?null:y,f);(function Ay(a,l,u,d){const f=a[11];for(let p=0;p<l.length;p++){const _=l[p++],y=l[p],b=(_&Zn.COMMENT)===Zn.COMMENT,E=(_&Zn.APPEND_EAGERLY)===Zn.APPEND_EAGERLY,C=_>>>Zn.SHIFT;let N=a[C];null===N&&(N=a[C]=b?f.createComment(y):Pf(f,y)),E&&null!==u&&la(f,u,N,d,!1)}})(f,b.create,C,y&&8&y.type?f[y.index]:null),Pc(!0)}function Ru(a,l,u){vT(a,l,u),function Hp(){Pc(!1)}()}function ks(a){return function oT(a){a&&(Cr|=1<<Math.min(Fr,31)),Fr++}(Pr(be(),qa(),a)),ks}function YA(a){!function ku(a,l,u){if(Fr>0){const d=a.data[u];Ao(a,l,Array.isArray(d)?d:d.update,Xi()-Fr-1,Cr)}Cr=0,Fr=0}(qt(),be(),a+22)}function Ea(a,l,u,d,f){if(a=G(a),Array.isArray(a))for(let p=0;p<a.length;p++)Ea(a[p],l,u,d,f);else{const p=qt(),_=be();let y=ul(a)?a:G(a.provide),b=N1(a);const E=qn(),C=1048575&E.providerIndexes,N=E.directiveStart,B=E.providerIndexes>>20;if(ul(a)||!a.multi){const q=new Zs(b,f,hu),ce=sh(y,l,f?C:C+B,N);-1===ce?(ys(_s(E,_),p,y),jp(p,a,l.length),l.push(y),E.directiveStart++,E.directiveEnd++,f&&(E.providerIndexes+=1048576),u.push(q),_.push(q)):(u[ce]=q,_[ce]=q)}else{const q=sh(y,l,C+B,N),ce=sh(y,l,C,C+B),Ae=q>=0&&u[q],Be=ce>=0&&u[ce];if(f&&!Be||!f&&!Ae){ys(_s(E,_),p,y);const Xe=function DT(a,l,u,d,f){const p=new Zs(a,u,hu);return p.multi=[],p.index=l,p.componentProviders=0,Uy(p,f,d&&!u),p}(f?TT:wT,u.length,f,d,b);!f&&Be&&(u[ce].providerFactory=Xe),jp(p,a,l.length,0),l.push(y),E.directiveStart++,E.directiveEnd++,f&&(E.providerIndexes+=1048576),u.push(Xe),_.push(Xe)}else jp(p,a,q>-1?q:ce,Uy(u[f?ce:q],b,!f&&d));!f&&d&&Be&&u[ce].componentProviders++}}}function jp(a,l,u,d){const f=ul(l),p=function LC(a){return!!a.useClass}(l);if(f||p){const b=(p?G(l.useClass):l).prototype.ngOnDestroy;if(b){const E=a.destroyHooks||(a.destroyHooks=[]);if(!f&&l.multi){const C=E.indexOf(u);-1===C?E.push(u,[d,b]):E[C+1].push(d,b)}else E.push(u,b)}}}function Uy(a,l,u){return u&&a.componentProviders++,a.multi.push(l)-1}function sh(a,l,u,d){for(let f=u;f<d;f++)if(l[f]===a)return f;return-1}function wT(a,l,u,d){return Gp(this.multi,[])}function TT(a,l,u,d){const f=this.multi;let p;if(this.providerFactory){const _=this.providerFactory.componentProviders,y=Ho(u,u[1],this.providerFactory.index,d);p=y.slice(0,_),Gp(f,p);for(let b=_;b<y.length;b++)p.push(y[b])}else p=[],Gp(f,p);return p}function Gp(a,l){for(let u=0;u<a.length;u++)l.push((0,a[u])());return l}function Hy(a,l=[]){return u=>{u.providersResolver=(d,f)=>function $p(a,l,u){const d=qt();if(d.firstCreatePass){const f=ni(a);Ea(u,d.data,d.blueprint,f,!0),Ea(l,d.data,d.blueprint,f,!1)}}(d,f?f(a):a,l)}}class Rs{}class JA{}function QA(a,l){return new $y(a,l??null)}class $y extends Rs{constructor(l,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Vd(this);const d=$t(l);this._bootstrapComponents=Wo(d.bootstrap),this._r3Injector=Ad(l,u,[{provide:Rs,useValue:this},{provide:fa,useValue:this.componentFactoryResolver}],se(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class jy extends JA{constructor(l){super(),this.moduleType=l}create(l){return new $y(this.moduleType,l)}}class ET extends Rs{constructor(l,u,d){super(),this.componentFactoryResolver=new Vd(this),this.instance=null;const f=new __([...l,{provide:Rs,useValue:this},{provide:fa,useValue:this.componentFactoryResolver}],u||Ed(),d,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function Gy(a,l,u=null){return new ET(a,l,u).injector}let XA=(()=>{class a{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const d=C1(0,u.type),f=d.length>0?Gy([d],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,f)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return a.\u0275prov=ze({token:a,providedIn:"environment",factory:()=>new a(Kt(ha))}),a})();function di(a){a.getStandaloneInjector=l=>l.get(XA).getOrCreateStandaloneInjector(a)}function xT(a,l,u,d){return Ou(be(),zn(),a,l,u,d)}function zp(a,l,u,d,f){return function rs(a,l,u,d,f,p,_){const y=l+u;return ya(a,y,f,p)?$i(a,y+2,_?d.call(_,f,p):d(f,p)):_l(a,y+2)}(be(),zn(),a,l,u,d,f)}function kT(a,l,u,d,f,p){return function Wp(a,l,u,d,f,p,_,y){const b=l+u;return function jd(a,l,u,d,f){const p=ya(a,l,u,d);return Pr(a,l+2,f)||p}(a,b,f,p,_)?$i(a,b+3,y?d.call(y,f,p,_):d(f,p,_)):_l(a,b+3)}(be(),zn(),a,l,u,d,f,p)}function _l(a,l){const u=a[l];return u===Mt?void 0:u}function Ou(a,l,u,d,f,p){const _=l+u;return Pr(a,_,f)?$i(a,_+1,p?d.call(p,f):d(f)):_l(a,_+1)}function OT(a,l){const u=qt();let d;const f=a+22;u.firstCreatePass?(d=function r0(a,l){if(l)for(let u=l.length-1;u>=0;u--){const d=l[u];if(a===d.name)return d}}(l,u.pipeRegistry),u.data[f]=d,d.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(f,d.onDestroy)):d=u.data[f];const p=d.factory||(d.factory=Vo(d.type)),_=ur(hu);try{const y=Za(!1),b=p();return Za(y),function oA(a,l,u,d){u>=a.data.length&&(a.data[u]=null,a.blueprint[u]=null),l[u]=d}(u,be(),f,b),b}finally{ur(_)}}function Zp(a,l,u){const d=a+22,f=be(),p=ds(f,d);return function vl(a,l){return a[1].data[l].pure}(f,d)?Ou(f,zn(),l,p.transform,u,p):p.transform(u)}function s0(a){return l=>{setTimeout(a,void 0,l)}}const is=class ah extends o.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,u,d){let f=l,p=u||(()=>null),_=d;if(l&&"object"==typeof l){const b=l;f=b.next?.bind(b),p=b.error?.bind(b),_=b.complete?.bind(b)}this.__isAsync&&(p=s0(p),f&&(f=s0(f)),_&&(_=s0(_)));const y=super.subscribe({next:f,error:p,complete:_});return l instanceof z.w0&&l.add(y),y}};function lh(){return this._results[Co()]()}class PT{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Co(),d=PT.prototype;d[u]||(d[u]=lh)}get changes(){return this._changes||(this._changes=new is)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,u){return this._results.reduce(l,u)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,u){const d=this;d.dirty=!1;const f=on(l);(this._changesDetected=!function wr(a,l,u){if(a.length!==l.length)return!1;for(let d=0;d<a.length;d++){let f=a[d],p=l[d];if(u&&(f=u(f),p=u(p)),p!==f)return!1}return!0}(d._results,f,u))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Pu=(()=>{class a{}return a.__NG_ELEMENT_ID__=Kp,a})();const Ia=Pu,FT=class extends Ia{constructor(l,u,d){super(),this._declarationLView=l,this._declarationTContainer=u,this.elementRef=d}createEmbeddedView(l,u){const d=this._declarationTContainer.tViews,f=Rd(this._declarationLView,d,l,16,null,d.declTNode,null,null,null,null,u||null);f[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(f[19]=_.createEmbeddedView(d)),io(d,f,l),new Bd(f)}};function Kp(){return a0(qn(),be())}function a0(a,l){return 4&a.type?new FT(l,a,pa(a,l)):null}let Yp=(()=>{class a{}return a.__NG_ELEMENT_ID__=sP,a})();function sP(){return cM(qn(),be())}const uM=Yp,Fu=class extends uM{constructor(l,u,d){super(),this._lContainer=l,this._hostTNode=u,this._hostLView=d}get element(){return pa(this._hostTNode,this._hostLView)}get injector(){return new Js(this._hostTNode,this._hostLView)}get parentInjector(){const l=zl(this._hostTNode,this._hostLView);if(_f(l)){const u=Ys(l,this._hostLView),d=rr(l);return new Js(u[1].data[d+8],u)}return new Js(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const u=LT(this._lContainer);return null!==u&&u[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,u,d){let f,p;"number"==typeof d?f=d:null!=d&&(f=d.index,p=d.injector);const _=l.createEmbeddedView(u||{},p);return this.insert(_,f),_}createComponent(l,u,d,f,p){const _=l&&!function eo(a){return"function"==typeof a}(l);let y;if(_)y=u;else{const N=u||{};y=N.index,d=N.injector,f=N.projectableNodes,p=N.environmentInjector||N.ngModuleRef}const b=_?l:new Ud(te(l)),E=d||this.parentInjector;if(!p&&null==b.ngModule){const B=(_?E:this.parentInjector).get(ha,null);B&&(p=B)}const C=b.create(E,f,void 0,p);return this.insert(C.hostView,y),C}insert(l,u){const d=l._lView,f=d[1];if(function af(a){return Ti(a[3])}(d)){const C=this.indexOf(l);if(-1!==C)this.detach(C);else{const N=d[3],B=new Fu(N,N[6],N[3]);B.detach(B.indexOf(l))}}const p=this._adjustIndex(u),_=this._lContainer;!function oC(a,l,u,d){const f=10+d,p=u.length;d>0&&(u[f-1][4]=l),d<p-10?(l[4]=u[f],ra(u,10+d,l)):(u.push(l),l[4]=null),l[3]=u;const _=l[17];null!==_&&u!==_&&function sC(a,l){const u=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===u?a[9]=[l]:u.push(l)}(_,l);const y=l[19];null!==y&&y.insertView(a),l[2]|=64}(f,d,_,p);const y=fd(p,_),b=d[11],E=to(b,_[7]);return null!==E&&function Ff(a,l,u,d,f,p){d[0]=f,d[6]=l,sl(a,d,u,1,f,p)}(f,_[6],b,d,E,y),l.attachToViewContainerRef(),ra(uh(_),p,l),l}move(l,u){return this.insert(l,u)}indexOf(l){const u=LT(this._lContainer);return null!==u?u.indexOf(l):-1}remove(l){const u=this._adjustIndex(l,-1),d=Jm(this._lContainer,u);d&&(Tr(uh(this._lContainer),u),u1(d[1],d))}detach(l){const u=this._adjustIndex(l,-1),d=Jm(this._lContainer,u);return d&&null!=Tr(uh(this._lContainer),u)?new Bd(d):null}_adjustIndex(l,u=0){return l??this.length+u}};function LT(a){return a[8]}function uh(a){return a[8]||(a[8]=[])}function cM(a,l){let u;const d=l[a.index];if(Ti(d))u=d;else{let f;if(8&a.type)f=jn(d);else{const p=l[11];f=p.createComment("");const _=kr(a,l);la(p,to(p,_),f,function au(a,l){return a.nextSibling(l)}(p,_),!1)}l[a.index]=u=_a(d,l,f,a),_p(l,u)}return new Fu(u,a,l)}class Jp{constructor(l){this.queryList=l,this.matches=null}clone(){return new Jp(this.queryList)}setDirty(){this.queryList.setDirty()}}class VT{constructor(l=[]){this.queries=l}createEmbeddedView(l){const u=l.queries;if(null!==u){const d=null!==l.contentQueries?l.contentQueries[0]:u.length,f=[];for(let p=0;p<d;p++){const _=u.getByIndex(p);f.push(this.queries[_.indexInDeclarationView].clone())}return new VT(f)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let u=0;u<this.queries.length;u++)null!==og(l,u).matches&&this.queries[u].setDirty()}}class Qp{constructor(l,u,d=null){this.predicate=l,this.flags=u,this.read=d}}class Lu{constructor(l=[]){this.queries=l}elementStart(l,u){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(l,u)}elementEnd(l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(l)}embeddedTView(l){let u=null;for(let d=0;d<this.length;d++){const f=null!==u?u.length:0,p=this.getByIndex(d).embeddedTView(l,f);p&&(p.indexInDeclarationView=d,null!==u?u.push(p):u=[p])}return null!==u?new Lu(u):null}template(l,u){for(let d=0;d<this.queries.length;d++)this.queries[d].template(l,u)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class Xp{constructor(l,u=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(l,u){this.isApplyingToNode(u)&&this.matchTNode(l,u)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,u){this.elementStart(l,u)}embeddedTView(l,u){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,u),new Xp(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let d=l.parent;for(;null!==d&&8&d.type&&d.index!==u;)d=d.parent;return u===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(l,u){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const p=d[f];this.matchTNodeWithReadOption(l,u,UT(u,p)),this.matchTNodeWithReadOption(l,u,Wl(u,l,p,!1,!1))}else d===Pu?4&u.type&&this.matchTNodeWithReadOption(l,u,-1):this.matchTNodeWithReadOption(l,u,Wl(u,l,d,!1,!1))}matchTNodeWithReadOption(l,u,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===cl||f===Yp||f===Pu&&4&u.type)this.addMatch(u.index,-2);else{const p=Wl(u,l,f,!1,!1);null!==p&&this.addMatch(u.index,p)}else this.addMatch(u.index,d)}}addMatch(l,u){null===this.matches?this.matches=[l,u]:this.matches.push(l,u)}}function UT(a,l){const u=a.localNames;if(null!==u)for(let d=0;d<u.length;d+=2)if(u[d]===l)return u[d+1];return null}function u0(a,l,u,d){return-1===u?function aP(a,l){return 11&a.type?pa(a,l):4&a.type?a0(a,l):null}(l,a):-2===u?function c0(a,l,u){return u===cl?pa(l,a):u===Pu?a0(l,a):u===Yp?cM(l,a):void 0}(a,l,d):Ho(a,a[1],u,l)}function eg(a,l,u,d){const f=l[19].queries[d];if(null===f.matches){const p=a.data,_=u.matches,y=[];for(let b=0;b<_.length;b+=2){const E=_[b];y.push(E<0?null:u0(l,p[E],_[b+1],u.metadata.read))}f.matches=y}return f.matches}function Bu(a,l,u,d){const f=a.queries.getByIndex(u),p=f.matches;if(null!==p){const _=eg(a,l,f,u);for(let y=0;y<p.length;y+=2){const b=p[y];if(b>0)d.push(_[y/2]);else{const E=p[y+1],C=l[-b];for(let N=10;N<C.length;N++){const B=C[N];B[17]===B[3]&&Bu(B[1],B,E,d)}if(null!==C[9]){const N=C[9];for(let B=0;B<N.length;B++){const q=N[B];Bu(q[1],q,E,d)}}}}}return d}function tg(a){const l=be(),u=qt(),d=Lc();Bc(d+1);const f=og(u,d);if(a.dirty&&function sf(a){return 4==(4&a[2])}(l)===(2==(2&f.metadata.flags))){if(null===f.matches)a.reset([]);else{const p=f.crossesNgTemplate?Bu(u,l,d,[]):eg(u,l,f,d);a.reset(p,zC),a.notifyOnChanges()}return!0}return!1}function d0(a,l,u){const d=qt();d.firstCreatePass&&(ig(d,new Qp(a,l,u),-1),2==(2&l)&&(d.staticViewQueries=!0)),rg(d,be(),l)}function ng(a,l,u,d){const f=qt();if(f.firstCreatePass){const p=qn();ig(f,new Qp(l,u,d),p.index),function dM(a,l){const u=a.contentQueries||(a.contentQueries=[]);l!==(u.length?u[u.length-1]:-1)&&u.push(a.queries.length-1,l)}(f,a),2==(2&u)&&(f.staticContentQueries=!0)}rg(f,be(),u)}function h0(){return function f0(a,l){return a[19].queries[l].queryList}(be(),Lc())}function rg(a,l,u){const d=new PT(4==(4&u));uw(a,l,d,d.destroy),null===l[19]&&(l[19]=new VT),l[19].queries.push(new Jp(d))}function ig(a,l,u){null===a.queries&&(a.queries=new Lu),a.queries.track(new Xp(l,u))}function og(a,l){return a.queries.getByIndex(l)}function HT(a,l){return a0(a,l)}const pP=oi("Input",a=>({bindingPropertyName:a})),gP=oi("Output",a=>({bindingPropertyName:a})),E0=oi("HostListener",(a,l)=>({eventName:a,args:l}));function $u(...a){}const nD=new hn("Application Initializer");let hg=(()=>{class a{constructor(u){this.appInits=u,this.resolve=$u,this.reject=$u,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const u=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const p=this.appInits[f]();if(un(p))u.push(p);else if(gl(p)){const _=new Promise((y,b)=>{p.subscribe({complete:y,error:b})});u.push(_)}}Promise.all(u).then(()=>{d()}).catch(f=>{this.reject(f)}),0===u.length&&d(),this.initialized=!0}}return a.\u0275fac=function(u){return new(u||a)(Kt(nD,8))},a.\u0275prov=ze({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const rD=new hn("AppId",{providedIn:"root",factory:function fg(){return`${oD()}${oD()}${oD()}`}});function oD(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const dh=new hn("Platform Initializer"),sD=new hn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),aD=new hn("appBootstrapListener"),TM=new hn("AnimationModuleType");let _P=(()=>{class a{log(u){console.log(u)}warn(u){console.warn(u)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=ze({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const I0=new hn("LocaleId",{providedIn:"root",factory:()=>Cn(I0,Ze.Optional|Ze.SkipSelf)||function DM(){return typeof $localize<"u"&&$localize.locale||th}()}),lD=new hn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class EM{constructor(l,u){this.ngModuleFactory=l,this.componentFactories=u}}let pr=(()=>{class a{compileModuleSync(u){return new jy(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const d=this.compileModuleSync(u),p=Wo($t(u).declarations).reduce((_,y)=>{const b=te(y);return b&&_.push(new Ud(b)),_},[]);return new EM(d,p)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=ze({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const SM=(()=>Promise.resolve(0))();function ju(a){typeof Zone>"u"?SM.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class zr{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new is(!1),this.onMicrotaskEmpty=new is(!1),this.onStable=new is(!1),this.onError=new is(!1),typeof Zone>"u")throw new pe(908,!1);Zone.assertZonePatched();const f=this;if(f._nesting=0,f._outer=f._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const p=Zone.AsyncStackTaggingZoneSpec;f._inner=f._inner.fork(new p("Angular"))}Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&u,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function dD(){let a=ln.requestAnimationFrame,l=ln.cancelAnimationFrame;if(typeof Zone<"u"&&a&&l){const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u);const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function hD(a){const l=()=>{!function A0(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(ln,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,hh(a),a.isCheckStableRunning=!0,S0(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),hh(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,d,f,p,_,y)=>{try{return fD(a),u.invokeTask(f,p,_,y)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||a.shouldCoalesceRunChangeDetection)&&l(),mg(a)}},onInvoke:(u,d,f,p,_,y,b)=>{try{return fD(a),u.invoke(f,p,_,y,b)}finally{a.shouldCoalesceRunChangeDetection&&l(),mg(a)}},onHasTask:(u,d,f,p)=>{u.hasTask(f,p),d===f&&("microTask"==p.change?(a._hasPendingMicrotasks=p.microTask,hh(a),S0(a)):"macroTask"==p.change&&(a.hasPendingMacrotasks=p.macroTask))},onHandleError:(u,d,f,p)=>(u.handleError(f,p),a.runOutsideAngular(()=>a.onError.emit(p)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!zr.isInAngularZone())throw new pe(909,!1)}static assertNotInAngularZone(){if(zr.isInAngularZone())throw new pe(909,!1)}run(l,u,d){return this._inner.run(l,u,d)}runTask(l,u,d,f){const p=this._inner,_=p.scheduleEventTask("NgZoneEvent: "+f,l,gg,$u,$u);try{return p.runTask(_,u,d)}finally{p.cancelTask(_)}}runGuarded(l,u,d){return this._inner.runGuarded(l,u,d)}runOutsideAngular(l){return this._outer.run(l)}}const gg={};function S0(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function hh(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function fD(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function mg(a){a._nesting--,S0(a)}class pD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new is,this.onMicrotaskEmpty=new is,this.onStable=new is,this.onError=new is}run(l,u,d){return l.apply(u,d)}runGuarded(l,u,d){return l.apply(u,d)}runOutsideAngular(l){return l()}runTask(l,u,d,f){return l.apply(u,d)}}const gD=new hn(""),mD=new hn("");let M0,wP=(()=>{class a{constructor(u,d,f){this._ngZone=u,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,M0||(function AM(a){M0=a}(f),f.addToWindow(d)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{zr.assertNotInAngularZone(),ju(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ju(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(u)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,d,f){let p=-1;d&&d>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==p),u(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:u,timeoutId:p,updateCb:f})}whenStable(u,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,d,f){return[]}}return a.\u0275fac=function(u){return new(u||a)(Kt(zr),Kt(_D),Kt(mD))},a.\u0275prov=ze({token:a,factory:a.\u0275fac}),a})(),_D=(()=>{class a{constructor(){this._applications=new Map}registerApplication(u,d){this._applications.set(u,d)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,d=!0){return M0?.findTestabilityInTree(this,u,d)??null}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=ze({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})(),Sa=null;const _g=new hn("AllowMultipleToken"),N0=new hn("PlatformDestroyListeners");class yg{constructor(l,u){this.name=l,this.token=u}}function wD(a,l,u=[]){const d=`Platform: ${l}`,f=new hn(d);return(p=[])=>{let _=x0();if(!_||_.injector.get(_g,!1)){const y=[...u,...p,{provide:f,useValue:!0}];a?a(y):function NM(a){if(Sa&&!Sa.get(_g,!1))throw new pe(400,!1);Sa=a;const l=a.get(k0);(function vD(a){const l=a.get(dh,null);l&&l.forEach(u=>u())})(a)}(function TD(a=[],l){return Do.create({name:l,providers:[{provide:m_,useValue:"platform"},{provide:N0,useValue:new Set([()=>Sa=null])},...a]})}(y,d))}return function kM(a){const l=x0();if(!l)throw new pe(401,!1);return l}()}}function x0(){return Sa?.get(k0)??null}let k0=(()=>{class a{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,d){const f=function RM(a,l){let u;return u="noop"===a?new pD:("zone.js"===a?void 0:a)||new zr(l),u}(d?.ngZone,function DD(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!a||!a.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!a||!a.ngZoneRunCoalescing)||!1}}(d)),p=[{provide:zr,useValue:f}];return f.run(()=>{const _=Do.create({providers:p,parent:this.injector,name:u.moduleType.name}),y=u.create(_),b=y.injector.get(ga,null);if(!b)throw new pe(402,!1);return f.runOutsideAngular(()=>{const E=f.onError.subscribe({next:C=>{b.handleError(C)}});y.onDestroy(()=>{Gu(this._modules,y),E.unsubscribe()})}),function ED(a,l,u){try{const d=u();return un(d)?d.catch(f=>{throw l.runOutsideAngular(()=>a.handleError(f)),f}):d}catch(d){throw l.runOutsideAngular(()=>a.handleError(d)),d}}(b,f,()=>{const E=y.injector.get(hg);return E.runInitializers(),E.donePromise.then(()=>(LA(y.injector.get(I0,th)||th),this._moduleDoBootstrap(y),y))})})}bootstrapModule(u,d=[]){const f=vg({},d);return function yD(a,l,u){const d=new jy(u);return Promise.resolve(d)}(0,0,u).then(p=>this.bootstrapModuleFactory(p,f))}_moduleDoBootstrap(u){const d=u.injector.get(R0);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!u.instance.ngDoBootstrap)throw new pe(403,!1);u.instance.ngDoBootstrap(d)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new pe(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const u=this._injector.get(N0,null);u&&(u.forEach(d=>d()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(u){return new(u||a)(Kt(Do))},a.\u0275prov=ze({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function vg(a,l){return Array.isArray(l)?l.reduce(vg,a):{...a,...l}}let R0=(()=>{class a{constructor(u,d,f){this._zone=u,this._injector=d,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new V.y(y=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{y.next(this._stable),y.complete()})}),_=new V.y(y=>{let b;this._zone.runOutsideAngular(()=>{b=this._zone.onStable.subscribe(()=>{zr.assertNotInAngularZone(),ju(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,y.next(!0))})})});const E=this._zone.onUnstable.subscribe(()=>{zr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{y.next(!1)}))});return()=>{b.unsubscribe(),E.unsubscribe()}});this.isStable=(0,ee.T)(p,_.pipe((0,J.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,d){const f=u instanceof jC;if(!this._injector.get(hg).done)throw!f&&wt(u),new pe(405,false);let _;_=f?u:this._injector.get(fa).resolveComponentFactory(u),this.componentTypes.push(_.componentType);const y=function MM(a){return a.isBoundToModule}(_)?void 0:this._injector.get(Rs),E=_.create(Do.NULL,[],d||_.selector,y),C=E.location.nativeElement,N=E.injector.get(gD,null);return N?.registerApplication(C),E.onDestroy(()=>{this.detachView(E.hostView),Gu(this.components,E),N?.unregisterApplication(C)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new pe(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const d=u;this._views.push(d),d.attachToAppRef(this)}detachView(u){const d=u;Gu(this._views,d),d.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(aD,[]).concat(this._bootstrapListeners).forEach(f=>f(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>Gu(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new pe(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return a.\u0275fac=function(u){return new(u||a)(Kt(zr),Kt(ha),Kt(ga))},a.\u0275prov=ze({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function Gu(a,l){const u=a.indexOf(l);u>-1&&a.splice(u,1)}let PM=!0,bg=!1;function P0(){return bg=!0,PM}function F0(){if(bg)throw new Error("Cannot enable prod mode after platform setup.");PM=!1}let bl=(()=>{class a{}return a.__NG_ELEMENT_ID__=L0,a})();function L0(a){return function LM(a,l,u){if(Tc(a)&&!u){const d=Xt(a.index,l);return new Bd(d,d)}return 47&a.type?new Bd(l[16],l):null}(qn(),be(),16==(16&a))}class H0{constructor(){}supports(l){return Hd(l)}create(l){return new jM(l)}}const MP=(a,l)=>l;class jM{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||MP}forEachItem(l){let u;for(u=this._itHead;null!==u;u=u._next)l(u)}forEachOperation(l){let u=this._itHead,d=this._removalsHead,f=0,p=null;for(;u||d;){const _=!d||u&&u.currentIndex<Tg(d,f,p)?u:d,y=Tg(_,f,p),b=_.currentIndex;if(_===d)f--,d=d._nextRemoved;else if(u=u._next,null==_.previousIndex)f++;else{p||(p=[]);const E=y-f,C=b-f;if(E!=C){for(let B=0;B<E;B++){const q=B<p.length?p[B]:p[B]=0,ce=q+B;C<=ce&&ce<E&&(p[B]=q+1)}p[_.previousIndex]=C-E}}y!==b&&l(_,y,b)}}forEachPreviousItem(l){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachMovedItem(l){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}forEachIdentityChange(l){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)l(u)}diff(l){if(null==l&&(l=[]),!Hd(l))throw new pe(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let f,p,_,u=this._itHead,d=!1;if(Array.isArray(l)){this.length=l.length;for(let y=0;y<this.length;y++)p=l[y],_=this._trackByFn(y,p),null!==u&&Object.is(u.trackById,_)?(d&&(u=this._verifyReinsertion(u,p,_,y)),Object.is(u.item,p)||this._addIdentityChange(u,p)):(u=this._mismatch(u,p,_,y),d=!0),u=u._next}else f=0,function J_(a,l){if(Array.isArray(a))for(let u=0;u<a.length;u++)l(a[u]);else{const u=a[Co()]();let d;for(;!(d=u.next()).done;)l(d.value)}}(l,y=>{_=this._trackByFn(f,y),null!==u&&Object.is(u.trackById,_)?(d&&(u=this._verifyReinsertion(u,y,_,f)),Object.is(u.item,y)||this._addIdentityChange(u,y)):(u=this._mismatch(u,y,_,f),d=!0),u=u._next,f++}),this.length=f;return this._truncate(u),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,u,d,f){let p;return null===l?p=this._itTail:(p=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._reinsertAfter(l,p,f)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._moveAfter(l,p,f)):l=this._addAfter(new $0(u,d),p,f),l}_verifyReinsertion(l,u,d,f){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==p?l=this._reinsertAfter(p,l._prev,f):l.currentIndex!=f&&(l.currentIndex=f,this._addToMoves(l,f)),l}_truncate(l){for(;null!==l;){const u=l._next;this._addToRemovals(this._unlink(l)),l=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,u,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const f=l._prevRemoved,p=l._nextRemoved;return null===f?this._removalsHead=p:f._nextRemoved=p,null===p?this._removalsTail=f:p._prevRemoved=f,this._insertAfter(l,u,d),this._addToMoves(l,d),l}_moveAfter(l,u,d){return this._unlink(l),this._insertAfter(l,u,d),this._addToMoves(l,d),l}_addAfter(l,u,d){return this._insertAfter(l,u,d),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,u,d){const f=null===u?this._itHead:u._next;return l._next=f,l._prev=u,null===f?this._itTail=l:f._prev=l,null===u?this._itHead=l:u._next=l,null===this._linkedRecords&&(this._linkedRecords=new AD),this._linkedRecords.put(l),l.currentIndex=d,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const u=l._prev,d=l._next;return null===u?this._itHead=d:u._next=d,null===d?this._itTail=u:d._prev=u,l}_addToMoves(l,u){return l.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new AD),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,u){return l.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class $0{constructor(l,u){this.item=l,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class NP{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,u){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===u||u<=d.currentIndex)&&Object.is(d.trackById,l))return d;return null}remove(l){const u=l._prevDup,d=l._nextDup;return null===u?this._head=d:u._nextDup=d,null===d?this._tail=u:d._prevDup=u,null===this._head}}class AD{constructor(){this.map=new Map}put(l){const u=l.trackById;let d=this.map.get(u);d||(d=new NP,this.map.set(u,d)),d.add(l)}get(l,u){const f=this.map.get(l);return f?f.get(l,u):null}remove(l){const u=l.trackById;return this.map.get(u).remove(l)&&this.map.delete(u),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Tg(a,l,u){const d=a.previousIndex;if(null===d)return d;let f=0;return u&&d<u.length&&(f=u[d]),d+l+f}class GM{constructor(){}supports(l){return l instanceof Map||Q_(l)}create(){return new qM}}class qM{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let u;for(u=this._mapHead;null!==u;u=u._next)l(u)}forEachPreviousItem(l){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)l(u)}forEachChangedItem(l){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}diff(l){if(l){if(!(l instanceof Map||Q_(l)))throw new pe(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(l,(d,f)=>{if(u&&u.key===f)this._maybeAddToChanges(u,d),this._appendAfter=u,u=u._next;else{const p=this._getOrCreateRecordForKey(f,d);u=this._insertBeforeOrAppend(u,p)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let d=u;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,u){if(l){const d=l._prev;return u._next=l,u._prev=d,l._prev=u,d&&(d._next=u),l===this._mapHead&&(this._mapHead=u),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(l,u){if(this._records.has(l)){const f=this._records.get(l);this._maybeAddToChanges(f,u);const p=f._prev,_=f._next;return p&&(p._next=_),_&&(_._prev=p),f._next=null,f._prev=null,f}const d=new j0(l);return this._records.set(l,d),d.currentValue=u,this._addToAdditions(d),d}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,u){Object.is(u,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=u,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,u){l instanceof Map?l.forEach(u):Object.keys(l).forEach(d=>u(l[d],d))}}class j0{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function zM(){return new ph([new H0])}let ph=(()=>{class a{constructor(u){this.factories=u}static create(u,d){if(null!=d){const f=d.factories.slice();u=u.concat(f)}return new a(u)}static extend(u){return{provide:a,useFactory:d=>a.create(u,d||zM()),deps:[[a,new tt,new ue]]}}find(u){const d=this.factories.find(f=>f.supports(u));if(null!=d)return d;throw new pe(901,!1)}}return a.\u0275prov=ze({token:a,providedIn:"root",factory:zM}),a})();function Dg(){return new Eg([new GM])}let Eg=(()=>{class a{constructor(u){this.factories=u}static create(u,d){if(d){const f=d.factories.slice();u=u.concat(f)}return new a(u)}static extend(u){return{provide:a,useFactory:d=>a.create(u,d||Dg()),deps:[[a,new tt,new ue]]}}find(u){const d=this.factories.find(f=>f.supports(u));if(d)return d;throw new pe(901,!1)}}return a.\u0275prov=ze({token:a,providedIn:"root",factory:Dg}),a})();const MD=wD(null,"core",[]);let YM=(()=>{class a{constructor(u){}}return a.\u0275fac=function(u){return new(u||a)(Kt(R0))},a.\u0275mod=zt({type:a}),a.\u0275inj=Bt({}),a})();function JM(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}},3942:(it,ye,x)=>{x.d(ye,{Z:()=>pe});var o=x(2090),z=x(4859),V=x(9681),ee=x(1877);class J{constructor(de,re){this._delegate=de,this.firebase=re,(0,V._addComponent)(de,new z.wA("app-compat",()=>this,"PUBLIC")),this.container=de.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(de){this._delegate.automaticDataCollectionEnabled=de}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(de=>{this._delegate.checkDestroyed(),de()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,V.deleteApp)(this._delegate)))}_getService(de,re=V._DEFAULT_ENTRY_NAME){var We;this._delegate.checkDestroyed();const ct=this._delegate.container.getProvider(de);return!ct.isInitialized()&&"EXPLICIT"===(null===(We=ct.getComponent())||void 0===We?void 0:We.instantiationMode)&&ct.initialize(),ct.getImmediate({identifier:re})}_removeServiceInstance(de,re=V._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(de).clearInstance(re)}_addComponent(de){(0,V._addComponent)(this._delegate,de)}_addOrOverwriteComponent(de){(0,V._addOrOverwriteComponent)(this._delegate,de)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Y=new o.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),P=function ae(){const Ke=function se(Ke){const de={},re={__esModule:!0,initializeApp:function Ce(ke,ie={}){const he=V.initializeApp(ke,ie);if((0,o.r3)(de,he.name))return de[he.name];const Oe=new Ke(he,re);return de[he.name]=Oe,Oe},app:ct,registerVersion:V.registerVersion,setLogLevel:V.setLogLevel,onLog:V.onLog,apps:null,SDK_VERSION:V.SDK_VERSION,INTERNAL:{registerComponent:function ge(ke){const ie=ke.name,he=ie.replace("-compat","");if(V._registerComponent(ke)&&"PUBLIC"===ke.type){const Oe=(je=ct())=>{if("function"!=typeof je[he])throw Y.create("invalid-app-argument",{appName:ie});return je[he]()};void 0!==ke.serviceProps&&(0,o.ZB)(Oe,ke.serviceProps),re[he]=Oe,Ke.prototype[he]=function(...je){return this._getService.bind(this,ie).apply(this,ke.multipleInstances?je:[])}}return"PUBLIC"===ke.type?re[he]:null},removeApp:function We(ke){delete de[ke]},useAsService:function Fe(ke,ie){return"serverAuth"===ie?null:ie},modularAPIs:V}};function ct(ke){if(!(0,o.r3)(de,ke=ke||V._DEFAULT_ENTRY_NAME))throw Y.create("no-app",{appName:ke});return de[ke]}return re.default=re,Object.defineProperty(re,"apps",{get:function Te(){return Object.keys(de).map(ke=>de[ke])}}),ct.App=Ke,re}(J);return Ke.INTERNAL=Object.assign(Object.assign({},Ke.INTERNAL),{createFirebaseNamespace:ae,extendNamespace:function de(re){(0,o.ZB)(Ke,re)},createSubscribe:o.ne,ErrorFactory:o.LL,deepExtend:o.ZB}),Ke}(),L=new ee.Yd("@firebase/app-compat");if((0,o.jU)()&&void 0!==self.firebase){L.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ke=self.firebase.SDK_VERSION;Ke&&Ke.indexOf("LITE")>=0&&L.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const pe=P;!function we(Ke){(0,V.registerVersion)("@firebase/app-compat","0.2.5",Ke)}()},9681:(it,ye,x)=>{x.r(ye),x.d(ye,{FirebaseError:()=>ee.ZR,SDK_VERSION:()=>ki,_DEFAULT_ENTRY_NAME:()=>De,_addComponent:()=>nn,_addOrOverwriteComponent:()=>ze,_apps:()=>dt,_clearComponents:()=>Ur,_components:()=>Nt,_getProvider:()=>Bt,_registerComponent:()=>Wt,_removeServiceInstance:()=>Zt,deleteApp:()=>Vs,getApp:()=>ti,getApps:()=>as,initializeApp:()=>co,onLog:()=>Fo,registerVersion:()=>Nr,setLogLevel:()=>ur});var o=x(5861),z=x(4859),V=x(1877),ee=x(2090),J=x(8766);class oe{constructor(_e){this.container=_e}getPlatformInfoString(){return this.container.getProviders().map(Je=>{if(function Y(Ye){return"VERSION"===Ye.getComponent()?.type}(Je)){const At=Je.getImmediate();return`${At.library}/${At.version}`}return null}).filter(Je=>Je).join(" ")}}const se="@firebase/app",P=new V.Yd("@firebase/app"),De="[DEFAULT]",me={[se]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},dt=new Map,Nt=new Map;function nn(Ye,_e){try{Ye.container.addComponent(_e)}catch(Je){P.debug(`Component ${_e.name} failed to register with FirebaseApp ${Ye.name}`,Je)}}function ze(Ye,_e){Ye.container.addOrOverwriteComponent(_e)}function Wt(Ye){const _e=Ye.name;if(Nt.has(_e))return P.debug(`There were multiple attempts to register component ${_e}.`),!1;Nt.set(_e,Ye);for(const Je of dt.values())nn(Je,Ye);return!0}function Bt(Ye,_e){const Je=Ye.container.getProvider("heartbeat").getImmediate({optional:!0});return Je&&Je.triggerHeartbeat(),Ye.container.getProvider(_e)}function Zt(Ye,_e,Je=De){Bt(Ye,_e).clearInstance(Je)}function Ur(){Nt.clear()}const Mn=new ee.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ei{constructor(_e,Je,At){this._isDeleted=!1,this._options=Object.assign({},_e),this._config=Object.assign({},Je),this._name=Je.name,this._automaticDataCollectionEnabled=Je.automaticDataCollectionEnabled,this._container=At,this.container.addComponent(new z.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_e){this.checkDestroyed(),this._automaticDataCollectionEnabled=_e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(_e){this._isDeleted=_e}checkDestroyed(){if(this.isDeleted)throw Mn.create("app-deleted",{appName:this._name})}}const ki="9.18.0";function co(Ye,_e={}){let Je=Ye;"object"!=typeof _e&&(_e={name:_e});const At=Object.assign({name:De,automaticDataCollectionEnabled:!1},_e),Vt=At.name;if("string"!=typeof Vt||!Vt)throw Mn.create("bad-app-name",{appName:String(Vt)});if(Je||(Je=(0,ee.aH)()),!Je)throw Mn.create("no-options");const zt=dt.get(Vt);if(zt){if((0,ee.vZ)(Je,zt.options)&&(0,ee.vZ)(At,zt.config))return zt;throw Mn.create("duplicate-app",{appName:Vt})}const cr=new z.H0(Vt);for(const O of Nt.values())cr.addComponent(O);const F=new ei(Je,At,cr);return dt.set(Vt,F),F}function ti(Ye=De){const _e=dt.get(Ye);if(!_e&&Ye===De)return co();if(!_e)throw Mn.create("no-app",{appName:Ye});return _e}function as(){return Array.from(dt.values())}function Vs(Ye){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,o.Z)(function*(Ye){const _e=Ye.name;dt.has(_e)&&(dt.delete(_e),yield Promise.all(Ye.container.getProviders().map(Je=>Je.delete())),Ye.isDeleted=!0)})).apply(this,arguments)}function Nr(Ye,_e,Je){var At;let Vt=null!==(At=me[Ye])&&void 0!==At?At:Ye;Je&&(Vt+=`-${Je}`);const zt=Vt.match(/\s|\//),cr=_e.match(/\s|\//);if(zt||cr){const F=[`Unable to register library "${Vt}" with version "${_e}":`];return zt&&F.push(`library name "${Vt}" contains illegal characters (whitespace or "/")`),zt&&cr&&F.push("and"),cr&&F.push(`version name "${_e}" contains illegal characters (whitespace or "/")`),void P.warn(F.join(" "))}Wt(new z.wA(`${Vt}-version`,()=>({library:Vt,version:_e}),"VERSION"))}function Fo(Ye,_e){if(null!==Ye&&"function"!=typeof Ye)throw Mn.create("invalid-log-argument");(0,V.Am)(Ye,_e)}function ur(Ye){(0,V.Ub)(Ye)}const En="firebase-heartbeat-store";let Xn=null;function Tn(){return Xn||(Xn=(0,J.X3)("firebase-heartbeat-database",1,{upgrade:(Ye,_e)=>{0===_e&&Ye.createObjectStore(En)}}).catch(Ye=>{throw Mn.create("idb-open",{originalErrorMessage:Ye.message})})),Xn}function ht(){return(ht=(0,o.Z)(function*(Ye){try{return(yield Tn()).transaction(En).objectStore(En).get(Hr(Ye))}catch(_e){if(_e instanceof ee.ZR)P.warn(_e.message);else{const Je=Mn.create("idb-get",{originalErrorMessage:_e?.message});P.warn(Je.message)}}})).apply(this,arguments)}function ln(Ye,_e){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,o.Z)(function*(Ye,_e){try{const At=(yield Tn()).transaction(En,"readwrite");return yield At.objectStore(En).put(_e,Hr(Ye)),At.done}catch(Je){if(Je instanceof ee.ZR)P.warn(Je.message);else{const At=Mn.create("idb-set",{originalErrorMessage:Je?.message});P.warn(At.message)}}})).apply(this,arguments)}function Hr(Ye){return`${Ye.name}!${Ye.options.appId}`}class ls{constructor(_e){this.container=_e,this._heartbeatsCache=null;const Je=this.container.getProvider("app").getImmediate();this._storage=new Qt(Je),this._heartbeatsCachePromise=this._storage.read().then(At=>(this._heartbeatsCache=At,At))}triggerHeartbeat(){var _e=this;return(0,o.Z)(function*(){const At=_e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Vt=dn();if(null===_e._heartbeatsCache&&(_e._heartbeatsCache=yield _e._heartbeatsCachePromise),_e._heartbeatsCache.lastSentHeartbeatDate!==Vt&&!_e._heartbeatsCache.heartbeats.some(zt=>zt.date===Vt))return _e._heartbeatsCache.heartbeats.push({date:Vt,agent:At}),_e._heartbeatsCache.heartbeats=_e._heartbeatsCache.heartbeats.filter(zt=>{const cr=new Date(zt.date).valueOf();return Date.now()-cr<=2592e6}),_e._storage.overwrite(_e._heartbeatsCache)})()}getHeartbeatsHeader(){var _e=this;return(0,o.Z)(function*(){if(null===_e._heartbeatsCache&&(yield _e._heartbeatsCachePromise),null===_e._heartbeatsCache||0===_e._heartbeatsCache.heartbeats.length)return"";const Je=dn(),{heartbeatsToSend:At,unsentEntries:Vt}=function Lo(Ye,_e=1024){const Je=[];let At=Ye.slice();for(const Vt of Ye){const zt=Je.find(cr=>cr.agent===Vt.agent);if(zt){if(zt.dates.push(Vt.date),xr(Je)>_e){zt.dates.pop();break}}else if(Je.push({agent:Vt.agent,dates:[Vt.date]}),xr(Je)>_e){Je.pop();break}At=At.slice(1)}return{heartbeatsToSend:Je,unsentEntries:At}}(_e._heartbeatsCache.heartbeats),zt=(0,ee.L)(JSON.stringify({version:2,heartbeats:At}));return _e._heartbeatsCache.lastSentHeartbeatDate=Je,Vt.length>0?(_e._heartbeatsCache.heartbeats=Vt,yield _e._storage.overwrite(_e._heartbeatsCache)):(_e._heartbeatsCache.heartbeats=[],_e._storage.overwrite(_e._heartbeatsCache)),zt})()}}function dn(){return(new Date).toISOString().substring(0,10)}class Qt{constructor(_e){this.app=_e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,o.Z)(function*(){return!!(0,ee.hl)()&&(0,ee.eu)().then(()=>!0).catch(()=>!1)})()}read(){var _e=this;return(0,o.Z)(function*(){return(yield _e._canUseIndexedDBPromise)&&(yield function mt(Ye){return ht.apply(this,arguments)}(_e.app))||{heartbeats:[]}})()}overwrite(_e){var Je=this;return(0,o.Z)(function*(){var At;if(yield Je._canUseIndexedDBPromise){const zt=yield Je.read();return ln(Je.app,{lastSentHeartbeatDate:null!==(At=_e.lastSentHeartbeatDate)&&void 0!==At?At:zt.lastSentHeartbeatDate,heartbeats:_e.heartbeats})}})()}add(_e){var Je=this;return(0,o.Z)(function*(){var At;if(yield Je._canUseIndexedDBPromise){const zt=yield Je.read();return ln(Je.app,{lastSentHeartbeatDate:null!==(At=_e.lastSentHeartbeatDate)&&void 0!==At?At:zt.lastSentHeartbeatDate,heartbeats:[...zt.heartbeats,..._e.heartbeats]})}})()}}function xr(Ye){return(0,ee.L)(JSON.stringify({version:2,heartbeats:Ye})).length}!function $r(Ye){Wt(new z.wA("platform-logger",_e=>new oe(_e),"PRIVATE")),Wt(new z.wA("heartbeat",_e=>new ls(_e),"PRIVATE")),Nr(se,"0.9.5",Ye),Nr(se,"0.9.5","esm2017"),Nr("fire-js","")}("")},4859:(it,ye,x)=>{x.d(ye,{H0:()=>se,wA:()=>V});var o=x(5861),z=x(2090);class V{constructor(P,L,G){this.name=P,this.instanceFactory=L,this.type=G,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(P){return this.instantiationMode=P,this}setMultipleInstances(P){return this.multipleInstances=P,this}setServiceProps(P){return this.serviceProps=P,this}setInstanceCreatedCallback(P){return this.onInstanceCreated=P,this}}const ee="[DEFAULT]";class J{constructor(P,L){this.name=P,this.container=L,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(P){const L=this.normalizeInstanceIdentifier(P);if(!this.instancesDeferred.has(L)){const G=new z.BH;if(this.instancesDeferred.set(L,G),this.isInitialized(L)||this.shouldAutoInitialize())try{const xe=this.getOrInitializeService({instanceIdentifier:L});xe&&G.resolve(xe)}catch{}}return this.instancesDeferred.get(L).promise}getImmediate(P){var L;const G=this.normalizeInstanceIdentifier(P?.identifier),xe=null!==(L=P?.optional)&&void 0!==L&&L;if(!this.isInitialized(G)&&!this.shouldAutoInitialize()){if(xe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:G})}catch(we){if(xe)return null;throw we}}getComponent(){return this.component}setComponent(P){if(P.name!==this.name)throw Error(`Mismatching Component ${P.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=P,this.shouldAutoInitialize()){if(function Y(ae){return"EAGER"===ae.instantiationMode}(P))try{this.getOrInitializeService({instanceIdentifier:ee})}catch{}for(const[L,G]of this.instancesDeferred.entries()){const xe=this.normalizeInstanceIdentifier(L);try{const we=this.getOrInitializeService({instanceIdentifier:xe});G.resolve(we)}catch{}}}}clearInstance(P=ee){this.instancesDeferred.delete(P),this.instancesOptions.delete(P),this.instances.delete(P)}delete(){var P=this;return(0,o.Z)(function*(){const L=Array.from(P.instances.values());yield Promise.all([...L.filter(G=>"INTERNAL"in G).map(G=>G.INTERNAL.delete()),...L.filter(G=>"_delete"in G).map(G=>G._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(P=ee){return this.instances.has(P)}getOptions(P=ee){return this.instancesOptions.get(P)||{}}initialize(P={}){const{options:L={}}=P,G=this.normalizeInstanceIdentifier(P.instanceIdentifier);if(this.isInitialized(G))throw Error(`${this.name}(${G}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const xe=this.getOrInitializeService({instanceIdentifier:G,options:L});for(const[we,pe]of this.instancesDeferred.entries())G===this.normalizeInstanceIdentifier(we)&&pe.resolve(xe);return xe}onInit(P,L){var G;const xe=this.normalizeInstanceIdentifier(L),we=null!==(G=this.onInitCallbacks.get(xe))&&void 0!==G?G:new Set;we.add(P),this.onInitCallbacks.set(xe,we);const pe=this.instances.get(xe);return pe&&P(pe,xe),()=>{we.delete(P)}}invokeOnInitCallbacks(P,L){const G=this.onInitCallbacks.get(L);if(G)for(const xe of G)try{xe(P,L)}catch{}}getOrInitializeService({instanceIdentifier:P,options:L={}}){let G=this.instances.get(P);if(!G&&this.component&&(G=this.component.instanceFactory(this.container,{instanceIdentifier:(ae=P,ae===ee?void 0:ae),options:L}),this.instances.set(P,G),this.instancesOptions.set(P,L),this.invokeOnInitCallbacks(G,P),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,P,G)}catch{}var ae;return G||null}normalizeInstanceIdentifier(P=ee){return this.component?this.component.multipleInstances?P:ee:P}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class se{constructor(P){this.name=P,this.providers=new Map}addComponent(P){const L=this.getProvider(P.name);if(L.isComponentSet())throw new Error(`Component ${P.name} has already been registered with ${this.name}`);L.setComponent(P)}addOrOverwriteComponent(P){this.getProvider(P.name).isComponentSet()&&this.providers.delete(P.name),this.addComponent(P)}getProvider(P){if(this.providers.has(P))return this.providers.get(P);const L=new J(P,this);return this.providers.set(P,L),L}getProviders(){return Array.from(this.providers.values())}}},1877:(it,ye,x)=>{x.d(ye,{Am:()=>ae,Ub:()=>se,Yd:()=>Y,in:()=>z});const o=[];var z=(()=>{return(P=z||(z={}))[P.DEBUG=0]="DEBUG",P[P.VERBOSE=1]="VERBOSE",P[P.INFO=2]="INFO",P[P.WARN=3]="WARN",P[P.ERROR=4]="ERROR",P[P.SILENT=5]="SILENT",z;var P})();const V={debug:z.DEBUG,verbose:z.VERBOSE,info:z.INFO,warn:z.WARN,error:z.ERROR,silent:z.SILENT},ee=z.INFO,J={[z.DEBUG]:"log",[z.VERBOSE]:"log",[z.INFO]:"info",[z.WARN]:"warn",[z.ERROR]:"error"},oe=(P,L,...G)=>{if(L<P.logLevel)return;const xe=(new Date).toISOString(),we=J[L];if(!we)throw new Error(`Attempted to log a message with an invalid logType (value: ${L})`);console[we](`[${xe}]  ${P.name}:`,...G)};class Y{constructor(L){this.name=L,this._logLevel=ee,this._logHandler=oe,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(L){if(!(L in z))throw new TypeError(`Invalid value "${L}" assigned to \`logLevel\``);this._logLevel=L}setLogLevel(L){this._logLevel="string"==typeof L?V[L]:L}get logHandler(){return this._logHandler}set logHandler(L){if("function"!=typeof L)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=L}get userLogHandler(){return this._userLogHandler}set userLogHandler(L){this._userLogHandler=L}debug(...L){this._userLogHandler&&this._userLogHandler(this,z.DEBUG,...L),this._logHandler(this,z.DEBUG,...L)}log(...L){this._userLogHandler&&this._userLogHandler(this,z.VERBOSE,...L),this._logHandler(this,z.VERBOSE,...L)}info(...L){this._userLogHandler&&this._userLogHandler(this,z.INFO,...L),this._logHandler(this,z.INFO,...L)}warn(...L){this._userLogHandler&&this._userLogHandler(this,z.WARN,...L),this._logHandler(this,z.WARN,...L)}error(...L){this._userLogHandler&&this._userLogHandler(this,z.ERROR,...L),this._logHandler(this,z.ERROR,...L)}}function se(P){o.forEach(L=>{L.setLogLevel(P)})}function ae(P,L){for(const G of o){let xe=null;L&&L.level&&(xe=V[L.level]),G.userLogHandler=null===P?null:(we,pe,...Ke)=>{const de=Ke.map(re=>{if(null==re)return null;if("string"==typeof re)return re;if("number"==typeof re||"boolean"==typeof re)return re.toString();if(re instanceof Error)return re.message;try{return JSON.stringify(re)}catch{return null}}).filter(re=>re).join(" ");pe>=(xe??we.logLevel)&&P({level:z[pe].toLowerCase(),message:de,args:Ke,type:we.name})}}}},259:(it,ye,x)=>{x.d(ye,{C6:()=>o.getApps,KN:()=>o.registerVersion,Mq:()=>o.getApp,ZF:()=>o.initializeApp});var o=x(9681);(0,o.registerVersion)("firebase","9.18.0","app")},9260:(it,ye,x)=>{x.d(ye,{Z:()=>o.Z});var o=x(3942);o.Z.registerVersion("firebase","9.18.0","app-compat")},8766:(it,ye,x)=>{x.d(ye,{Lj:()=>Ce,X3:()=>ct});var o=x(5861);let V,ee;const Y=new WeakMap,se=new WeakMap,ae=new WeakMap,P=new WeakMap,L=new WeakMap;let we={get(ie,he,Oe){if(ie instanceof IDBTransaction){if("done"===he)return se.get(ie);if("objectStoreNames"===he)return ie.objectStoreNames||ae.get(ie);if("store"===he)return Oe.objectStoreNames[1]?void 0:Oe.objectStore(Oe.objectStoreNames[0])}return re(ie[he])},set:(ie,he,Oe)=>(ie[he]=Oe,!0),has:(ie,he)=>ie instanceof IDBTransaction&&("done"===he||"store"===he)||he in ie};function de(ie){return"function"==typeof ie?function Ke(ie){return ie!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function oe(){return ee||(ee=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ie)?function(...he){return ie.apply(We(this),he),re(Y.get(this))}:function(...he){return re(ie.apply(We(this),he))}:function(he,...Oe){const je=ie.call(We(this),he,...Oe);return ae.set(je,he.sort?he.sort():[he]),re(je)}}(ie):(ie instanceof IDBTransaction&&function xe(ie){if(se.has(ie))return;const he=new Promise((Oe,je)=>{const Et=()=>{ie.removeEventListener("complete",Ge),ie.removeEventListener("error",X),ie.removeEventListener("abort",X)},Ge=()=>{Oe(),Et()},X=()=>{je(ie.error||new DOMException("AbortError","AbortError")),Et()};ie.addEventListener("complete",Ge),ie.addEventListener("error",X),ie.addEventListener("abort",X)});se.set(ie,he)}(ie),((ie,he)=>he.some(Oe=>ie instanceof Oe))(ie,function J(){return V||(V=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ie,we):ie)}function re(ie){if(ie instanceof IDBRequest)return function G(ie){const he=new Promise((Oe,je)=>{const Et=()=>{ie.removeEventListener("success",Ge),ie.removeEventListener("error",X)},Ge=()=>{Oe(re(ie.result)),Et()},X=()=>{je(ie.error),Et()};ie.addEventListener("success",Ge),ie.addEventListener("error",X)});return he.then(Oe=>{Oe instanceof IDBCursor&&Y.set(Oe,ie)}).catch(()=>{}),L.set(he,ie),he}(ie);if(P.has(ie))return P.get(ie);const he=de(ie);return he!==ie&&(P.set(ie,he),L.set(he,ie)),he}const We=ie=>L.get(ie);function ct(ie,he,{blocked:Oe,upgrade:je,blocking:Et,terminated:Ge}={}){const X=indexedDB.open(ie,he),le=re(X);return je&&X.addEventListener("upgradeneeded",fe=>{je(re(X.result),fe.oldVersion,fe.newVersion,re(X.transaction))}),Oe&&X.addEventListener("blocked",()=>Oe()),le.then(fe=>{Ge&&fe.addEventListener("close",()=>Ge()),Et&&fe.addEventListener("versionchange",()=>Et())}).catch(()=>{}),le}function Ce(ie,{blocked:he}={}){const Oe=indexedDB.deleteDatabase(ie);return he&&Oe.addEventListener("blocked",()=>he()),re(Oe).then(()=>{})}const Te=["get","getKey","getAll","getAllKeys","count"],ge=["put","add","delete","clear"],Fe=new Map;function ke(ie,he){if(!(ie instanceof IDBDatabase)||he in ie||"string"!=typeof he)return;if(Fe.get(he))return Fe.get(he);const Oe=he.replace(/FromIndex$/,""),je=he!==Oe,Et=ge.includes(Oe);if(!(Oe in(je?IDBIndex:IDBObjectStore).prototype)||!Et&&!Te.includes(Oe))return;const Ge=function(){var X=(0,o.Z)(function*(le,...fe){const Ee=this.transaction(le,Et?"readwrite":"readonly");let De=Ee.store;return je&&(De=De.index(fe.shift())),(yield Promise.all([De[Oe](...fe),Et&&Ee.done]))[0]});return function(fe){return X.apply(this,arguments)}}();return Fe.set(he,Ge),Ge}!function pe(ie){we=ie(we)}(ie=>({...ie,get:(he,Oe,je)=>ke(he,Oe)||ie.get(he,Oe,je),has:(he,Oe)=>!!ke(he,Oe)||ie.has(he,Oe)}))},5861:(it,ye,x)=>{function o(V,ee,J,oe,Y,se,ae){try{var P=V[se](ae),L=P.value}catch(G){return void J(G)}P.done?ee(L):Promise.resolve(L).then(oe,Y)}function z(V){return function(){var ee=this,J=arguments;return new Promise(function(oe,Y){var se=V.apply(ee,J);function ae(L){o(se,oe,Y,ae,P,"next",L)}function P(L){o(se,oe,Y,ae,P,"throw",L)}ae(void 0)})}}x.d(ye,{Z:()=>z})}},it=>{it(it.s=7427)}]);